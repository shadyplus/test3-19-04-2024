var _rsi;void 0===_rsi&&(_rsi={s:{},u:{isIos:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)},clearCartCookies:function(){},getLocaleTranslation:function(e){if(!e)return"";var t="",r=Shopify.locale;return-1<r.indexOf("-")&&(r=r.split("-")[0]),"[object Object]"===Object.prototype.toString.call(e)?e.t&&(e.t[r]?t=e.t[r]:e.t.en&&(t=e.t.en)):"[object String]"===Object.prototype.toString.call(e)&&(t=e),t},getRandomString:function(e){for(var t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=r.length,i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*o));return t},getCookie:function(e){for(var t=e+"=",r=document.cookie.split(";"),o=0;o<r.length;o++){for(var i=r[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null},deleteCookie:function(e){return _rsi.u.getCookie(e)&&(document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"),null},arrayPrepend:function(e,t){t=t.slice();return t.unshift(e),t},scrollTo:function(e,t,r){var o;r<=0||(o=(t-e.scrollTop)/r*10,setTimeout(function(){e.scrollTop=e.scrollTop+o,e.scrollTop!==t&&_rsi.u.scrollTo(e,t,r-10)},10))},queryStringToJSON:function(e){if(!e)return{};var e=e.split("&"),r={};return e.forEach(function(e){var t=e.split("="),e=t[0],t=decodeURIComponent(t[1]||"");r[e]=t}),JSON.parse(JSON.stringify(r))},formatMoney:function(e,t,i,r){var o="",s={USD:"$",CAD:"CA$",EUR:"€",AED:"AED ",AOA:"Kz",AFN:"Af",ALL:"ALL",AMD:"AMD",ARS:"AR$",AUD:"AU$",AZN:"man.",BAM:"KM",BDT:"Tk",BGN:"лв",BHD:"BD",BIF:"FBu",BND:"BN$",BOB:"Bs",BRL:"R$",BWP:"BWP",BYN:"Br",BZD:"BZ$",CDF:"CDF",CHF:"CHF",CLP:"CL$",CNY:"CN¥",COP:"$",CRC:"₡",CVE:"CV$",CZK:"Kč",DJF:"Fdj",DKK:"Dkr",DOP:"RD$",DZD:"DA",EEK:"Ekr",EGP:"EGP",ERN:"Nfk",ETB:"Br",GBP:"£",GEL:"GEL",GHS:"GH₵",GNF:"FG",GTQ:"GTQ",HKD:"HK$",HNL:"HNL",HRK:"kn",HUF:"Ft",IDR:"Rp",ILS:"₪",INR:"Rs. ",IQD:"IQD",IRR:"IRR",ISK:"Ikr",JMD:"J$",JOD:"JD",JPY:"¥",KES:"Ksh",KHR:"KHR",KMF:"CF",KRW:"₩",KWD:"KD",KZT:"KZT",LBP:"L.L.",LKR:"SLRs",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"MDL",MGA:"MGA",MKD:"MKD",MMK:"MMK",MOP:"MOP$",MUR:"MURs",MXN:"MX$",MYR:"RM",MZN:"MTn",NAD:"N$",NGN:"₦",NIO:"C$",NOK:"Nkr",NPR:"NPRs",NZD:"NZ$",OMR:"OMR",PAB:"B/.",PEN:"S/. ",PHP:"₱",PKR:"PKRs",PLN:"zł",PYG:"₲",QAR:"QR",RON:"RON",RSD:"din.",RUB:"RUB",RWF:"RWF",SAR:"SR",SDG:"SDG",SEK:"Skr",SGD:"S$",SOS:"Ssh",SYP:"SY£",THB:"฿",TND:"DT",TOP:"T$",TRY:"TL",TTD:"TT$",TWD:"NT$",TZS:"TSh",UAH:"₴",UGX:"USh",UYU:"$U",UZS:"UZS",VEF:"Bs.F.",VND:"₫",XAF:"FCFA",XOF:"CFA",XPF:"XPF",YER:"YR",ZAR:"R",ZMK:"ZK",ZWL:"ZWL$"};r&&(e*=Shopify.currency.rate);function a(e,t){return void 0===e?t:e}function n(e,t,r,o){return t=a(t,2),r=a(r,","),o=a(o,"."),isNaN(e)||null==e?0:(e=(t=(e=(e/100).toFixed(t)).split("."))[0],t=t[1]?o+t[1]:"",_rsi.moneyFormatV2&&r&&!i&&3<e.length&&(e=e.slice(0,e.length-3)+r+e.slice(e.length-3)),e+t)}switch(!i&&_rsi.moneyFormatType&&(t=_rsi.moneyFormatType),t){case"amount":o=n(e,2);break;case"amount_no_decimals":o=n(e,0,".","");break;case"amount_with_comma_separator":o=n(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":o=n(e,0,",","");break;case"amount_no_decimals_with_space_separator":o=n(e,0," ","")}var c=s[Shopify.currency.active]+t,r=!1;_rsi.moneyFormat&&!i&&(c=_rsi.moneyFormat,r=!0),"BGN"!=Shopify.currency.active||r||(c=t+" "+s[Shopify.currency.active]),"amount_with_comma_separator"!=t||r||"INR"!=Shopify.currency.active&&"PHP"!=Shopify.currency.active||(o=o.replace(",",".")),i&&(c=t);t=c.replace(t,o);return"COP"==Shopify.currency.active&&-1<t.indexOf("$")&&!r&&(t=(t=t.replace(",00","")).replace(".00","")),t},generateBuyButton:function(e){var t="";_rsi.s.buyNowButton.style.fontSizeFactor&&(t="font-size: calc("+_rsi.s.buyNowButton.style.fontSizeFactor+" * 16px) !important;");var r,o=_rsi.btnIconData,i="";try{_rsi.s.buyNowButton.iconType&&"none"!=_rsi.s.buyNowButton.iconType&&o[_rsi.s.buyNowButton.iconType]&&(i=o[_rsi.s.buyNowButton.iconType].svgComponent,r=o[_rsi.s.buyNowButton.iconType].initialWidth*_rsi.s.buyNowButton.style.fontSizeFactor,i=i.replace("{color}",_rsi.s.buyNowButton.style.color).replace("{width}",r))}catch(e){console.log(e)}var s="button";_rsi.moneyFormatV2&&(s="div");var a="button"==s?'type="button"':"";return"<"+s+' id="_rsi-buy-now-button" style="background: '+_rsi.s.buyNowButton.style.bgColor+" !important; color: "+_rsi.s.buyNowButton.style.color+" !important; border-radius: "+_rsi.s.buyNowButton.style.borderRadius+"px !important; border: "+_rsi.s.buyNowButton.style.borderWidth+"px solid "+_rsi.s.buyNowButton.style.borderColor+" !important; box-shadow: 0 2px 7px 0px rgba(0, 0, 0, "+_rsi.s.buyNowButton.style.shadowOpacity+") !important; "+(t||"")+'" class="_rsi-buy-now-button'+(_rsi.s.buyNowButton.shakerEnabled||_rsi.s.buyNowButton.shakerType&&"none"!=_rsi.s.buyNowButton.shakerType?" _rsi-buy-now-button-shaker":"")+(_rsi.s.buyNowButton.subt?" _rsi-buy-now-button-with-subtitle":"")+(e?" "+e:"")+'" '+(_rsi.s.buyNowButton.shakerType?'data-animation-type="'+_rsi.s.buyNowButton.shakerType+'"':"")+" "+a+"><span>"+_rsi.s.buyNowButton.text+(_rsi.s.buyNowButton.subt?'<span class="_rsi-buy-now-button-subtitle">'+_rsi.s.buyNowButton.subt+"</span>":"")+"</span>"+(i||"")+"</"+s+">"},ajax:function(e,t,r,o,i,s,a,n){var c=new XMLHttpRequest;c.onreadystatechange=function(){4===c.readyState&&(200<=c.status&&c.status<300?"function"==typeof o&&o(c.responseText,t):a?setTimeout(function(){_rsi.u.ajax(e,t,r,o,i,s,!1,n)},2e3):"function"==typeof i&&i(c.responseText,c.status))},c.open(e,t,!0);try{n||t==_rsi.visiblity.getCountryEndpoint||c.setRequestHeader("Cache-Control","no-cache, no-store, max-age=0")}catch(e){console.log(e)}s&&Object.keys(s).forEach(function(e){c.setRequestHeader(e,s[e])}),c.send(r)},isValidStatus:function(e){return!(_rsi.statusesPriority.indexOf(_rsi.s.currentStatus)>=_rsi.statusesPriority.indexOf(e))},isValidPage:function(e){return!(_rsi.pagesPriority.indexOf(_rsi.s.form.currentPage)>=_rsi.pagesPriority.indexOf(e))},serializeForm:function(t,r,e){function o(e){var t;i+=i?"&"+_rsi.u.serialize(e):_rsi.u.serialize(e),e.getAttribute("id")&&(t=document.createElement("form"),document.querySelectorAll('[form="'+e.getAttribute("id")+'"]').forEach(function(e){t.appendChild(e.cloneNode())}),i+=i?"&"+_rsi.u.serialize(t):_rsi.u.serialize(t))}var i="";return t||r||!e?document.querySelectorAll(t).forEach(function(e){1<document.querySelectorAll(t).length&&r&&!e.querySelector(r)||o(e)}):o(e),i},serialize:function(e){if(e&&"FORM"===e.nodeName){for(var t,r=[],o=e.elements.length-1;0<=o;--o)if(""!==e.elements[o].name&&""!==e.elements[o].value)switch(e.elements[o].nodeName){case"INPUT":switch(e.elements[o].type){case"text":case"email":case"number":case"hidden":case"password":case"button":case"reset":case"submit":r.push(e.elements[o].name+"="+encodeURIComponent(e.elements[o].value));break;case"checkbox":case"radio":e.elements[o].checked&&r.push(e.elements[o].name+"="+encodeURIComponent(e.elements[o].value))}break;case"TEXTAREA":r.push(e.elements[o].name+"="+encodeURIComponent(e.elements[o].value));break;case"SELECT":switch(e.elements[o].type){case"select-one":r.push(e.elements[o].name+"="+encodeURIComponent(e.elements[o].value));break;case"select-multiple":for(t=e.elements[o].options.length-1;0<=t;--t)e.elements[o].options[t].selected&&r.push(e.elements[o].name+"="+encodeURIComponent(e.elements[o].options[t].value))}break;case"BUTTON":switch(e.elements[o].type){case"reset":case"submit":case"button":r.push(e.elements[o].name+"="+encodeURIComponent(e.elements[o].value))}}return r.join("&")}},serializeArray:function(e){var r=[];return Array.prototype.slice.call(e.elements).forEach(function(t){if(!(!t.name||t.disabled||-1<["file","reset","submit","button"].indexOf(t.type)))if("select-multiple"!==t.type){if(!(-1<["checkbox","radio"].indexOf(t.type))||t.checked){var e={name:t.name,value:t.value};try{t.getAttribute("data-type")&&(e.dataType=t.getAttribute("data-type"))}catch(e){console.log(e)}r.push(e)}}else Array.prototype.slice.call(t.options).forEach(function(e){e.selected&&r.push({name:t.name,value:e.value})})}),r},sendReport:function(e,t){try{e.loc=window.location.href,e.usAg=navigator.userAgent,e.shop=Shopify.shop;var r=_rsi.s.reportPostUrl;e.isCritical&&(r="https://jmarrqntic.execute-api.eu-west-3.amazonaws.com/prod/api/send-report"),_rsi.u.ajax("POST",r,JSON.stringify(e),function(e){"function"==typeof t&&t()},function(){"function"==typeof t&&t()},{"Content-Type":"application/json"},!1)}catch(e){console.log(e)}}},statusesPriority:["initiated","built"],pagesPriority:["closed","upsells","loading","init","init_submitting","confirmation"],btnIconData:{cart1:{svgComponent:'<svg xmlns="http://www.w3.org/2000/svg" width="{width}px" viewBox="0 0 24 24" class="_rsi-button-icon _rsi-button-icon-left" fill="{color}"><path d="M0 0h24v24H0V0z" fill="none" /><path d="M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z" /></svg>',initialWidth:23},cart2:{svgComponent:'<svg xmlns="http://www.w3.org/2000/svg" width="{width}px" viewBox="0 0 24 24" class="_rsi-button-icon _rsi-button-icon-left" fill="{color}"><path d="M0 0h24v24H0V0z" fill="none" /><g><rect fill="none" height="24" width="24" /><path d="M18,6h-2c0-2.21-1.79-4-4-4S8,3.79,8,6H6C4.9,6,4,6.9,4,8v12c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V8C20,6.9,19.1,6,18,6z M12,4c1.1,0,2,0.9,2,2h-4C10,4.9,10.9,4,12,4z M18,20H6V8h2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V8h4v2c0,0.55,0.45,1,1,1s1-0.45,1-1V8 h2V20z" /></g></svg>',initialWidth:23},cart3:{svgComponent:'<svg xmlns="http://www.w3.org/2000/svg" width="{width}px" viewBox="0 0 24 24" class="_rsi-button-icon _rsi-button-icon-left" fill="{color}"><path d="M0 0h24v24H0V0z" fill="none" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M22 9h-4.79l-4.38-6.56c-.19-.28-.51-.42-.83-.42s-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1zM12 4.8L14.8 9H9.2L12 4.8zM18.5 19l-12.99.01L3.31 11H20.7l-2.2 8zM12 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" /></svg>',initialWidth:23},card1:{svgComponent:'<svg xmlns="http://www.w3.org/2000/svg" width="{width}px" viewBox="0 0 24 24" class="_rsi-button-icon _rsi-button-icon-left" fill="{color}"><path d="M0 0h24v24H0V0z" fill="none" /><path d="M0 0h24v24H0V0z" fill="none"/><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/></svg>',initialWidth:23},coupon1:{svgComponent:'<svg xmlns="http://www.w3.org/2000/svg" width="{width}px" viewBox="0 0 24 24" class="_rsi-button-icon _rsi-button-icon-left" fill="{color}"><path d="M0 0h24v24H0V0z" fill="none" /><path d="M0 0h24v24H0V0z" fill="none" /><g><path d="M0,0h24v24H0V0z" fill="none"/></g><g><path d="M21.41,11.41l-8.83-8.83C12.21,2.21,11.7,2,11.17,2H4C2.9,2,2,2.9,2,4v7.17c0,0.53,0.21,1.04,0.59,1.41l8.83,8.83 c0.78,0.78,2.05,0.78,2.83,0l7.17-7.17C22.2,13.46,22.2,12.2,21.41,11.41z M6.5,8C5.67,8,5,7.33,5,6.5S5.67,5,6.5,5S8,5.67,8,6.5 S7.33,8,6.5,8z"/></g></svg>',initialWidth:22},"right-arrow":{svgComponent:'<svg xmlns="http://www.w3.org/2000/svg" width="{width}px" viewBox="0 0 24 24" class="_rsi-button-icon _rsi-button-icon-right" fill="{color}"><rect fill="none" height="24" width="24" /><path d="M14.29,5.71L14.29,5.71c-0.39,0.39-0.39,1.02,0,1.41L18.17,11H3c-0.55,0-1,0.45-1,1v0c0,0.55,0.45,1,1,1h15.18l-3.88,3.88 c-0.39,0.39-0.39,1.02,0,1.41l0,0c0.39,0.39,1.02,0.39,1.41,0l5.59-5.59c0.39-0.39,0.39-1.02,0-1.41L15.7,5.71 C15.32,5.32,14.68,5.32,14.29,5.71z" /></svg>',initialWidth:24},van1:{svgComponent:'<svg xmlns="http://www.w3.org/2000/svg" width="{width}px" viewBox="0 0 24 24" class="_rsi-button-icon _rsi-button-icon-left" fill="{color}"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M19.5 8H17V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2 0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h1c.55 0 1-.45 1-1v-3.33c0-.43-.14-.85-.4-1.2L20.3 8.4c-.19-.25-.49-.4-.8-.4zM6 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm13.5-8.5l1.96 2.5H17V9.5h2.5zM18 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"/></svg>',initialWidth:23}},init:function(){if(console.log("%cReleasit COD Order Form","color: #ff6608; font-family: sans-serif; font-size: 20px; font-weight: 700"),console.log("%chttps://apps.shopify.com/releasit-cod-order-form","font-family: sans-serif; font-size: 14px; font-weight: 700"),window._RSI_COD_FORM_SETTINGS&&(_rsi.s=window._RSI_COD_FORM_SETTINGS),_rsi.u.isValidStatus("initiated")){if(_rsi.s.form.currentStatus="initiated",_rsi.s.form.customJs)try{var e=document.createElement("script");e.type="text/javascript",e.innerHTML=_rsi.s.form.customJs,document.querySelector("head").insertAdjacentElement("beforeend",e)}catch(e){console.log("ERROR: error while adding customJs",e)}if("function"!=typeof _COD_FORM_OVERWRITE_INIT||_COD_FORM_OVERWRITE_INIT()){var t="_STYLE_CSS";-1==t.indexOf("_CSS")&&document.querySelector("head").insertAdjacentHTML("beforeend",t);try{window.Shopify&&window.Shopify.routes&&window.Shopify.routes.root&&"/"!=window.Shopify.routes.root&&(_rsi.rootShopifyRoute=window.Shopify.routes.root),_rsi.s.form.postUrl&&0==_rsi.s.form.postUrl.indexOf("/apps")&&(_rsi.s.form.postUrl=_rsi.rootShopifyRoute+_rsi.s.form.postUrl.replace("/apps","apps")),_rsi.s.upsells.postUrl&&0==_rsi.s.upsells.postUrl.indexOf("/apps")&&(_rsi.s.upsells.postUrl=_rsi.rootShopifyRoute+_rsi.s.upsells.postUrl.replace("/apps","apps")),_rsi.s.reportPostUrl&&0==_rsi.s.reportPostUrl.indexOf("/apps")&&(_rsi.s.reportPostUrl=_rsi.rootShopifyRoute+_rsi.s.reportPostUrl.replace("/apps","apps")),0==_rsi.metrics.postUrl.indexOf("/apps")&&(_rsi.metrics.postUrl=_rsi.rootShopifyRoute+_rsi.metrics.postUrl.replace("/apps","apps")),-1<window.location.search.indexOf("rsi_open_form=true")&&(_rsi.autoOpen=!0)}catch(e){console.log("ERROR: error while generating Shopify routes",e)}if(_rsi.s.form.customCss)try{var r=document.createElement("style");r.innerHTML=_rsi.s.form.customCss,document.querySelector("head").insertAdjacentElement("beforeend",r)}catch(e){console.log("ERROR: error while adding customCss",e)}if(_rsi.icons.init(),!_rsi.s.testMode&&!document.getElementById("_rsi-cod-form-modal"))if(_rsi.s.cartPage.isEnabled||_rsi.s.productPage.isEnabled){var o=!1;try{_rsi.s.form.fields.isV2&&"function"!=typeof _COD_FORM_ON_OPEN_INIT_END&&(_rsi.s.upsells.isEnabled&&!_rsi.s.upsells.isPostPurchase||(_rsi.form.deferLoading=!0)),_rsi.s.form.hasEmbeddedV2&&(_rsi.form.hasEmbeddedV2=!0),document.querySelector('._rsi-cod-form-pagefly-button-hook-v2, ._rsi-cod-form-pagefly-button-overwrite-v2, ._rsi-cod-form-is-gempage, ._rsi-cod-form-gempages-button-hook, [href="/rsi-cf-overwrite"], [href="/rsi-cf-hook"], [href="/rsi-btn-hook"], [href="/rsi-embed-hook"], .rsi-app-block-container')&&(_rsi.s.visiblity.isEnabledOnlyForProducts=!1,_rsi.s.visiblity.isExcludedForProducts=!1,o=_rsi.s.productPage.isEnabled=!0)}catch(e){console.log(e)}_rsi.calculateMoneyFormat(),_rsi.form.normalizeLabels(),!1===_rsi.s.integrations.codFee&&_rsi.s.codFee.isFeeEnabled&&(_rsi.s.integrations.codFee=_rsi.s.codFee,"percentage"==_rsi.s.integrations.codFee.type&&(_rsi.s.integrations.codFee.percAmount=_rsi.s.integrations.codFee.commission)),_rsi.visiblity.init(),_rsi.mergeLocalization(),_rsi.form.covr.init();try{window.RSI_EMBEDDED_OVERWRITE_PAGES&&window.RSI_EMBEDDED_OVERWRITE_PAGES.forEach(e=>{-1<window.location.pathname.indexOf(e)&&(_rsi.s.form.isEmbedded=!0)})}catch(e){console.log(e)}if(-1<window.location.pathname.indexOf("/cart")&&-1==window.location.pathname.indexOf("/products")&&_rsi.s.cartPage.isEnabled&&_rsi.cartPage.init(),_rsi.s.productPage.isEnabled){try{!1!==_rsi.s.productPage.ignoreHomeV2&&!0!==_rsi.s.productPage.ignoreHomeV2&&!1!==_rsi.s.productPage.ignoreCollectionsV2&&!0!==_rsi.s.productPage.ignoreCollectionsV2||(_rsi.isNonProductPagesEligible=!0)}catch(e){console.log(e)}if(window.__pageflyProducts&&!document.querySelector("._rsi-cod-form-pagefly-button-hook, ._rsi-buy-now-button"))_rsi.isPageFly=!0,window._COD_FORM_EMBEDDED_IS_PRODUCT_PAGE_OVERWRITE=!0;else if(document.querySelector("._rsi-cod-form-pagefly-button-hook-v2, ._rsi-cod-form-pagefly-button-overwrite-v2")&&!window.__pageflyProducts&&-1<window.location.pathname.indexOf("/products"))try{_rsi.mergeMissingPageFlyProduct()&&(_rsi.isPageFly=!0,window._COD_FORM_EMBEDDED_IS_PRODUCT_PAGE_OVERWRITE=!0)}catch(e){console.log(e)}else document.querySelector('.gem-container, ._rsi-cod-form-is-gempage, [href="/rsi-gempages-overwrite"]')?(_rsi.isGemPages=!0,window._COD_FORM_EMBEDDED_IS_PRODUCT_PAGE_OVERWRITE=!0):window.ZipifyPages?(_rsi.isZipify=!0,window._COD_FORM_EMBEDDED_IS_PRODUCT_PAGE_OVERWRITE=!0):(!("/"!=window.location.pathname&&window.location.pathname+"/"!=_rsi.rootShopifyRoute||_rsi.s.productPage.ignoreHome||_rsi.s.productPage.ignoreHomeV2)||-1<window.location.pathname.indexOf("/collections")&&!1===_rsi.s.productPage.ignoreCollectionsV2&&-1==window.location.pathname.indexOf("/products"))&&(_rsi.isHomePage=!0,window._COD_FORM_EMBEDDED_IS_PRODUCT_PAGE_OVERWRITE=!0,_rsi.productPage.init(!0))}-1<window.location.pathname.indexOf("/products")&&_rsi.s.productPage.isEnabled?_rsi.productPage.init():(_rsi.isPageFly||_rsi.isGemPages||_rsi.isZipify||o)&&_rsi.productPage.init(!0),document.querySelector("body").insertAdjacentHTML("beforeend",_rsi.form.generateBaseCode());var i=function(e){document.querySelector('form[method="post"][action$="/cart"]')||document.querySelector('form[method="post"][action$="/checkout"]')||document.querySelector('form[method="post"][action*="/cart?"]')||document.querySelector('form[method="post"][action*="/checkout?"]')?e():window.setTimeout(function(){i(e)},200)};document.querySelectorAll('[name="add"], form[method="post"][action*="/cart/add"] [type="submit"]').forEach(function(e){e.addEventListener("click",function(e){i(function(){window.setTimeout(function(){_rsi.cartPage.init()},_rsi.visiblity.isEnabled?1:1e3)})})}),document.querySelectorAll('a[href*="/cart"]').forEach(function(e){e.addEventListener("click",function(e){i(function(){window.setTimeout(function(){_rsi.cartPage.init()},_rsi.visiblity.isEnabled?1:1e3)})})}),_rsi.upsells.init(),_rsi.tracking.init(),_rsi.abandonedCheckouts.init(),_rsi.messages.otp.firstInit(),_rsi.form.manageStyle(),_rsi.attackMode.init(),_rsi.form.saveUtms(),_rsi.metrics.init(),_rsi.cartPage.startDrawerChecks()}else document.querySelector("#_rsi-buy-now-button-overwrite")&&document.querySelector("#_rsi-buy-now-button-overwrite").remove()}}},mergeLocalization:function(){try{"ES"==_rsi.s.localization.countryCode?_rsi.s.form.fields.items_array.forEach(function(t){var r;"province_country_field"==t.type&&(t.disableDd||(r=[],t.backendFields.options.forEach(function(e){t.rmCanaries&&("TF"==e.value||"GC"==e.value)||t.rmMelilla&&("CE"==e.value||"ML"==e.value)||t.rmBalears&&"PM"==e.value||r.push(e)}),t.backendFields.options=r))}):"PT"==_rsi.s.localization.countryCode&&_rsi.s.form.fields.items_array.forEach(function(t){var r;"province_country_field"==t.type&&(t.disableDd||(r=[],t.backendFields.options.forEach(function(e){t.rmAcoresMadeira&&("PT-20"==e.value||"PT-30"==e.value)||r.push(e)}),t.backendFields.options=r))})}catch(e){}},autoOpen:!1,isPageFly:!1,isZipify:!1,isHomePage:!1,isNonProductPagesEligible:!1,pageFlyProducts:{},isGemPages:!1,rootShopifyRoute:"/",cart:!1,cartFor:{},cartManager:{getCart:function(t,r,o,e){if(e&&_rsi.form.mode){if(0<e.items.length)return _rsi.cartFor[_rsi.form.mode]=e,_rsi.cart=_rsi.cartFor[_rsi.form.mode],void r(_rsi.cart);_rsi.u.sendReport({msg:"Empty cartOverwrite on getCart."})}if(o&&_rsi.form.mode&&_rsi.cartFor[_rsi.form.mode])return _rsi.cart=_rsi.cartFor[_rsi.form.mode],void r(_rsi.cart);function i(e){_rsi.form.mode?(_rsi.cartFor[_rsi.form.mode]=e,_rsi.cart=_rsi.cartFor[_rsi.form.mode]):(_rsi.cartFor.normalCart=e,_rsi.cart=_rsi.cartFor.normalCart),r(e)}_rsi.u.ajax("GET",_rsi.rootShopifyRoute+"cart.js?timestamp="+(new Date).getTime(),null,function(e){(e=JSON.parse(e)).items.length||0!=e.total_price||o||!t?i(e):setTimeout(function(){_rsi.u.ajax("GET",_rsi.rootShopifyRoute+"cart.js?timestamp="+(new Date).getTime(),null,function(e){(e=JSON.parse(e)).items.length||0!=e.total_price?i(e):_rsi.u.sendReport({msg:"Empty cart that requires items."},function(){window.location.reload()})},null,null,!0)},2e3)},null,null,!0)},clearCart:function(t,r){_rsi.u.ajax("POST",_rsi.rootShopifyRoute+"cart/clear.js",null,function(e){"function"==typeof t&&t()},function(e){"function"==typeof r&&r()},null,!0)}},attackMode:{token:"",init:function(){try{var e,t;_rsi.s.general.attackModeSiteId&&(t=document,(e=t.createElement("script")).async=!0,e.src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadTurnstileCallback",(t=t.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t),window.onloadTurnstileCallback=function(){turnstile.render("body",{sitekey:_rsi.s.general.attackModeSiteId,callback:function(e){_rsi.attackMode.token=e,_rsi.attackMode.updateInput()}})})}catch(e){console.log(e)}},updateInput:function(){try{document.querySelector('input[name="rsi_turnstyle_token"]')?document.querySelector('input[name="rsi_turnstyle_token"]').value=_rsi.attackMode.token:document.querySelector("#_rsi-cod-form-modal-form")&&document.querySelector("#_rsi-cod-form-modal-form").insertAdjacentHTML("beforeend",'<input type="hidden" name="rsi_turnstyle_token" value="'+_rsi.attackMode.token+'">')}catch(e){console.log(e)}}},visiblity:{isEnabled:!1,isEnabledForProducts:!1,isEnabledForTotal:!1,totalValues:[0,0],cachedCountry:!1,cachedCollectionsProductIds:!1,getCountryEndpoint:"https://d13jtzxyphp9rk.cloudfront.net/get-country",isValidCountry:{productPage:"loading",cartPage:"loading"},isValidProducts:{productPage:"loading",cartPage:"loading"},isValidTotal:{productPage:"loading",cartPage:"loading"},isValidCollections:{productPage:"loading",cartPage:"loading"},collectionsProductsMaxPages:3,init:function(){if(_rsi.s.visiblity.enabledOnlyForTotal&&!_rsi.s.form.isEmbedded){var e=_rsi.visiblity.totalValues;try{var t=_rsi.s.visiblity.enabledOnlyForTotal.split(",")[0],r=_rsi.s.visiblity.enabledOnlyForTotal.split(",")[1];e[0]=parseInt(t||"0"),e[1]=parseInt(r||"0")}catch(e){console.log(e)}0==e[1]?0<e[0]&&(_rsi.visiblity.isEnabledForTotal=!0,_rsi.visiblity.totalValues=e,_rsi.visiblity.totalValues[1]=1658654523407):0<=e[0]&&0<e[1]&&e[1]>e[0]&&(_rsi.visiblity.isEnabledForTotal=!0,_rsi.visiblity.totalValues=e)}window.RSI_IGNORE_COUNTRIES_VISIBILITY&&(window.RSI_WAS_COUNTRIES_VISIBILITY_ENABLED=!!_rsi.s.visiblity.isEnabledOnlyForCountries,_rsi.s.visiblity.isEnabledOnlyForCountries=!1),(_rsi.s.visiblity.isEnabledOnlyForProducts||_rsi.s.visiblity.isExcludedForProducts||_rsi.s.visiblity.isEnabledOnlyForCountries||_rsi.visiblity.isEnabledForTotal)&&(_rsi.visiblity.isEnabled=!0),(_rsi.s.visiblity.isEnabledOnlyForProducts||_rsi.s.visiblity.isExcludedForProducts)&&0<_rsi.s.visiblity.enabledOnlyForProducts_array.length&&(_rsi.visiblity.isEnabledForProducts=!0)},checkCountry:function(e){var t;_rsi.s.visiblity.isEnabledOnlyForCountries&&_rsi.s.visiblity.enabledOnlyForCountries_array.length?(t=function(t){_rsi.visiblity.cachedCountry=t;var r=!1;_rsi.s.visiblity.enabledOnlyForCountries_array.forEach(function(e){-1<t.indexOf(e)&&(r=!0)}),_rsi.visiblity.isValidCountry[e]=!!r},_rsi.visiblity.cachedCountry?t(_rsi.visiblity.cachedCountry):_rsi.u.ajax("GET",_rsi.visiblity.getCountryEndpoint,null,t,null,null,!1,!0)):_rsi.visiblity.isValidCountry[e]=!0},checkProducts:function(t,r){if(t)s=t;else{if(!_rsi.s.visiblity.isEnabledOnlyForProducts&&!_rsi.s.visiblity.isExcludedForProducts)return void(_rsi.visiblity.isValidProducts[r]=!0);if(!_rsi.s.visiblity.enabledOnlyForProducts_array.length)return void(_rsi.visiblity.isValidProducts[r]=!0);var s=[];if(_rsi.s.visiblity.enabledOnlyForProducts_array.forEach(function(e){-1<e.indexOf("c_")||s.push(e)}),!s.length)return void(_rsi.visiblity.isValidProducts[r]=!!_rsi.s.visiblity.isExcludedForProducts)}if("productPage"==r){function o(e){-1<s.indexOf(e.id+"")?t?_rsi.visiblity.isValidCollections[r]=!_rsi.s.visiblity.isExcludedForProducts:_rsi.visiblity.isValidProducts[r]=!_rsi.s.visiblity.isExcludedForProducts:t?_rsi.visiblity.isValidCollections[r]=!!_rsi.s.visiblity.isExcludedForProducts:_rsi.visiblity.isValidProducts[r]=!!_rsi.s.visiblity.isExcludedForProducts}if(document.querySelector('#rsi-cod-form-product-cache, [id*="ProductJson"]'))try{var e=JSON.parse(document.querySelector('#rsi-cod-form-product-cache, [id*="ProductJson"]').textContent);o(e)}catch(e){console.log(e)}else _rsi.u.ajax("GET",window.location.pathname+".js",null,function(e){e=JSON.parse(e),o(e)},null,null,!0)}else"cartPage"==r&&_rsi.cartManager.getCart(!1,function(e){var o=!0,i=!0;e.items.forEach(function(t){var r=!1;s.forEach(function(e){t.product_id==e&&(r=!0)}),r?i=!1:o=!1}),_rsi.s.visiblity.isExcludedForProducts&&(o=i),o?t?_rsi.visiblity.isValidCollections[r]=!0:_rsi.visiblity.isValidProducts[r]=!0:t?_rsi.visiblity.isValidCollections[r]=!1:_rsi.visiblity.isValidProducts[r]=!1},!0)},checkCollections:function(e){if(_rsi.s.visiblity.isEnabledOnlyForProducts||_rsi.s.visiblity.isExcludedForProducts)if(_rsi.s.visiblity.enabledOnlyForProducts_array.length){var r=[];if(_rsi.s.visiblity.enabledOnlyForProducts_array.forEach(function(e){-1<e.indexOf("c_")&&r.push(e.replace("c_",""))}),r.length){if("productPage"==e&&document.querySelector("#rsi-cod-form-product-collections-cache")&&-1<window.location.pathname.indexOf("/products"))try{var o=JSON.parse(document.querySelector("#rsi-cod-form-product-collections-cache").textContent),i=!1;return r.forEach(t=>{o.forEach(e=>{e.id==t&&(i=!0)})}),void(_rsi.visiblity.isValidCollections[e]=i?!_rsi.s.visiblity.isExcludedForProducts:!!_rsi.s.visiblity.isExcludedForProducts)}catch(e){console.log(e)}if(_rsi.visiblity.cachedCollectionsProductIds)_rsi.visiblity.checkProducts(_rsi.visiblity.cachedCollectionsProductIds,e);else{for(var c=[],l=[],d=[],t=1,u=0;t<=4;)_rsi.u.ajax("GET","/collections.json?limit=250&page="+t,null,function(e){e=JSON.parse(e),u++;var n=e.collections;r.forEach(function(t,e){var r=!1,o="";if(n.forEach(function(e){e.id==t&&(r=!0,o=e.handle)}),r){var i=_rsi.visiblity.collectionsProductsMaxPages,s=1,a=0;for(d.push(t+"");s<=i;)_rsi.u.ajax("GET","/collections/"+o+"/products.json?limit=250&page="+s,null,function(e){e=JSON.parse(e),a++,e.products.forEach(function(e){c.push(e.id+"")}),a==i&&l.indexOf(t+"")<0&&l.push(t+"")},null,null,!0),s++}else 4!=u||-1<d.indexOf(t+"")||l.push(t+"")})},null,null,!0),t++;var s=function(){var t=!0;r.forEach(function(e){-1<l.indexOf(e)||(t=!1)}),t?c.length?(_rsi.visiblity.cachedCollectionsProductIds=c,_rsi.visiblity.checkProducts(c,e)):_rsi.visiblity.isValidCollections[e]=!1:setTimeout(s,200)};setTimeout(s,200)}}else _rsi.visiblity.isValidCollections[e]=!!_rsi.s.visiblity.isExcludedForProducts}else _rsi.visiblity.isValidCollections[e]=!0;else _rsi.visiblity.isValidCollections[e]=!0},checkTotal:function(r){if(_rsi.visiblity.isEnabledForTotal)if(0<=_rsi.visiblity.totalValues[0]&&0<_rsi.visiblity.totalValues[1])if(_rsi.visiblity.totalValues[1]<=_rsi.visiblity.totalValues[0])_rsi.visiblity.isValidTotal[r]=!0;else if("productPage"==r){function e(e,t){!e&&t||e.price>=_rsi.visiblity.totalValues[0]&&e.price<_rsi.visiblity.totalValues[1]?_rsi.visiblity.isValidTotal[r]=!0:_rsi.visiblity.isValidTotal[r]=!1}if(document.querySelector('#rsi-cod-form-product-cache, [id*="ProductJson"]'))try{e(JSON.parse(document.querySelector('#rsi-cod-form-product-cache, [id*="ProductJson"]').textContent))}catch(e){console.log(e),_rsi.visiblity.isValidTotal[r]=!0}else e(null,!0)}else"cartPage"==r&&_rsi.cartManager.getCart(!1,function(e){e.total_price>=_rsi.visiblity.totalValues[0]&&e.total_price<_rsi.visiblity.totalValues[1]?_rsi.visiblity.isValidTotal[r]=!0:_rsi.visiblity.isValidTotal[r]=!1},!0);else _rsi.visiblity.isValidTotal[r]=!0;else _rsi.visiblity.isValidTotal[r]=!0},run:function(t,r){var o;_rsi.visiblity.isEnabled?(_rsi.visiblity.isValidCountry[r]="loading",_rsi.visiblity.isValidCollections[r]="loading",_rsi.visiblity.isValidProducts[r]="loading",_rsi.visiblity.isValidTotal[r]="loading",_rsi.visiblity.checkCountry(r),_rsi.visiblity.checkProducts(!1,r),_rsi.visiblity.checkCollections(r),_rsi.visiblity.checkTotal(r),(o=function(){var e;"loading"!==_rsi.visiblity.isValidCountry[r]&&"loading"!==_rsi.visiblity.isValidCollections[r]&&"loading"!==_rsi.visiblity.isValidProducts[r]&&"loading"!==_rsi.visiblity.isValidTotal[r]?(e=!0===_rsi.visiblity.isValidCollections[r]||!0===_rsi.visiblity.isValidProducts[r],_rsi.s.visiblity.isExcludedForProducts&&(e=!0===_rsi.visiblity.isValidCollections[r]&&!0===_rsi.visiblity.isValidProducts[r]),!0===_rsi.visiblity.isValidCountry[r]&&e&&!0===_rsi.visiblity.isValidTotal[r]&&t()):setTimeout(o,300)})()):t()}},buyButton:{shakerIntervals:[],cleanShakerIntervals:function(){_rsi.buyButton.shakerIntervals.forEach(function(e){clearInterval(e)})},runShaker:function(e){var t=setInterval(function(){document.querySelectorAll(e).forEach(function(e){e.classList.add("_rsi-buy-now-button-shaker-enabled"),setTimeout(function(){e.classList.remove("_rsi-buy-now-button-shaker-enabled")},1e3)})},3e3);_rsi.buyButton.shakerIntervals.push(t)}},icons:{data:[{id:"email",selectors:['._rsi-modal-fields-item._rsi-modal-fields-item-with-icon input[data-type="email"]'],bg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.05 50.86' xmlns='http://www.w3.org/2000/svg'%3e%3cg transform='translate(-171.3 -284.5)'%3e%3crect x='171.3' y='284.5' width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3cpath d='m194.9 301c-5.455-0.3853-9.96 4.12-9.575 9.574 0.3227 4.738 4.46 8.312 9.207 8.312h3.305c0.4926 0 0.8956-0.403 0.8956-0.8956 0-0.4926-0.4031-0.8956-0.8956-0.8956h-3.287c-3.341 0-6.404-2.167-7.237-5.401-1.335-5.195 3.502-10.04 8.697-8.697 3.242 0.824 5.41 3.887 5.41 7.228v0.9852c0 0.7076-0.6359 1.406-1.343 1.406s-1.343-0.6986-1.343-1.406v-1.12c0-2.248-1.594-4.272-3.815-4.586-3.045-0.4389-5.616 2.194-5.069 5.257 0.3045 1.711 1.639 3.126 3.332 3.529 1.648 0.3853 3.215-0.1434 4.245-1.191 0.7971 1.093 2.391 1.666 3.851 1.084 1.2-0.4747 1.935-1.702 1.935-2.991v-0.9763c0-4.756-3.574-8.894-8.312-9.216zm-0.6449 11.62c-1.487 0-2.687-1.2-2.687-2.687 0-1.487 1.2-2.687 2.687-2.687s2.687 1.2 2.687 2.687c0 1.487-1.2 2.687-2.687 2.687z' fill='%231a1a1a'/%3e%3crect x='216.1' y='284.5' width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3c/g%3e%3c/svg%3e ",rtlBg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.05 50.86' xmlns='http://www.w3.org/2000/svg'%3e%3cg transform='translate(1.23)'%3e%3crect x='3.052e-6' width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3cpath d='m23.6 16.5c-5.455-0.3853-9.96 4.12-9.575 9.574 0.3227 4.738 4.46 8.312 9.207 8.312h3.305c0.4926 0 0.8956-0.403 0.8956-0.8956s-0.4031-0.8956-0.8956-0.8956h-3.287c-3.341 0-6.404-2.167-7.237-5.401-1.335-5.195 3.502-10.04 8.697-8.697 3.242 0.824 5.41 3.887 5.41 7.228v0.9852c0 0.7076-0.6359 1.406-1.343 1.406s-1.343-0.6986-1.343-1.406v-1.12c0-2.248-1.594-4.272-3.815-4.586-3.045-0.4389-5.616 2.194-5.069 5.257 0.3045 1.711 1.639 3.126 3.332 3.529 1.648 0.3853 3.215-0.1434 4.245-1.191 0.7971 1.093 2.391 1.666 3.851 1.084 1.2-0.4747 1.935-1.702 1.935-2.991v-0.9763c0-4.756-3.574-8.894-8.312-9.216zm-0.6449 11.62c-1.487 0-2.687-1.2-2.687-2.687s1.2-2.687 2.687-2.687 2.687 1.2 2.687 2.687-1.2 2.687-2.687 2.687z' fill='%231a1a1a'/%3e%3c/g%3e%3crect width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3c/svg%3e"},{id:"date",selectors:['._rsi-modal-fields-item._rsi-modal-fields-item-with-icon[data-icon-type="date"] input'],bg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 12.18 13.46' xmlns='http://www.w3.org/2000/svg'%3e%3cg transform='translate(-181.4 -182.3)'%3e%3crect x='181.4' y='182.3' width='11.86' height='13.46' ry='0' fill='%23e1e1e1' stroke-width='.2646'/%3e%3crect x='193.2' y='182.3' width='.3252' height='13.46' fill='%23c0c0c0' stroke-width='.2646'/%3e%3cpath d='m185.8 186.9c-0.2628 0-0.4712 0.2131-0.4712 0.4735l-2e-3 3.314c0 0.2604 0.2107 0.4735 0.4735 0.4735h3.315c0.2604 0 0.4735-0.2131 0.4735-0.4735v-3.314c0-0.2604-0.2131-0.4735-0.4735-0.4735h-3.078zm0 1.421h3.315v2.368h-3.315zm0.4735 0.4735v0.4735h0.4735v-0.4735zm0.947 0v0.4735h0.4735v-0.4735zm0.947 0v0.4735h0.4735v-0.4735zm-1.894 0.947v0.4735h0.4735v-0.4735zm0.947 0v0.4735h0.4735v-0.4735zm0.947 0v0.4735h0.4735v-0.4735z' fill='%231a1a1a' stroke-width='.2368'/%3e%3c/g%3e%3c/svg%3e ",rtlBg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 12.18 13.46' xmlns='http://www.w3.org/2000/svg'%3e%3cg transform='translate(.32)'%3e%3crect x='-6.104e-6' y='3.052e-6' width='11.86' height='13.46' ry='0' fill='%23e1e1e1' stroke-width='.2646'/%3e%3cpath d='m4.4 4.6c-0.2628 0-0.4712 0.2131-0.4712 0.4735l-2e-3 3.314c0 0.2604 0.2107 0.4735 0.4735 0.4735h3.315c0.2604 0 0.4735-0.2131 0.4735-0.4735v-3.314c0-0.2604-0.2131-0.4735-0.4735-0.4735h-3.078zm0 1.421h3.315v2.368h-3.315zm0.4735 0.4735v0.4735h0.4735v-0.4735zm0.947 0v0.4735h0.4735v-0.4735zm0.947 0v0.4735h0.4735v-0.4735zm-1.894 0.947v0.4735h0.4735v-0.4735zm0.947 0v0.4735h0.4735v-0.4735zm0.947 0v0.4735h0.4735v-0.4735z' fill='%231a1a1a' stroke-width='.2368'/%3e%3c/g%3e%3crect width='.3252' height='13.46' fill='%23c0c0c0' stroke-width='.2646'/%3e%3c/svg%3e"},{id:"person",selectors:['._rsi-modal-fields-item._rsi-modal-fields-item-with-icon input[data-type="first_name"]','._rsi-modal-fields-item._rsi-modal-fields-item-with-icon input[data-type="last_name"]','._rsi-modal-fields-item._rsi-modal-fields-item-with-icon[data-icon-type="person"] input'],bg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.05 50.86' xmlns='http://www.w3.org/2000/svg'%3e%3cg transform='translate(-171.3 -284.5)'%3e%3crect x='171.3' y='284.5' width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3crect x='216.1' y='284.5' width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3cpath d='m194.3 309.9c2.111 0 3.82-1.71 3.82-3.82s-1.71-3.82-3.82-3.82-3.82 1.71-3.82 3.82 1.71 3.82 3.82 3.82zm0 1.91c-2.55 0-7.641 1.28-7.641 3.82v0.9551c0 0.5253 0.4298 0.9551 0.9551 0.9551h13.37c0.5253 0 0.9551-0.4298 0.9551-0.9551v-0.9551c0-2.541-5.091-3.82-7.641-3.82z' fill='%231a1a1a'/%3e%3c/g%3e%3c/svg%3e ",rtlBg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.05 50.86' xmlns='http://www.w3.org/2000/svg'%3e%3cg transform='translate(1.23)'%3e%3crect x='3.052e-6' width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3cpath d='m23 25.4c2.111 0 3.82-1.71 3.82-3.82s-1.71-3.82-3.82-3.82-3.82 1.71-3.82 3.82 1.71 3.82 3.82 3.82zm0 1.91c-2.55 0-7.641 1.28-7.641 3.82v0.9551c0 0.5253 0.4298 0.9551 0.9551 0.9551h13.37c0.5253 0 0.9551-0.4298 0.9551-0.9551v-0.9551c0-2.541-5.091-3.82-7.641-3.82z' fill='%231a1a1a'/%3e%3c/g%3e%3crect width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3c/svg%3e"},{id:"geopin",selectors:['._rsi-modal-fields-item._rsi-modal-fields-item-with-icon input[data-type="address"]','._rsi-modal-fields-item._rsi-modal-fields-item-with-icon input[data-type="city"]','._rsi-modal-fields-item._rsi-modal-fields-item-with-icon input[data-type="civic_number"]','._rsi-modal-fields-item._rsi-modal-fields-item-with-icon input[data-type="province"]','._rsi-modal-fields-item._rsi-modal-fields-item-with-icon input[data-type="zip_code"]','._rsi-modal-fields-item._rsi-modal-fields-item-with-icon input[data-type="barangay_country_field"]','._rsi-modal-fields-item._rsi-modal-fields-item-with-icon input[data-type="pincode_country_field"]','._rsi-modal-fields-item._rsi-modal-fields-item-with-icon input[name="province"]','._rsi-modal-fields-item._rsi-modal-fields-item-with-icon input[name="city"]','._rsi-modal-fields-item._rsi-modal-fields-item-with-icon[data-icon-type="geopin"] input'],bg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.05 50.86' xmlns='http://www.w3.org/2000/svg'%3e%3cg transform='translate(-171.3 -284.5)'%3e%3crect x='171.3' y='284.5' width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3crect x='216.1' y='284.5' width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3cg transform='matrix(.8547 0 0 .8547 184 299.8)' fill='%231a1a1a'%3e%3cpath d='m12 2c-4.2 0-8 3.22-8 8.2 0 3.18 2.45 6.92 7.34 11.23 0.38 0.33 0.95 0.33 1.33 0 4.88-4.31 7.33-8.05 7.33-11.23 0-4.98-3.8-8.2-8-8.2zm0 10c-1.1 0-2-0.9-2-2s0.9-2 2-2 2 0.9 2 2-0.9 2-2 2z' fill='%231a1a1a'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e ",rtlBg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.05 50.86' xmlns='http://www.w3.org/2000/svg'%3e%3cg transform='translate(1.23)'%3e%3crect x='3.052e-6' width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3cg transform='matrix(.8547 0 0 .8547 12.7 15.3)' fill='%231a1a1a'%3e%3cpath d='m12 2c-4.2 0-8 3.22-8 8.2 0 3.18 2.45 6.92 7.34 11.23 0.38 0.33 0.95 0.33 1.33 0 4.88-4.31 7.33-8.05 7.33-11.23 0-4.98-3.8-8.2-8-8.2zm0 10c-1.1 0-2-0.9-2-2s0.9-2 2-2 2 0.9 2 2-0.9 2-2 2z' fill='%231a1a1a'/%3e%3c/g%3e%3c/g%3e%3crect width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3c/svg%3e"},{id:"phone",selectors:['._rsi-modal-fields-item._rsi-modal-fields-item-with-icon input[data-type="phone"]','._rsi-modal-fields-item._rsi-modal-fields-item-with-icon[data-icon-type="phone"] input'],bg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.05 50.86' xmlns='http://www.w3.org/2000/svg'%3e%3cg transform='translate(-171.3 -284.5)'%3e%3crect x='171.3' y='284.5' width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3crect x='216.1' y='284.5' width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3cpath d='m200.6 312.8-2.233-0.2549c-0.5362-0.0615-1.064 0.123-1.441 0.501l-1.617 1.617c-2.487-1.266-4.527-3.296-5.792-5.792l1.626-1.626c0.378-0.378 0.5625-0.9053 0.501-1.441l-0.2549-2.215c-0.1055-0.8878-0.8526-1.556-1.749-1.556h-1.521c-0.9932 0-1.819 0.8262-1.758 1.819 0.4658 7.506 6.469 13.5 13.97 13.97 0.9932 0.0615 1.819-0.7647 1.819-1.758v-1.521c9e-3 -0.8877-0.6592-1.635-1.547-1.74z' fill='%231a1a1a'/%3e%3c/g%3e%3c/svg%3e ",rtlBg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.05 50.86' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='1.23' width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3cpath d='m17.84 28.3 2.233-0.2549c0.5362-0.0615 1.064 0.123 1.441 0.501l1.617 1.617c2.487-1.266 4.527-3.296 5.792-5.792l-1.626-1.626c-0.378-0.378-0.5625-0.9053-0.501-1.441l0.2549-2.215c0.1055-0.8878 0.8526-1.556 1.749-1.556h1.521c0.9932 0 1.819 0.8262 1.758 1.819-0.4658 7.506-6.469 13.5-13.97 13.97-0.9932 0.0615-1.819-0.7647-1.819-1.758v-1.521c-9e-3 -0.8877 0.6592-1.635 1.547-1.74z' fill='%231a1a1a'/%3e%3crect width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3c/svg%3e"},{id:"phone2",selectors:['._rsi-modal-fields-item._rsi-modal-fields-item-with-icon[data-icon-type="phone2"] input'],bg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.05 50.86' xml:space='preserve' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='3.0518e-6' width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3crect x='44.8' width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3cpath d='m27.174 16.302-8.3055-0.0083c-0.91361 0-1.6528 0.7475-1.6528 1.6611v14.95c0 0.91361 0.73919 1.6611 1.6528 1.6611h8.3055c0.91361 0 1.6611-0.7475 1.6611-1.6611v-14.95c0-0.91361-0.7475-1.6528-1.6611-1.6528zm0 14.942h-8.3055v-11.628h8.3055z' fill='%231a1a1a' stroke-width='.83055'/%3e%3c/svg%3e",rtlBg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.05 50.86' xml:space='preserve' xmlns='http://www.w3.org/2000/svg'%3e%3cg transform='translate(1.23)'%3e%3crect x='3.052e-6' width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3cpath d='m27.17 16.3-8.306-0.0083c-0.9136 0-1.653 0.7475-1.653 1.661v14.95c0 0.9136 0.7392 1.661 1.653 1.661h8.306c0.9136 0 1.661-0.7475 1.661-1.661v-14.95c0-0.9136-0.7475-1.653-1.661-1.653zm0 14.94h-8.306v-11.63h8.306z' fill='%231a1a1a' stroke-width='.8306'/%3e%3c/g%3e%3crect width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3c/svg%3e"},{id:"whatsapp",selectors:['._rsi-modal-fields-item._rsi-modal-fields-item-with-icon[data-icon-type="whatsapp"] input'],bg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.05 50.86' xml:space='preserve' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='3.0518e-6' width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3crect x='44.8' width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3cpath d='m29.617 18.799c-1.7487-1.7509-4.0744-2.7157-6.5524-2.7166-5.1062 0-9.2618 4.1552-9.2636 9.2627-8.82e-4 1.6328 0.42596 3.2264 1.2366 4.6309l-1.3143 4.8006 4.9108-1.2881c1.3529 0.73824 2.8764 1.1269 4.4266 1.1273h0.0039c5.1053 0 9.2615-4.1557 9.2632-9.2632 8.83e-4 -2.4753-0.96165-4.8024-2.7108-6.5533zm-6.5524 14.253h-3e-3c-1.3814-4.14e-4 -2.7365-0.37178-3.9189-1.0731l-0.28121-0.16698-2.9142 0.76439 0.77775-2.8414-0.183-0.29137c-0.77063-1.2259-1.1779-2.6428-1.177-4.0974 0.0017-4.245 3.4557-7.6988 7.7028-7.6988 2.0565 8.83e-4 3.9895 0.80262 5.4433 2.2582 1.4538 1.4551 2.2537 3.3899 2.2529 5.4469-0.0018 4.2454-3.4556 7.6993-7.6993 7.6993zm4.2232-5.7662c-0.23142-0.11592-1.3693-0.6756-1.5817-0.75286-0.2123-0.07731-0.36641-0.11591-0.52057 0.11592-0.15411 0.23189-0.59783 0.75333-0.73286 0.90744-0.13504 0.15457-0.27008 0.17369-0.5015 0.05773-0.23137-0.11592-0.97715-0.3602-1.8615-1.1486-0.688-0.61384-1.1527-1.3716-1.2876-1.6035-0.13504-0.23183-0.01422-0.35711 0.10124-0.47214 0.10392-0.10392 0.23142-0.27049 0.34734-0.40552 0.11596-0.13504 0.15416-0.23183 0.23142-0.38599 0.07732-0.15457 0.03867-0.28956-0.01906-0.40553-0.05777-0.11592-0.52056-1.2552-0.71379-1.7185-0.1879-0.45127-0.37886-0.38997-0.52056-0.39752-0.13504-0.0066-0.28915-8e-3 -0.44372-8e-3s-0.40511 0.05774-0.61741 0.2896c-0.2123 0.23183-0.81017 0.79193-0.81017 1.9308s0.82929 2.24 0.94521 2.3946c0.11592 0.15457 1.6323 2.4922 3.954 3.4952 0.55214 0.2385 0.98341 0.38109 1.3196 0.4877 0.55436 0.17633 1.0589 0.15147 1.4578 0.09193 0.44465-0.06661 1.3694-0.5601 1.5622-1.1007 0.19276-0.54056 0.19276-1.0043 0.13504-1.1007-0.05773-0.09638-0.2123-0.15457-0.44372-0.27049z' clip-rule='evenodd' fill='%231a1a1a' fill-rule='evenodd' stroke-width='.05168'/%3e%3c/svg%3e",rtlBg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.05 50.86' xml:space='preserve' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='1.23' width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3cpath d='m30.85 18.8c-1.749-1.751-4.074-2.716-6.552-2.717-5.106 0-9.262 4.155-9.264 9.263-8.82e-4 1.633 0.426 3.226 1.237 4.631l-1.314 4.801 4.911-1.288c1.353 0.7382 2.876 1.127 4.427 1.127h0.0039c5.105 0 9.262-4.156 9.263-9.263 8.83e-4 -2.475-0.9616-4.802-2.711-6.553zm-6.552 14.25h-3e-3c-1.381-4.14e-4 -2.736-0.3718-3.919-1.073l-0.2812-0.167-2.914 0.7644 0.7778-2.841-0.183-0.2914c-0.7706-1.226-1.178-2.643-1.177-4.097 0.0017-4.245 3.456-7.699 7.703-7.699 2.056 8.83e-4 3.99 0.8026 5.443 2.258 1.454 1.455 2.254 3.39 2.253 5.447-0.0018 4.245-3.456 7.699-7.699 7.699zm4.223-5.766c-0.2314-0.1159-1.369-0.6756-1.582-0.7529-0.2123-0.07731-0.3664-0.1159-0.5206 0.1159-0.1541 0.2319-0.5978 0.7533-0.7329 0.9074-0.135 0.1546-0.2701 0.1737-0.5015 0.05773-0.2314-0.1159-0.9772-0.3602-1.862-1.149-0.688-0.6138-1.153-1.372-1.288-1.604-0.135-0.2318-0.01422-0.3571 0.1012-0.4721 0.1039-0.1039 0.2314-0.2705 0.3473-0.4055 0.116-0.135 0.1542-0.2318 0.2314-0.386 0.07732-0.1546 0.03867-0.2896-0.01906-0.4055-0.05777-0.1159-0.5206-1.255-0.7138-1.718-0.1879-0.4513-0.3789-0.39-0.5206-0.3975-0.135-0.0066-0.2892-8e-3 -0.4437-8e-3s-0.4051 0.05774-0.6174 0.2896c-0.2123 0.2318-0.8102 0.7919-0.8102 1.931s0.8293 2.24 0.9452 2.395c0.1159 0.1546 1.632 2.492 3.954 3.495 0.5521 0.2385 0.9834 0.3811 1.32 0.4877 0.5544 0.1763 1.059 0.1515 1.458 0.09193 0.4446-0.06661 1.369-0.5601 1.562-1.101 0.1928-0.5406 0.1928-1.004 0.135-1.101-0.05773-0.09638-0.2123-0.1546-0.4437-0.2705z' clip-rule='evenodd' fill='%231a1a1a' fill-rule='evenodd' stroke-width='.05168'/%3e%3crect width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3c/svg%3e"},{id:"geopin2",selectors:['._rsi-modal-fields-item._rsi-modal-fields-item-with-icon[data-icon-type="geopin2"] input'],bg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.05 50.86' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='3.052e-6' width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3crect x='44.8' width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3cg transform='matrix(.8547 0 0 .8547 12.71 15.3)' fill='%231a1a1a'%3e%3cg fill='%231a1a1a'%3e%3cg fill='%231a1a1a'%3e%3cpath d='m13 7c0-0.55-0.44-1-1-1-0.55 0-1 0.44-1 1v2h-2c-0.55 0-1 0.44-1 1 0 0.55 0.44 1 1 1h2v2c0 0.55 0.44 1 1 1 0.55 0 1-0.44 1-1v-2h2c0.55 0 1-0.44 1-1 0-0.55-0.44-1-1-1h-2zm-1-5c4.2 0 8 3.22 8 8.2 0 3.18-2.45 6.92-7.34 11.23-0.38 0.33-0.95 0.33-1.33 0-4.88-4.31-7.33-8.05-7.33-11.23 0-4.98 3.8-8.2 8-8.2z' fill='%231a1a1a'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",rtlBg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.05 50.86' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='1.23' width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3cg transform='matrix(.8547 0 0 .8547 13.94 15.31)' fill='%231a1a1a'%3e%3cg fill='%231a1a1a'%3e%3cg fill='%231a1a1a'%3e%3cpath d='m13 7c0-0.55-0.44-1-1-1-0.55 0-1 0.44-1 1v2h-2c-0.55 0-1 0.44-1 1 0 0.55 0.44 1 1 1h2v2c0 0.55 0.44 1 1 1 0.55 0 1-0.44 1-1v-2h2c0.55 0 1-0.44 1-1 0-0.55-0.44-1-1-1h-2zm-1-5c4.2 0 8 3.22 8 8.2 0 3.18-2.45 6.92-7.34 11.23-0.38 0.33-0.95 0.33-1.33 0-4.88-4.31-7.33-8.05-7.33-11.23 0-4.98 3.8-8.2 8-8.2z' fill='%231a1a1a'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3crect width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3c/svg%3e"},{id:"hashtag",selectors:['._rsi-modal-fields-item._rsi-modal-fields-item-with-icon[data-icon-type="hashtag"] input'],bg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.03 50.86' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3crect x='44.8' width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3cg transform='matrix(1.014 0 0 1.014 10.8 13.25)' fill='%231a1a1a'%3e%3cpath d='m20 9c0-0.55-0.45-1-1-1h-3v-3c0-0.55-0.45-1-1-1s-1 0.45-1 1v3h-4v-3c0-0.55-0.45-1-1-1s-1 0.45-1 1v3h-3c-0.55 0-1 0.45-1 1s0.45 1 1 1h3v4h-3c-0.55 0-1 0.45-1 1s0.45 1 1 1h3v3c0 0.55 0.45 1 1 1s1-0.45 1-1v-3h4v3c0 0.55 0.45 1 1 1s1-0.45 1-1v-3h3c0.55 0 1-0.45 1-1s-0.45-1-1-1h-3v-4h3c0.55 0 1-0.45 1-1zm-6 5h-4v-4h4z' fill='%231a1a1a'/%3e%3c/g%3e%3c/svg%3e",rtlBg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.05 50.86' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='1.23' width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3cg transform='matrix(1.014 0 0 1.014 12.03 13.26)' fill='%231a1a1a'%3e%3cpath d='m20 9c0-0.55-0.45-1-1-1h-3v-3c0-0.55-0.45-1-1-1s-1 0.45-1 1v3h-4v-3c0-0.55-0.45-1-1-1s-1 0.45-1 1v3h-3c-0.55 0-1 0.45-1 1s0.45 1 1 1h3v4h-3c-0.55 0-1 0.45-1 1s0.45 1 1 1h3v3c0 0.55 0.45 1 1 1s1-0.45 1-1v-3h4v3c0 0.55 0.45 1 1 1s1-0.45 1-1v-3h3c0.55 0 1-0.45 1-1s-0.45-1-1-1h-3v-4h3c0.55 0 1-0.45 1-1zm-6 5h-4v-4h4z' fill='%231a1a1a'/%3e%3c/g%3e%3crect width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3c/svg%3e"},{id:"note",selectors:['._rsi-modal-fields-item._rsi-modal-fields-item-with-icon input[data-type="note"]','._rsi-modal-fields-item._rsi-modal-fields-item-with-icon[data-icon-type="note"] input'],bg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.05 50.86' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='3.052e-6' width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3crect x='44.8' width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3cpath d='m14.04 33.3v-1.685h10.84v1.685zm0-4.663v-1.685h17.98v1.685zm0-4.691v-1.685h17.98v1.685zm0-4.691v-1.685h17.98v1.685z' fill='%231a1a1a' stroke-width='.5618'/%3e%3c/svg%3e ",rtlBg:"data:image/svg+xml;charset=UTF-8,%3csvg version='1.1' viewBox='0 0 46.05 50.86' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='1.23' width='44.82' height='50.86' ry='0' fill='%23e1e1e1'/%3e%3cpath d='m33.25 33.3v-1.685h-10.84v1.685zm0-4.663v-1.685h-17.98v1.685zm0-4.691v-1.685h-17.98v1.685zm0-4.691v-1.685h-17.98v1.685z' fill='%231a1a1a' stroke-width='.5618'/%3e%3crect width='1.229' height='50.86' fill='%23c0c0c0'/%3e%3c/svg%3e"}],init:function(){try{var l="";_rsi.icons.data.forEach(e=>{var t=[],r=[],o=[],i=[];e.selectors.forEach(e=>{t.push(e),o.push("._rsi-modal-container-rtl "+e),r.push(e.replace("._rsi-modal-fields-item","._rsi-modal-fields-item._rsi-modal-fields-item-error")),i.push("._rsi-modal-container-rtl "+e.replace("._rsi-modal-fields-item","._rsi-modal-fields-item._rsi-modal-fields-item-error"))});var s=e.bg,a=e.bg.replace(/c0c0c0/g,"e41717").replace(/e1e1e1/g,"ffdddd"),n=e.rtlBg,c=e.rtlBg.replace(/c0c0c0/g,"e41717").replace(/e1e1e1/g,"ffdddd"),e=[];e.push(t.join(", ")+' { background-image: url("'+s+'"); }'),e.push(r.join(", ")+' { background-image: url("'+a+'"); }'),e.push(o.join(", ")+' { background-image: url("'+n+'"); }'),e.push(i.join(", ")+' { background-image: url("'+c+'"); }'),l+=e.join(" ")}),document.querySelector("#rsi-icons-css")&&document.querySelector("#rsi-icons-css").remove(),document.body.insertAdjacentHTML("afterbegin",'<style id="rsi-icons-css">'+l+"</style>")}catch(e){console.log(e)}}},moneyFormat:"",moneyFormatType:"",moneyFormatV2:!1,calculateMoneyFormat:function(){try{if(window._RSI_COD_FORM_MONEY_FORMAT&&_rsi.s.form.useMoneyFormat){var e=window._RSI_COD_FORM_MONEY_FORMAT;if(_rsi.moneyFormatV2=!0,-1<e.indexOf("&lt;")||-1<e.indexOf("&gt;"))return;var t="";-1<(e=e.replace(/({{ )|( }})/gm,"").replace(/({{)|(}})/gm,"")).indexOf("amount_with_apostrophe_separator")?(e=e.replace("amount_with_apostrophe_separator","amount"),t="amount"):-1<e.indexOf("amount_no_decimals_with_space_separator")?t="amount_no_decimals_with_space_separator":-1<e.indexOf("amount_no_decimals_with_comma_separator")?t="amount_no_decimals_with_comma_separator":-1<e.indexOf("amount_with_comma_separator")?t="amount_with_comma_separator":-1<e.indexOf("amount_no_decimals")?t="amount_no_decimals":-1<e.indexOf("amount")&&(t="amount"),e&&t&&(_rsi.moneyFormat=e,_rsi.moneyFormatType=t)}}catch(e){console.log(e)}},mergeMissingPageFlyProduct:function(){try{if(!document.querySelector('#rsi-cod-form-product-cache, [id*="ProductJson"]'))return!1;try{var e=JSON.parse(document.querySelector('#rsi-cod-form-product-cache, [id*="ProductJson"]').textContent),t={};return e.selected_or_first_available_variant=e.variants[0],t[e.id]=e,window.__pageflyProducts=t,!0}catch(e){return console.log(e),!1}}catch(e){return console.log(e),!1}},calculatePageFlyProduct:function(){try{if(document.querySelector('form[method="post"][action*="/cart/add"] [name="id"]')||document.querySelector(".selectedWB"))document.querySelector(".selectedWB")&&_rsi.calculateWideBundlesProduct();else{var t="";try{document.querySelector('form[action*="facebook"] [name="id"]')&&document.querySelector('form[action*="facebook"] [name="id"]').remove()}catch(e){console.log(e)}document.querySelector('[name="id"]:not([type="hidden"]), [name="id"][data-product-id]')&&document.querySelectorAll('[name="id"]:not([type="hidden"]), [name="id"][data-product-id]').forEach(function(e){t||e.value&&(t=e.value)}),t=t||_rsi.pageFlyProducts[Object.keys(_rsi.pageFlyProducts)[0]].selected_or_first_available_variant.id;var r=1;document.querySelector('[name="quantity"]')&&document.querySelectorAll('[name="quantity"]').forEach(e=>{e.value>r&&(r=e.value)}),window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS=[],window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS.push({id:t,quantity:r})}}catch(e){console.log(e)}},normalizeZipifyForms:function(){try{document.querySelectorAll("[data-zp-add-to-cart-form]").forEach(e=>{e.action="/cart/add"})}catch(e){console.log(e)}},calculateWideBundlesProduct:function(){try{var r,o,i,t,s,a,e,n;_rsi.productPage.productJson&&window.productsWB?(r=_rsi.productPage.productJson.id,document.querySelector(".selectedWB")&&(document.querySelector(".selectedWB div[data-id]")?(o=document.querySelectorAll(".selectedWB")[0],i=o.querySelector(".title-variant").innerHTML,t="",o.querySelectorAll('.select-bundle[name="Variants"]').forEach(function(e){t&&(t+=","),t+=e.value}),t&&(i+=" / "+t),s="",o.querySelectorAll('.select-bundle[name="Variants2"]').forEach(function(e){s&&(s+=","),s+=e.value}),s&&(i+=" / "+s),a="",o.querySelectorAll('.select-bundle[name="Variants3"]').forEach(function(e){a&&(a+=","),a+=e.value}),a&&(i+=" / "+a),productsWB.forEach(function(e){var t;e.variant_title==i&&e.product_id==r&&(t=1,o.querySelector("input.quantity-wb-input")&&(t=o.querySelector("input.quantity-wb-input").value),window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS=[],window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS.push({id:e.variant_id,quantity:t}))})):(e=1,document.querySelector(".selectedWB input.quantity-wb-input")&&(e=document.querySelector(".selectedWB input.quantity-wb-input").value),window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS=[],window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS.push({id:document.querySelector(".selectedWB").getAttribute("data-id"),quantity:e})))):window.wideBundle&&wideBundle.getSelectedVariantId&&(e=1,document.querySelector(".selectedWB input.quantity-wb-input")&&(e=document.querySelector(".selectedWB input.quantity-wb-input").value),(n=wideBundle.getSelectedVariantId())&&(window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS=[],window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS.push({id:n,quantity:e})))}catch(e){console.log(e)}},appBlockCurrentProduct:!1,calculateAppBlockProduct:function(e){if(_rsi.appBlockCurrentProduct=!1,e&&e.closest(".rsi-app-block-container"))try{_rsi.appBlockCurrentProduct=JSON.parse(e.closest(".rsi-app-block-container").querySelector(".rsi-cod-form-app-block-product-cache").textContent)}catch(e){console.log(e)}},productPage:{oldCart:!1,soldOutHideInitiated:!1,optionsHandlers:{isActive:!1,init:function(){"object"!=typeof window.ymq_option&&"object"!=typeof window.best_option||(_rsi.productPage.optionsHandlers.isActive=!0)},blockBuyClick:function(){try{if(!_rsi.productPage.optionsHandlers.isActive)return!1;var e=!1;if("object"==typeof window.best_option&&"object"==typeof window.best_option.productInstance&&(e=!0,window.best_option.productInstance.buildFormData().buildOtherFormData(),window.best_option.productInstance.validate.validateAll(window.best_option.productInstance.formData,!0),0!=window.best_option.productInstance.validate.validateCount))return!0;if("object"==typeof window.ymq_option&&!e&&"object"==typeof window.ymq_option.productInstance&&(window.ymq_option.productInstance.buildFormData().buildOtherFormData(),window.ymq_option.productInstance.validate.validateAll(window.ymq_option.productInstance.formData,!0),0!=window.ymq_option.productInstance.validate.validateCount))return!0}catch(e){return console.log(e),!1}return!1}},init:function(e){if(_rsi.s.productPage.isEnabled&&_rsi.productPage.isAvailable()&&(!e||_rsi.isGemPages||!document.querySelector("._rsi-buy-now-button-product"))){try{if(("/"==window.location.pathname||""==window.location.pathname.replace(_rsi.rootShopifyRoute,""))&&_rsi.s.productPage.ignoreHomeV2)return;if(-1<window.location.pathname.indexOf("/collections")&&_rsi.s.productPage.ignoreCollectionsV2&&-1==window.location.pathname.indexOf("/products"))return}catch(e){console.log(e)}_rsi.productPage.populatePageFlyProducts(),_rsi.form.mode="",_rsi.cartManager.getCart(!1,function(e){e.items.length||0!=e.total_price?_rsi.productPage.oldCart=e:_rsi.productPage.oldCart="empty"}),_rsi.visiblity.isEnabled?e&&_rsi.visiblity.isEnabledForProducts||_rsi.visiblity.run(_rsi.productPage.initFeatures,"productPage"):_rsi.productPage.initFeatures()}},populatePageFlyProducts:function(){try{var t;_rsi.isPageFly&&(1<Object.keys(window.__pageflyProducts).length?(t=[],Object.keys(window.__pageflyProducts).forEach(function(e){window.__pageflyProducts[e].id&&t.push({id:e,score:document.querySelectorAll('[data-product-id="'+e+'"]').length})}),t.sort(function(e,t){return t.score-e.score}),_rsi.pageFlyProducts[t[0].id]=window.__pageflyProducts[t[0].id]):_rsi.pageFlyProducts=window.__pageflyProducts)}catch(e){console.log(e)}},isAvailable:function(){var e=!0;if(document.querySelector('#rsi-cod-form-product-cache, [id*="ProductJson"]')&&-1<window.location.pathname.indexOf("/products"))try{!1===JSON.parse(document.querySelector('#rsi-cod-form-product-cache, [id*="ProductJson"]').textContent).available&&(e=!1)}catch(e){console.log(e)}return e},initFeatures:function(){if(_rsi.s.productPage.hideQuickCheckoutButtons&&document.querySelector("head").insertAdjacentHTML("beforeend","<style>.shopify-payment-button .shopify-payment-button__button--unbranded,.shopify-payment-button,#dropi-cod-button,.buttonBuyNow{display:none !important}</style>"),_rsi.s.productPage.hideAddToCartButton&&document.querySelector("head").insertAdjacentHTML("beforeend",'<style>form[method="post"][action$="/cart/add"] [name="add"],form[method="post"][action$="/cart/add"] [type="submit"]:not(._rsi-buy-now-button),#new-form-atc,[name="add"],.btn--add-to-cart,[data-buy-button],#dropi-cod-button,[data-add-to-cart],[data-action="add-to-cart"],.js-header-atc,#add-to-cart,.btn-addtocart{display:none !important}</style>'),_rsi.isZipify)try{var e;document.querySelector("[data-zp-product-init]")&&(e=JSON.parse(document.querySelector("[data-zp-product-init]").textContent),document.querySelector("#rsi-cod-form-product-cache")&&(document.querySelector("#rsi-cod-form-product-cache").textContent=JSON.stringify(e.product)))}catch(e){console.log(e)}_rsi.productPage.optionsHandlers.init();try{document.querySelector('[href="/rsi-embed-hook"]')&&(document.querySelector('[href="/rsi-embed-hook"]').insertAdjacentHTML("afterend",'<div id="_rsi-cod-form-embed-custom-hook"></div>'),document.querySelector('[href="/rsi-embed-hook"]').remove());var t,r=!1;document.querySelectorAll('form[method="post"][action$="/cart/add"]').forEach(e=>{e.querySelector("[name=id]")&&(r=!0)}),!r&&_rsi.isGemPages&&(t='<form method="post" action="/cart/add" style="display: none !important;"><input type="hidden" name="form_type" value="product"><input type="hidden" name="utf8" value="✓"><input type="hidden" name="id" value="'+JSON.parse(document.querySelector('#rsi-cod-form-product-cache, [id*="ProductJson"]').textContent).variants[0].id+'"><input type="hidden" name="quantity" value="1"></form>',document.body.insertAdjacentHTML("afterbegin",t))}catch(e){console.log(e)}function o(e){e&&e.preventDefault(),document.querySelector("#_rsi-cod-form-embed")&&(e=document.querySelector("#_rsi-cod-form-embed").getBoundingClientRect().top+window.pageYOffset-50,"function"==typeof window.scrollTo?window.scrollTo({top:e,behavior:"smooth"}):window.scroll(0,e))}let i=!1;if(_rsi.s.form.isEmbedded){_rsi.productPage.getProductJson(),!_rsi.isPageFly||document.querySelector('form[method="post"][action*="/cart/add"]')||document.querySelector("#_rsi-cod-form-embed-custom-hook")||document.querySelector("button[data-product-id]")&&document.querySelector("button[data-product-id]").insertAdjacentHTML("afterend",'<div id="_rsi-cod-form-embed-custom-hook"></div>');try{document.querySelector(".product__info-container .product-form__quantity")&&!document.querySelector("#_rsi-cod-form-embed-custom-hook")&&document.querySelector(".product__info-container .product-form__quantity").insertAdjacentHTML("afterend",'<div id="_rsi-cod-form-embed-custom-hook"></div>')}catch(e){console.log(e)}_rsi.form.embedded.init(),_rsi.s.buyNowButton.floatingEnabled&&!_rsi.isHomePage&&(_rsi.productPage.initFloatingBuyButton("_rsi-buy-now-button-product-floating"),document.querySelector("#_rsi-buy-now-button._rsi-buy-now-button-product-floating")&&document.querySelector("#_rsi-buy-now-button._rsi-buy-now-button-product-floating").addEventListener("click",o)),i=!0}document.querySelector(".QuickPurchaseTop")&&document.querySelector("[leadform]")&&(document.querySelector("[leadform]").hasAttribute("hidden")&&document.querySelector("[leadform]").removeAttribute("hidden"),document.querySelector("[leadform]").style.display="block");function s(e){if(e.preventDefault(),"function"==typeof _COD_FORM_ON_PRODUCT_PAGE_BUY_NOW_CLICK&&_COD_FORM_ON_PRODUCT_PAGE_BUY_NOW_CLICK(),!_rsi.productPage.optionsHandlers.blockBuyClick()){_rsi.isPageFly&&_rsi.calculatePageFlyProduct(),_rsi.s.form.useWbIntegration&&_rsi.calculateWideBundlesProduct(),_rsi.calculateAppBlockProduct(e.target);var a,t=e.target,r=!0;("string"!=typeof e.target.className||-1==e.target.className.indexOf("_rsi-buy-now-button"))&&(r=!1),r||(e=e.target.closest("._rsi-buy-now-button"))&&(t=e),(-1<t.className.indexOf("-floating")||-1<t.className.indexOf("_rsi-buy-now-button-product-in-description"))&&document.querySelector("._rsi-buy-now-button._rsi-buy-now-button-product:not(._rsi-buy-now-button-product-in-description)")&&(t=document.querySelector("._rsi-buy-now-button._rsi-buy-now-button-product:not(._rsi-buy-now-button-product-in-description)")),a=t.closest('form[method="post"][action*="/cart/add"]')?_rsi.u.serializeForm(!1,!1,t.closest('form[method="post"][action*="/cart/add"]')):_rsi.u.serializeForm('form[method="post"][action*="/cart/add"]','[name="form_type"][value="product"]');try{if(_rsi.appBlockCurrentProduct){a=a.replace("&&","&");let r=_rsi.u.queryStringToJSON(a);if(!r.quantity){let t=1;document.querySelectorAll('[name="quantity"]').forEach(e=>{e.value>t&&(t=e.value)}),r.quantity=t}!r.id&&r.variant_id&&(r.id=r.variant_id);let t=!1;_rsi.appBlockCurrentProduct.variants.forEach(e=>{e.id==r.id&&(t=!0)}),t||(r.id=_rsi.appBlockCurrentProduct.variants[0].id+""),a="",Object.keys(r).forEach((e,t)=>{0<t&&(a+="&"),a+=encodeURI(e)+"="+encodeURI(r[e])})}}catch(e){console.log(e)}if(!(-1<a.indexOf("id")||window.AwesomeQuantityBreak&&document.querySelector("#awesome-quantity-data")||window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS)){if(-1!=a.indexOf("id")||!_rsi.productPage.productJson)return;a+="&id="+_rsi.productPage.productJson.variants[0].id}try{if(_rsi.form.deferLoading)return _rsi.form.mode="productCart",_rsi.form.open(!1,!1,!1,!1,a||"product=true"),void("empty"==_rsi.productPage.oldCart&&(_rsi.productPage.oldCart=!1))}catch(e){console.log(e)}_rsi.form.mode="productCart",_rsi.form.open(!0),_rsi.productPage.optionsHandlers.isActive&&-1<a.indexOf("properties")&&(window._COD_FORM_PRODUCT_PAGE_ADD_MODE_OVERWRITE="add");function o(t){t=t||"update","string"==typeof _COD_FORM_PRODUCT_PAGE_ADD_MODE_OVERWRITE&&(t=_COD_FORM_PRODUCT_PAGE_ADD_MODE_OVERWRITE);var e,r,o=!!(window.AwesomeQuantityBreak&&document.querySelector("#awesome-quantity-data")||window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS);if("update"==t&&!o)try{a=a.replace("&&","&");var i,s=_rsi.u.queryStringToJSON(a);s.quantity||(i=1,document.querySelectorAll('[name="quantity"]').forEach(e=>{e.value>i&&(i=e.value)}),s.quantity=i),!s.id&&s.variant_id&&(s.id=s.variant_id),s.id&&s.quantity?(window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL=[{id:s.id,quantity:s.quantity}],o=!0):(_rsi.u.sendReport({msg:"Could not find id or quantity while generating jsonAddData on addToCart popup in product page. addData: "+a}),t="add")}catch(e){_rsi.u.sendReport({msg:"Error while generating jsonAddData on addToCart popup in product page. Error: "+e+" addData: "+a}),t="add"}o?(e=[],window.AwesomeQuantityBreak?e=window.AwesomeQuantityBreak.selectedVariants:window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS?e=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS:window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL&&(e=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL),Array.isArray(e)||(window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS?e=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS:window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL&&(e=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL)),r={},"update"==t?(r.updates={},e.forEach(function(e){r.updates[e.id+""]=e.quantity})):r.items=e,_rsi.u.ajax("POST",_rsi.rootShopifyRoute+"cart/"+t+".js",JSON.stringify(r),function(e){try{if("update"==t)return e=JSON.parse(e),void _rsi.form.open(!1,!1,!1,e)}catch(e){_rsi.u.sendReport({msg:"Error while parsing data on update.js on addToCart in product page. Error: "+e})}_rsi.form.open()},null,{"Content-Type":"application/json"},!0)):_rsi.u.ajax("POST",_rsi.rootShopifyRoute+"cart/"+t+".js",a,function(e){setTimeout(function(){_rsi.form.open()},500)},null,{"Content-Type":"multipart/form-data"},!0)}t="product-only";_rsi.s.productPage.addMode&&(t=_rsi.s.productPage.addMode),"product-plus-cart"==t?o("update"):_rsi.productPage.oldCart&&"empty"==_rsi.productPage.oldCart?o():_rsi.cartManager.clearCart(function(){_rsi.u.clearCartCookies(),o()},function(){_rsi.u.clearCartCookies(),o()}),"empty"==_rsi.productPage.oldCart&&(_rsi.productPage.oldCart=!1)}}"function"==typeof _COD_FORM_ON_PRODUCT_PAGE_INIT_FEATURES&&_COD_FORM_ON_PRODUCT_PAGE_INIT_FEATURES();let a=!0;try{!document.querySelector(".t4s-form__product .t4s-product-form__buttons")||_rsi.s.productPage.overwriteSelector||i||(_rsi.s.productPage.overwriteSelector=".t4s-form__product .t4s-product-form__buttons"),!document.querySelector(".shopify-product-form .product__submit .product__submit__buttons")||_rsi.s.productPage.overwriteSelector||i||(_rsi.s.productPage.overwriteSelector=".shopify-product-form .product__submit .product__submit__buttons"),!document.querySelector(".product .margem-form-botoes")||_rsi.s.productPage.overwriteSelector||i||(_rsi.s.productPage.overwriteSelector=".product .margem-form-botoes"),!document.querySelector("#shopify-section-pr_summary .variations_form .variations_button")||_rsi.s.productPage.overwriteSelector||i||(_rsi.s.productPage.overwriteSelector="#shopify-section-pr_summary .variations_form .variations_button"),_rsi.s.productPage.overwriteSelector&&(document.querySelector(_rsi.s.productPage.overwriteSelector)&&(a=!1),document.querySelectorAll(_rsi.s.productPage.overwriteSelector).forEach(function(e){e.insertAdjacentHTML("afterend",_rsi.u.generateBuyButton("_rsi-buy-now-button-product").replace("<button",'<button id="_rsi-buy-now-button-overwrite"').replace("<div",'<div id="_rsi-buy-now-button-overwrite"'))})),document.querySelector("._rsi-buy-now-button-app-block-hook")&&document.querySelectorAll("._rsi-buy-now-button-app-block-hook").forEach(function(e){e.insertAdjacentHTML("afterend",_rsi.u.generateBuyButton("_rsi-buy-now-button-product _rsi-buy-now-button-product-in-description").replace("<button",'<button id="_rsi-buy-now-button-overwrite"').replace("<div",'<div id="_rsi-buy-now-button-overwrite"'))}),document.querySelector('[href="/rsi-btn-hook"]')&&document.querySelectorAll('[href="/rsi-btn-hook"]').forEach(function(e){e.insertAdjacentHTML("afterend",_rsi.u.generateBuyButton("_rsi-buy-now-button-product _rsi-buy-now-button-product-in-description")),e.remove()}),document.querySelector('[href="/rsi-btn-overwrite"]')&&document.querySelectorAll('[href="/rsi-btn-overwrite"]').forEach(function(e){e.id="_rsi-buy-now-button-overwrite",e.href="#",e.classList.add("_rsi-buy-now-button-product"),e.classList.add("_rsi-buy-now-button-product-in-description")})}catch(e){console.log(e)}if(_rsi.isPageFly&&(document.querySelector("._rsi-cod-form-pagefly-button-overwrite-v2")&&document.querySelectorAll("._rsi-cod-form-pagefly-button-overwrite-v2").forEach(function(e){e.id="_rsi-buy-now-button-overwrite",e.classList.add("_rsi-buy-now-button-product")}),document.querySelectorAll("._rsi-cod-form-pagefly-button-hook-v2").forEach(function(e){e.closest('[data-pf-type="Custom.HTML"]')&&e.closest('[data-pf-type="Custom.HTML"]').querySelector("#_rsi-cod-form-embed")||e.closest('[data-pf-type="ReleasitCOD"]')&&e.closest('[data-pf-type="ReleasitCOD"]').querySelector("#_rsi-cod-form-embed")||(e.insertAdjacentHTML("afterend",_rsi.u.generateBuyButton("_rsi-buy-now-button-product").replace("<button",'<button id="_rsi-buy-now-button-overwrite"').replace("<div",'<div id="_rsi-buy-now-button-overwrite"')),e.remove())})),_rsi.isGemPages&&(document.querySelector("._rsi-cod-form-gempages-button-overwrite")&&document.querySelectorAll("._rsi-cod-form-gempages-button-overwrite").forEach(function(e){e.id="_rsi-buy-now-button-overwrite",e.classList.add("_rsi-buy-now-button-product")}),document.querySelector('[href="/rsi-gempages-overwrite"]')&&document.querySelectorAll('[href="/rsi-gempages-overwrite"]').forEach(function(e){e.id="_rsi-buy-now-button-overwrite",e.classList.add("_rsi-buy-now-button-product"),e.setAttribute("href","#")}),document.querySelectorAll("._rsi-cod-form-gempages-button-hook").forEach(function(e){e.closest('[data-label="Liquid"]')&&e.closest('[data-label="Liquid"]').querySelector("#_rsi-cod-form-embed")||e.closest("div:not(._rsi-cod-form-gempages-button-hook)")&&e.closest("div:not(._rsi-cod-form-gempages-button-hook)").querySelector("#_rsi-cod-form-embed")||(e.insertAdjacentHTML("afterend",_rsi.u.generateBuyButton("_rsi-buy-now-button-product").replace("<button",'<button id="_rsi-buy-now-button-overwrite"').replace("<div",'<div id="_rsi-buy-now-button-overwrite"')),e.remove())})),_rsi.isZipify&&(_rsi.normalizeZipifyForms(),document.querySelector('[href="/rsi-cf-overwrite"]')&&document.querySelectorAll('[href="/rsi-cf-overwrite"]').forEach(function(e){e.href="#",e.id="_rsi-buy-now-button-overwrite",e.classList.add("_rsi-buy-now-button-product")}),document.querySelectorAll('[href="/rsi-cf-hook"]').forEach(function(e){e.insertAdjacentHTML("afterend",_rsi.u.generateBuyButton("_rsi-buy-now-button-product").replace("<button",'<button id="_rsi-buy-now-button-overwrite"').replace("<div",'<div id="_rsi-buy-now-button-overwrite"')),e.remove()})),_rsi.isHomePage&&!_rsi.isPageFly&&!_rsi.isGemPages&&!_rsi.isZipify&&_rsi.isNonProductPagesEligible&&a&&!i&&!document.querySelector(".rsi-app-block-container"))try{var n=!1;if(-1<Shopify.theme.name.indexOf("Dawn")&&document.querySelector(".featured-product .shopify-product-form")&&!document.querySelector(".featured-product .shopify-product-form [name=add]")&&document.querySelector(".featured-product .shopify-product-form [name=form_type]")&&document.querySelector(".featured-product .shopify-product-form [name=form_type]").remove(),document.querySelectorAll('form[method="post"][action*="/cart/add"]').forEach(function(e){e.querySelector('[name="form_type"][value="product"]')&&!e.closest("product-payment-terms")&&(n=(e.querySelector('[name="add"]')?e.querySelector('[name="add"]').insertAdjacentHTML("afterend",_rsi.u.generateBuyButton("_rsi-buy-now-button-product").replace("<button",'<button id="_rsi-buy-now-button-overwrite"').replace("<div",'<div id="_rsi-buy-now-button-overwrite"')):e.insertAdjacentHTML("beforeend",_rsi.u.generateBuyButton("_rsi-buy-now-button-product").replace("<button",'<button id="_rsi-buy-now-button-overwrite"').replace("<div",'<div id="_rsi-buy-now-button-overwrite"')),!0))}),!n)return;1<document.querySelectorAll(".featured-product form").length&&document.querySelector("head").insertAdjacentHTML("beforeend","<style>.featured-product .shopify-product-form{display: none !important}</style>")}catch(e){console.log(e)}if(document.querySelector("#_rsi-buy-now-button-overwrite._rsi-buy-now-button-product")&&!i)document.querySelectorAll("#_rsi-buy-now-button-overwrite._rsi-buy-now-button-product").forEach(function(e){e.addEventListener("click",s)});else if(!i){document.querySelector(".shopify-payment-button")?document.querySelectorAll(".shopify-payment-button").forEach(function(e){e.insertAdjacentHTML("beforebegin",_rsi.u.generateBuyButton("_rsi-buy-now-button-product"))}):document.querySelector('[name="add"]')?document.querySelector('[name="add"]').insertAdjacentHTML("afterend",_rsi.u.generateBuyButton("_rsi-buy-now-button-product")):document.querySelector('form[method="post"][action$="/cart/add"] [type="submit"]')?document.querySelector('form[method="post"][action$="/cart/add"] [type="submit"]').insertAdjacentHTML("afterend",_rsi.u.generateBuyButton("_rsi-buy-now-button-product")):document.querySelector('form[method="post"][action$="/cart/add"]')?document.querySelector('form[method="post"][action$="/cart/add"]').insertAdjacentHTML("beforeend",_rsi.u.generateBuyButton("_rsi-buy-now-button-product")):_rsi.isPageFly&&document.querySelector("button[data-product-id]")&&document.querySelector("button[data-product-id]").insertAdjacentHTML("afterend",_rsi.u.generateBuyButton("_rsi-buy-now-button-product"));try{document.querySelector("#mst-stiky-box")&&!document.querySelector("#mst-stiky-box #_rsi-buy-now-button-overwrite, #mst-stiky-box #_rsi-buy-now-button")&&document.querySelector("#mst-stiky-box [name=add]")&&(document.querySelector("#mst-stiky-box [name=add]").insertAdjacentHTML("afterend",_rsi.u.generateBuyButton("_rsi-buy-now-button-product")),_rsi.s.buyNowButton.floatingEnabled=!1)}catch(e){console.log(e)}var c=!1;window.debutify&&(c=!0),document.querySelector('meta[name="author"]')&&"debutify"==document.querySelector('meta[name="author"]').content.trim().toLowerCase()&&(c=!0),c&&document.querySelector(".product-single__form")&&(document.querySelector(".product-single__form").querySelector("._rsi-buy-now-button")||(document.querySelector("._rsi-buy-now-button._rsi-buy-now-button-product")&&document.querySelector("._rsi-buy-now-button._rsi-buy-now-button-product").remove(),document.querySelector(".product-single__form").insertAdjacentHTML("beforeend",_rsi.u.generateBuyButton("_rsi-buy-now-button-product"))))}i?document.querySelectorAll("#_rsi-buy-now-button._rsi-buy-now-button-product, #_rsi-buy-now-button-overwrite._rsi-buy-now-button-product").forEach(function(e){e.removeEventListener("click",o),e.addEventListener("click",o)}):document.querySelectorAll("#_rsi-buy-now-button._rsi-buy-now-button-product").forEach(function(e){e.removeEventListener("click",s),e.addEventListener("click",s)}),document.querySelector("#_rsi-buy-now-button._rsi-buy-now-button-product, #_rsi-buy-now-button-overwrite._rsi-buy-now-button-product")&&_rsi.autoOpen&&!i&&document.querySelector("#_rsi-buy-now-button._rsi-buy-now-button-product, #_rsi-buy-now-button-overwrite._rsi-buy-now-button-product").click(),!_rsi.s.buyNowButton.floatingEnabled||_rsi.isHomePage||i||(_rsi.productPage.initFloatingBuyButton("_rsi-buy-now-button-product-floating"),document.querySelector("#_rsi-buy-now-button._rsi-buy-now-button-product-floating")&&document.querySelector("#_rsi-buy-now-button._rsi-buy-now-button-product-floating").addEventListener("click",s)),_rsi.isHomePage&&!i&&_rsi.form.quantityOffers.calculateProductCachesInPage(),i||(_rsi.productPage.initSoldOutHide(),_rsi.productPage.getProductJson(),_rsi.productPage.initHoverState()),_rsi.productPage.initBuyButtonShaker()},initFloatingBuyButton:function(e){document.querySelector("body").insertAdjacentHTML("beforeend",'<div id="_rsi-buy-now-button-floating" class="_rsi-buy-now-button-floating" '+(_rsi.s.buyNowButton.floatingPos?'data-position="'+_rsi.s.buyNowButton.floatingPos+'"':"")+' style="display: none;">'+_rsi.u.generateBuyButton(e)+"</div>"),setTimeout(function(){var r;window.innerWidth<750&&(r=!1,document.querySelectorAll("#_rsi-buy-now-button._rsi-buy-now-button-product, #_rsi-buy-now-button-overwrite._rsi-buy-now-button-product").forEach(function(e){null===e.offsetParent||r||(r=e)}),_rsi.s.form.isEmbedded&&document.querySelector("#_rsi-cod-form-embed")&&(r=document.querySelector("#_rsi-cod-form-embed")),r&&window.addEventListener("scroll",function(){var e=r.getBoundingClientRect(),t=!1;_rsi.s.form.isEmbedded?(e.top<0-r.offsetHeight||e.top>window.innerHeight-100&&200<window.scrollY)&&(t=!0):e.top<0&&(t=!0),document.querySelector("#_rsi-buy-now-button-floating").style.display=t?"block":"none"}))},1e3)},initBuyButtonShaker:function(){(_rsi.s.buyNowButton.shakerEnabled||_rsi.s.buyNowButton.shakerType&&"none"!=_rsi.s.buyNowButton.shakerType)&&(_rsi.buyButton.cleanShakerIntervals(),_rsi.buyButton.runShaker("#_rsi-buy-now-button._rsi-buy-now-button-product, #_rsi-buy-now-button-overwrite._rsi-buy-now-button-product"))},initSoldOutHide:function(){var t;_rsi.productPage.soldOutHideInitiated||(t=function(){document.querySelectorAll("._rsi-buy-now-button._rsi-buy-now-button-product, ._rsi-buy-now-button._rsi-buy-now-button-product-floating").forEach(function(e){e.style.display="flex"})},document.querySelector("._rsi-buy-now-button._rsi-buy-now-button-product")&&(document.querySelector("._rsi-buy-now-button._rsi-buy-now-button-product").closest('form[method="post"][action*="/cart/add"]')&&document.querySelector("._rsi-buy-now-button._rsi-buy-now-button-product").closest('form[method="post"][action*="/cart/add"]').querySelector('[name="add"], [type="submit"]')&&setInterval(function(){var e=document.querySelector("._rsi-buy-now-button._rsi-buy-now-button-product").closest('form[method="post"][action*="/cart/add"]').querySelector('[name="add"], [type="submit"]');e&&(e.disabled||"true"==e.getAttribute("aria-disabled"))?document.querySelectorAll("._rsi-buy-now-button._rsi-buy-now-button-product, ._rsi-buy-now-button._rsi-buy-now-button-product-floating").forEach(function(e){e.style.display="none"}):t()},500),_rsi.productPage.soldOutHideInitiated=!0))},initHoverState:function(){_rsi.u.isIos()&&document.querySelectorAll("._rsi-buy-now-button").forEach(e=>{e.addEventListener("mouseover",function(){e.click()})})},productJson:!1,getProductJson:function(){function t(e){_rsi.productPage.productJson=e}if(document.querySelector('#rsi-cod-form-product-cache, [id*="ProductJson"], script.product-json')&&-1<window.location.pathname.indexOf("/products"))try{var e=JSON.parse(document.querySelector('#rsi-cod-form-product-cache, [id*="ProductJson"], script.product-json').textContent);t(e)}catch(e){console.log(e)}else if(-1<window.location.pathname.indexOf("/products"))_rsi.u.ajax("GET",window.location.pathname+".js",null,function(e){e=JSON.parse(e),t(e)},null,null,!0);else if(_rsi.isPageFly)try{var r=JSON.parse(JSON.stringify(_rsi.pageFlyProducts[Object.keys(_rsi.pageFlyProducts)[0]]));r.price=r.variants[0].price,t(r)}catch(e){return void console.log(e)}},instantLoading:{isEnabled:!1,cacheKey:!1,cart:!1,generatorButton:!1,stopTimeout:!1,timeoutTime:1500,oneReportSent:!1,init:function(){try{if(!document.querySelector("#_rsi-cod-form-embed"))return}catch(e){console.log(e)}_rsi.productPage.instantLoading.isEnabled=!0,_rsi.productPage.instantLoading.startLoop(),_rsi.productPage.instantLoading.onTimeout(),setTimeout(_rsi.productPage.instantLoading.onTimeout,_rsi.productPage.instantLoading.timeoutTime)},stopLoop:function(){_rsi.productPage.instantLoading.stopTimeout=!0},startLoop:function(){_rsi.productPage.instantLoading.stopTimeout=!1},invalidateCache:function(){_rsi.productPage.instantLoading.cacheKey=!1},areCacheKeysSame:function(e){if(!_rsi.productPage.instantLoading.cacheKey)return!1;var o=_rsi.productPage.instantLoading.cacheKey;try{if(e.addData&&o.atcVariants)return!1;if(e.atcVariants&&o.addData)return!1;if(e.addData&&o.addData)return e.addData==o.addData;if(e.atcVariants&&o.atcVariants){if(e.atcVariants.length!=o.atcVariants.length)return!1;var i=!0;return e.atcVariants.forEach(function(t){var r=!1;o.atcVariants.forEach(function(e){t.id==e.id&&t.quantity==e.quantity&&(r=!0)}),r||(i=!1)}),i}return!1}catch(e){return console.log(e),!1}},calculateCacheKey:function(){try{if(_rsi.form.embedded.productPageFormId)var o=_rsi.u.serializeForm("#"+_rsi.form.embedded.productPageFormId,'[name="form_type"][value="product"]');else if(document.querySelector("#_rsi-cod-form-embed").previousSibling)if("FORM"==document.querySelector("#_rsi-cod-form-embed").previousSibling.nodeName)try{o=document.querySelector("#_rsi-cod-form-embed").previousSibling.getAttribute("id")?_rsi.u.serializeForm("#"+document.querySelector("#_rsi-cod-form-embed").previousSibling.getAttribute("id"),'[name="form_type"][value="product"]'):_rsi.u.serializeForm('form[method="post"][action*="/cart/add"]','[name="form_type"][value="product"]')}catch(e){console.log(e);o=_rsi.u.serializeForm('form[method="post"][action*="/cart/add"]','[name="form_type"][value="product"]')}else o=_rsi.u.serializeForm('form[method="post"][action*="/cart/add"]','[name="form_type"][value="product"]');else o=_rsi.u.serializeForm('form[method="post"][action*="/cart/add"]','[name="form_type"][value="product"]')}catch(e){console.log(e);o=_rsi.u.serializeForm('form[method="post"][action*="/cart/add"]','[name="form_type"][value="product"]')}_rsi.calculateAppBlockProduct(document.querySelector("#_rsi-cod-form-embed")),_rsi.isPageFly&&_rsi.calculatePageFlyProduct(),_rsi.s.form.useWbIntegration&&_rsi.calculateWideBundlesProduct();try{if(_rsi.appBlockCurrentProduct){o=o.replace("&&","&");let r=_rsi.u.queryStringToJSON(o);if(!r.quantity){let t=1;document.querySelectorAll('[name="quantity"]').forEach(e=>{e.value>t&&(t=e.value)}),r.quantity=t}let t=!1;_rsi.appBlockCurrentProduct.variants.forEach(e=>{e.id==r.id&&(t=!0)}),t||(r.id=_rsi.appBlockCurrentProduct.variants[0].id+""),o="",Object.keys(r).forEach((e,t)=>{0<t&&(o+="&"),o+=encodeURI(e)+"="+encodeURI(r[e])})}}catch(e){console.log(e)}if(!(-1<o.indexOf("id")||window.AwesomeQuantityBreak&&document.querySelector("#awesome-quantity-data")||window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS)){if(-1!=o.indexOf("id")||!_rsi.productPage.productJson)return{status:"error",addData:null};o+="&id="+_rsi.productPage.productJson.variants[0].id}var t="update";"string"==typeof _COD_FORM_PRODUCT_PAGE_ADD_MODE_OVERWRITE&&(t=_COD_FORM_PRODUCT_PAGE_ADD_MODE_OVERWRITE);var e=!!(window.AwesomeQuantityBreak&&document.querySelector("#awesome-quantity-data")||window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS);if("update"==t&&!e)try{o=o.replace("&&","&");var r,i=_rsi.u.queryStringToJSON(o);i.quantity||(r=1,document.querySelectorAll('[name="quantity"]').forEach(e=>{e.value>r&&(r=e.value)}),i.quantity=r),!i.id&&i.variant_id&&(i.id=i.variant_id),i.id&&i.quantity?(window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL=[{id:i.id,quantity:i.quantity}],e=!0):(_rsi.productPage.instantLoading.oneReportSent||(_rsi.productPage.instantLoading.oneReportSent=!0,_rsi.u.sendReport({msg:"instantLoading Could not find id or quantity while generating jsonAddData on addToCart popup in product page. addData: "+o})),t="add")}catch(e){_rsi.productPage.instantLoading.oneReportSent||(_rsi.productPage.instantLoading.oneReportSent=!0,_rsi.u.sendReport({msg:"instantLoading Error while generating jsonAddData on addToCart popup in product page. Error: "+e+" addData: "+o})),t="add"}if(e){var s=[];return window.AwesomeQuantityBreak?s=window.AwesomeQuantityBreak.selectedVariants:window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS?s=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS:window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL&&(s=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL),Array.isArray(s)||(window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS?s=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS:window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL&&(s=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL)),Array.isArray(s)?(window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS?s=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS:window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL&&(s=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL),_rsi.form.quantityHandlers.embeddedOverwriteQuantity&&(s[0].quantity=_rsi.form.quantityHandlers.embeddedOverwriteQuantity),{status:"success",mode:t,atcVariants:s}):{status:"error",mode:t,addData:o}}return{status:"success",mode:t,addData:o}},loadCartAndSetKey:function(r,o){function e(){var t;_rsi.productPage.instantLoading.stopTimeout?o(!1):r.atcVariants?(t={},"update"==r.mode?(t.updates={},r.atcVariants.forEach(function(e){t.updates[e.id+""]=e.quantity})):t.items=t.atcVariants,_rsi.u.ajax("POST",_rsi.rootShopifyRoute+"cart/"+r.mode+".js",JSON.stringify(t),function(e){try{e=JSON.parse(e),_rsi.productPage.instantLoading.cart=e,_rsi.productPage.instantLoading.cacheKey=r,o(!0)}catch(e){_rsi.productPage.instantLoading.oneReportSent||(_rsi.productPage.instantLoading.oneReportSent=!0,_rsi.u.sendReport({msg:"instantLoading Error while parsing data on update.js on addToCart in product page. Error: "+e})),o(!1)}},function(){o(!1)},{"Content-Type":"application/json"},!0)):r.addData&&_rsi.u.ajax("POST",_rsi.rootShopifyRoute+"cart/"+r.mode+".js",r.addData,function(e){_rsi.cartManager.getCart(!0,function(e){_rsi.productPage.instantLoading.cart=e,_rsi.productPage.instantLoading.cacheKey=r,o(!0)})},null,{"Content-Type":"multipart/form-data"},!0)}_rsi.cartManager.clearCart(function(){_rsi.u.clearCartCookies(),e()},function(){_rsi.u.clearCartCookies(),e()})},onTimeout:function(){var e;_rsi.productPage.instantLoading.stopTimeout?setTimeout(_rsi.productPage.instantLoading.onTimeout,_rsi.productPage.instantLoading.timeoutTime):(e=_rsi.productPage.instantLoading.calculateCacheKey(),_rsi.productPage.instantLoading.areCacheKeysSame(e)?setTimeout(_rsi.productPage.instantLoading.onTimeout,_rsi.productPage.instantLoading.timeoutTime):_rsi.productPage.instantLoading.loadCartAndSetKey(e,function(e){e&&_rsi.productPage.instantLoading.cart&&(_rsi.cart=_rsi.productPage.instantLoading.cart,_rsi.form.embedded.onDeferredLoadingCart()),setTimeout(_rsi.productPage.instantLoading.onTimeout,_rsi.productPage.instantLoading.timeoutTime)}))}}},cartPage:{drawerVisibilityThinking:!1,startDrawerChecks:function(){try{if(-1<window.location.pathname.indexOf("/cart"))return;function r(){_rsi.cartPage.init()}var e=[{ifSelOnPage:".prestige--v4, prestige--v3, .prestige--v2, .prestige--v1",buttonSel:".Drawer__Footer",openedSel:'#sidebar-cart[aria-hidden="false"]'},{ifSelOnPage:"#CartDrawer.drawer",buttonSel:"#CartDrawer.js-drawer-open",openedSel:"#CartDrawer.js-drawer-open"},{buttonSel:".side-cart-open .cart-dropdown.sidebar",openedSel:".side-cart-open .cart-dropdown.sidebar",overwriteBtnSel:".cart-dropdown.sidebar .cart-actions"},{ifSelOnPage:"#mini-cart.mini-cart",buttonSel:".mini-cart[aria-hidden=false]",openedSel:".mini-cart[aria-hidden=false]",overwriteBtnSel:".mini-cart__button-container"},{ifSelOnPage:"#mini-cart.mini-cart",buttonSel:".mini-cart[open]",openedSel:".mini-cart[open]",overwriteBtnSel:".mini-cart .checkout-button"},{buttonSel:".satcb-cs-open",openedSel:".satcb-cs-open",overwriteBtnSel:".satcb-cs-checkout-btn"},{ifSelOnPage:"cart-drawer.drawer #CartDrawer",buttonSel:"cart-drawer.drawer.active #CartDrawer",openedSel:"cart-drawer.drawer.active #CartDrawer",overwriteBtnSel:".cart__ctas"},{ifSelOnPage:"#UpcartPopup #CartPopup",buttonSel:'#UpcartPopup #CartPopup[class*="styles_active"]',openedSel:'#UpcartPopup #CartPopup[class*="styles_active"]',overwriteBtnSel:".upcart-checkout-button"},{ifSelOnPage:".icart .icart_popup",buttonSel:".icart .icart_popup.active",openedSel:".icart .icart_popup.active",beforeOverwriteBtnSel:function(){document.querySelector(".icartCheckoutBtnGroup")&&document.querySelector(".icartCheckoutBtnGroup").insertAdjacentHTML("afterbegin",'<div class="_rsi-cart-button-icart-hook" style="display: none"></div>')},overwriteBtnSel:"._rsi-cart-button-icart-hook"},{ifSelOnPage:"#PageContainer #CartDrawer.drawer.drawer--right",buttonSel:"#PageContainer #CartDrawer.drawer.drawer--right.drawer--is-open",openedSel:"#PageContainer #CartDrawer.drawer.drawer--right.drawer--is-open"},{buttonSel:"#modalAddToCartProduct:not([aria-hidden]) ._rsi-buy-now-button._rsi-buy-now-button-cart",openedSel:"#modalAddToCartProduct:not([aria-hidden])"},{buttonSel:".tt-cart.active",openedSel:".tt-cart.active"},{buttonSel:".qsc2-drawer:not(.qsc2-drawer--hidden)",openedSel:".qsc2-drawer:not(.qsc2-drawer--hidden)"},{buttonSel:".cart_info .cart-notification.active",openedSel:".cart_info .cart-notification.active",overwriteBtnSel:'#cart-notification-button [href="/checkout"]'},{buttonSel:"[data-minicart-input]:checked ~ .minicart__holder",openedSel:"[data-minicart-input]:checked ~ .minicart__holder"},{buttonSel:".side-panel.active.cart-drawer",openedSel:".side-panel.active.cart-drawer",overwriteBtnSel:".full.checkout"},{buttonSel:".slideout-right--open .slideout__drawer-right",openedSel:".slideout-right--open .slideout__drawer-right"},{buttonSel:".scd__wrapper:not(.hidden)",openedSel:".scd__wrapper:not(.hidden)"},{buttonSel:"#CartModal.modal.js-modal-open",openedSel:"#CartModal.modal.js-modal-open"},{buttonSel:".atc-banner--container[data-animation-state=open]",openedSel:".atc-banner--container[data-animation-state=open]"},{buttonSel:".offcanvas.show:not(.hiding)",openedSel:".offcanvas.show:not(.hiding)"},{buttonSel:"cart-notification-drawer.show-close-cursor",openedSel:"cart-notification-drawer.show-close-cursor",overwriteBtnSel:"cart-notification-drawer .buy-buttons"},{buttonSel:"cart-drawer.show-close-cursor",openedSel:"cart-drawer.show-close-cursor"},{buttonSel:".occ3-display-block",openedSel:".occ3-display-block",overwriteBtnSel:'[data-editable="checkout-button"]'},{buttonSel:".offcanvas.show:not(.hiding) .cart-notification.active",openedSel:".offcanvas.show:not(.hiding) .cart-notification.active",overwriteBtnSel:'#cart-notification-button [href="/checkout"]'},{buttonSel:".hero_canvas.act_opened",openedSel:".hero_canvas.act_opened",overwriteBtnSel:".cms-btn-check"},{buttonSel:".mini-cart.show",openedSel:".mini-cart.show",overwriteBtnSel:".cart-btns"},{buttonSel:".mini-cart.is-visible",openedSel:".mini-cart.is-visible",overwriteBtnSel:".mini-cart__checkout"},{buttonSel:"#mini-cart.drawer[open]",openedSel:"#mini-cart.drawer[open]"},{buttonSel:".js-drawer-open-cart .cart-drawer",openedSel:".js-drawer-open-cart .cart-drawer"},{buttonSel:"#monster-upsell-cart .mu_openned",openedSel:"#monster-upsell-cart .mu_openned",overwriteBtnSel:"#mu-checkout-button"},{buttonSel:".upcartPopupShow #CartPopup",openedSel:".upcartPopupShow #CartPopup",overwriteBtnSel:".upcart-checkout-button"},{buttonSel:".js-drawer-open-right .drawer--right",openedSel:".js-drawer-open-right .drawer--right"},{buttonSel:".qsc2-overlay:not(.qsc2-overlay--hidden)",openedSel:".qsc2-overlay:not(.qsc2-overlay--hidden)",overwriteBtnSel:".qsc2-btn.qsc2-checkout-button"},{buttonSel:".drawer--right.drawer--is-open",openedSel:".drawer--right.drawer--is-open"},{buttonSel:"cart-drawer.drawer[open]",openedSel:"cart-drawer.drawer[open]",overwriteBtnSel:'[href="/checkout"]'},{buttonSel:"loess-drawer.drawer[open]",openedSel:"loess-drawer.drawer[open]"},{buttonSel:"#Cart-Drawer",openedSel:"#Cart-Drawer.active",overwriteBtnSel:".button.full.checkout"},{buttonSel:".cart-drawer-container.active",openedSel:".cart-drawer-container.active"},{buttonSel:".quick-cart__wrapper.active .quick-cart__container",openedSel:".quick-cart__wrapper.active .quick-cart__container"},{buttonSel:".cart-drawer-modal.cc-popup.cc-popup--visible",openedSel:".cart-drawer-modal.cc-popup.cc-popup--visible",overwriteBtnSel:".checkout-buttons > a"},{buttonSel:".active.cart-slideout",openedSel:".active.cart-slideout",overwriteBtnSel:".active.cart-slideout .checkout"},{buttonSel:"#cart-drawer[open]",openedSel:"#cart-drawer[open]"},{buttonSel:".ctdrawer.active",openedSel:".ctdrawer.active"},{buttonSel:'#cart-icon-bubble .dropdown-menu[style*="display: block"]',openedSel:'#cart-icon-bubble .dropdown-menu[style*="display: block"]'},{buttonSel:".rebuy-cart.is-visible",openedSel:".rebuy-cart.is-visible",overwriteBtnSel:".rebuy-cart.is-visible .rebuy-cart__checkout-button"},{buttonSel:".t4s-drawer[aria-hidden=false]",openedSel:".t4s-drawer[aria-hidden=false]"},{buttonSel:".Drawer[aria-hidden=false]",openedSel:".Drawer[aria-hidden=false]"},{buttonSel:".header_minicart .bls-minicart-wrapper",openedSel:".header_minicart .bls-minicart-wrapper"},{buttonSel:"html.cart-show #dropdown-cart",openedSel:"html.cart-show #dropdown-cart",overwriteBtnSel:"html.cart-show #dropdown-cart .actions"},{buttonSel:'[data-ajax-cart-success][style="display: block;"]',openedSel:'[data-ajax-cart-success][style="display: block;"]',overwriteBtnSel:".btn-checkout"},{buttonSel:"#slidecarthq",openedSel:"#slidecarthq .slidecarthq-overlay.open",overwriteBtnSel:"#slidecarthq .footer .button"},{buttonSel:'.add-to-cart__success--holder.modal[style*="display: block"]',openedSel:'.add-to-cart__success--holder.modal[style*="display: block"]',overwriteBtnSel:'.add-to-cart__success--holder.modal [href="/checkout"]'},{buttonSel:'[x-show="$store.modals.rightDrawer.open"]:not([style="display: none;"])',openedSel:'[x-show="$store.modals.rightDrawer.open"]:not([style="display: none;"])',overwriteBtnSel:"#xpresslaneCheckoutMiniCartButton"},{buttonSel:".basel-cart-opened .cart-widget-side",openedSel:".basel-cart-opened .cart-widget-side",overwriteBtnSel:'[href="/checkout"]'},{buttonSel:".cart-content.active",openedSel:".cart-content.active",overwriteBtnSel:'[href="/cart"]'},{buttonSel:"body.cart-sidebar-show .halo-cart-sidebar",openedSel:"body.cart-sidebar-show .halo-cart-sidebar",overwriteBtnSel:"#cart-checkout,#cart-sidebar-checkout"}],o=function(){var t=!1;e.forEach(e=>{try{if(e.ifSelOnPage&&!document.querySelector(e.ifSelOnPage))return;if(t||_rsi.cartPage.drawerVisibilityThinking)return;if(!document.querySelector(e.buttonSel+" ._rsi-buy-now-button._rsi-buy-now-button-cart")&&document.querySelector(e.openedSel)){if(e.beforeOverwriteBtnSel)try{e.beforeOverwriteBtnSel()}catch(e){console.log(e)}e.overwriteBtnSel&&!_rsi.s.cartPage.overwriteSelector&&(_rsi.s.cartPage.overwriteSelector=e.overwriteBtnSel),t=!0,_rsi.cartPage.drawerVisibilityThinking=!0,_rsi.visiblity.isEnabled?(r(),setTimeout(function(){_rsi.cartPage.drawerVisibilityThinking=!1},3e3)):(_rsi.cartPage.drawerVisibilityThinking=!1,r())}}catch(e){console.log(e)}}),setTimeout(o,1500)};setTimeout(o,1500)}catch(e){console.log(e)}},handleDrawerCloses:function(){try{if(-1<window.location.pathname.indexOf("/cart"))return;var t=!1;[{ifSelOnPage:".prestige--v4, prestige--v3, .prestige--v2, .prestige--v1",buttonSel:".Drawer__Close"},{buttonSel:".js-drawer-open-right #CartDrawer.drawer--right .drawer__close-button"},{buttonSel:".quick-cart__close-icon"},{buttonSel:"#CartDrawer.js-drawer-open .js-drawer-close"},{buttonSel:".drawer--visible.cart__drawer .drawer__button.drawer__close"},{buttonSel:"#offcanvas-cart .offcanvas-header .btn-close"},{ifSelOnPage:"#PageContainer #CartDrawer.drawer.drawer--right",buttonSel:"#PageContainer #CartDrawer.drawer.drawer--right .js-drawer-close"}].forEach(e=>{try{if(e.ifSelOnPage&&!document.querySelector(e.ifSelOnPage))return;if(t)return;document.querySelectorAll(e.buttonSel).forEach(function(e){e.click(),t=!0})}catch(e){console.log(e)}})}catch(e){console.log(e)}},init:function(){var t,e;_rsi.s.cartPage.isEnabled&&(_rsi.form.mode="",t=function(e){e.preventDefault(),"function"==typeof _COD_FORM_ON_CART_PAGE_BUY_NOW_CLICK&&_COD_FORM_ON_CART_PAGE_BUY_NOW_CLICK();try{if(_rsi.form.deferLoading)return _rsi.form.mode="normalCart",void _rsi.form.open(!1,!1,!1,!1,"cart=true")}catch(e){console.log(e)}_rsi.form.mode="normalCart",_rsi.form.open()},e=function(){if(_rsi.s.form.isEmbedded){-1<window.location.pathname.indexOf("/cart")&&(_rsi.form.hasEmbeddedV2=!1);try{document.querySelector(".shopify-section.cart__footer-wrapper .cart__footer")&&document.querySelector(".shopify-section.cart__footer-wrapper .cart__footer").insertAdjacentHTML("afterend",'<div id="_rsi-cod-form-embed-custom-hook"></div>')}catch(e){console.log(e)}_rsi.form.embedded.init()}else{document.querySelectorAll("#_rsi-buy-now-button._rsi-buy-now-button-cart, #_rsi-buy-now-button-overwrite._rsi-buy-now-button-cart").forEach(function(e){e.remove()});try{_rsi.s.cartPage.overwriteSelector&&document.querySelectorAll(_rsi.s.cartPage.overwriteSelector).forEach(function(e){e.insertAdjacentHTML("afterend",_rsi.u.generateBuyButton("_rsi-buy-now-button-cart").replace("<button",'<button id="_rsi-buy-now-button-overwrite"').replace("<div",'<div id="_rsi-buy-now-button-overwrite"'))})}catch(e){console.log(e)}if(document.querySelector("#_rsi-buy-now-button-overwrite._rsi-buy-now-button-cart")?document.querySelectorAll("#_rsi-buy-now-button-overwrite._rsi-buy-now-button-cart").forEach(function(e){e.addEventListener("click",t)}):(document.querySelector('[name="checkout"]')?document.querySelectorAll('[name="checkout"]').forEach(function(e){e.nextElementSibling&&"_rsi-buy-now-button"==e.nextElementSibling.id||e.insertAdjacentHTML("afterend",_rsi.u.generateBuyButton("_rsi-buy-now-button-cart"))}):document.querySelector('form[method="post"][action$="/cart"] [type="submit"], form[method="post"][action$="/checkout"] [type="submit"], form[method="post"][action*="/cart?"] [type="submit"], form[method="post"][action*="/checkout?"] [type="submit"]')&&document.querySelectorAll('form[method="post"][action$="/cart"] [type="submit"], form[method="post"][action$="/checkout"] [type="submit"], form[method="post"][action*="/cart?"] [type="submit"], form[method="post"][action*="/checkout?"] [type="submit"]').forEach(function(e){e.nextElementSibling&&"_rsi-buy-now-button"==e.nextElementSibling.id||e.insertAdjacentHTML("afterend",_rsi.u.generateBuyButton("_rsi-buy-now-button-cart"))}),document.querySelectorAll("#_rsi-buy-now-button._rsi-buy-now-button-cart").forEach(function(e){e.removeEventListener("click",t),e.addEventListener("click",t)}),Shopify.theme&&("Narrative"!=Shopify.theme.name&&"Boundless"!=Shopify.theme.name||document.querySelector('.drawer[tabindex="-1"]').removeAttribute("tabindex"))),!_rsi.s.cartPage.isSeperateButton){let e=4,t=function(){document.querySelectorAll('[name="checkout"], form[method="post"][action$="/cart"] [type="submit"], form[method="post"][action$="/checkout"] [type="submit"], form[method="post"][action*="/cart?"] [type="submit"], form[method="post"][action*="/checkout?"] [type="submit"], [href="/checkout"], button#cart-checkout,button#cart-sidebar-checkout,.cart__checkout').forEach(function(e){e.style.display="none"}),0<e&&setTimeout(t,500),e--};t()}document.querySelector("#_rsi-buy-now-button._rsi-buy-now-button-cart, #_rsi-buy-now-button-overwrite._rsi-buy-now-button-cart")&&_rsi.autoOpen&&document.querySelector("#_rsi-buy-now-button._rsi-buy-now-button-cart, #_rsi-buy-now-button-overwrite._rsi-buy-now-button-cart").click(),_rsi.cartPage.initBuyButtonShaker()}},-1<window.location.pathname.indexOf("/cart")&&-1==window.location.pathname.indexOf("/products")&&!_rsi.s.cartPage.overwriteSelector&&document.querySelector(".cart__recap .cart__checkout-button")&&(_rsi.s.cartPage.overwriteSelector='[name="checkout"]:not([type="hidden"])'),!_rsi.s.cartPage.overwriteSelector&&document.querySelector(".halo-cart-sidebar")&&(_rsi.s.cartPage.overwriteSelector="#cart-checkout, #cart-sidebar-checkout"),document.querySelector("#mini-cart-form")&&(_rsi.s.cartPage.overwriteSelector='[name="checkout"]:not([type="hidden"])'),_rsi.visiblity.isEnabled?_rsi.visiblity.run(e,"cartPage"):e(),Shopify.theme&&"Boundless"==Shopify.theme.name&&document.querySelector("head").insertAdjacentHTML("beforeend","<style>.ajaxcart__footer{height:auto!important}</style>"))},initBuyButtonShaker:function(){(_rsi.s.buyNowButton.shakerEnabled||_rsi.s.buyNowButton.shakerType&&"none"!=_rsi.s.buyNowButton.shakerType)&&(_rsi.buyButton.cleanShakerIntervals(),_rsi.buyButton.runShaker("#_rsi-buy-now-button._rsi-buy-now-button-cart"))}},form:{mode:"",deferLoading:!1,hasEmbeddedV2:!1,autoCc:{sessionId:"",addrSelector:'#_rsi-cod-form-modal-form input[data-type="address"]',sessionUrl:"/apps/rsi-cod-form-do-not-change/autocomplete/start-session",autocompleteUrl:"/apps/rsi-cod-form-do-not-change/autocomplete/get-suggestions",placeUrl:"/apps/rsi-cod-form-do-not-change/autocomplete/get-place",loadingSuggestions:!1,init:function(){_rsi.s.autocomplete&&_rsi.s.autocomplete.isEnabled&&document.querySelector(_rsi.form.autoCc.addrSelector)&&(document.querySelector(_rsi.form.autoCc.addrSelector).addEventListener("input",_rsi.form.autoCc.onInput),document.querySelector(_rsi.form.autoCc.addrSelector).addEventListener("focusout",_rsi.form.autoCc.onFocusOut))},onInput:function(e){e&&e.preventDefault(),_rsi.form.autoCc.sessionId||(_rsi.form.autoCc.sessionId="loading",_rsi.u.ajax("GET",_rsi.form.autoCc.sessionUrl,null,function(e){try{(e=JSON.parse(e)).sessionId&&(_rsi.form.autoCc.sessionId=e.sessionId,_rsi.form.autoCc.onInput())}catch(e){console.log(e)}},function(e){console.log(e)})),"loading"!=_rsi.form.autoCc.sessionId&&_rsi.form.autoCc.sessionId&&!_rsi.form.autoCc.loadingSuggestions&&(e=document.querySelector(_rsi.form.autoCc.addrSelector),3<e.value.length?(_rsi.form.autoCc.loadingSuggestions=!0,_rsi.u.ajax("POST",_rsi.form.autoCc.autocompleteUrl,JSON.stringify({input:e.value,sessionId:_rsi.form.autoCc.sessionId,countryCode:_rsi.s.localization.countryCode}),function(e){try{_rsi.form.autoCc.loadingSuggestions=!1,(e=JSON.parse(e)).predictions&&function(e){document.querySelector("._rsi-search-auto-res-container")||document.querySelector(_rsi.form.autoCc.addrSelector).closest("._rsi-modal-fields-item").insertAdjacentHTML("afterbegin",'<div class="_rsi-search-auto-res-container _rsi-search-auto-hidden"></div>');var i="";0<e.length&&(i+='<div class="_rsi-search-auto-res-item _rsi-search-auto-res-item-gmaps _rsi-search-auto-res-item-header"><b>'+_rsi.u.getLocaleTranslation({t:{en:"Suggestions",hr:"Prijedlozi",it:"Suggerimenti",hu:"Javaslatok",el:"Προτάσεις",es:"Sugerencias",cs:"Návrhy",fr:"Suggestions",pt:"Sugestões",ar:"اقتراحات",sl:"Predlogi",bg:"Предложения",lt:"Pasiūlymai",ro:"Sugestii",sk:"Návrhy",pl:"Propozycje"}})+'</b><button class="_rsi-auto-header-close"><svg class="_rsi-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"></path></svg></button></div>'),e.forEach(e=>{let t={};e.matched_substrings&&e.matched_substrings[0]&&(t=e.matched_substrings[0]);let r=0,o=0;t.length&&(o=t.length),t.offset&&(r=t.offset),i+='<div class="_rsi-search-auto-res-item" data-value="'+encodeURI(e.place_id)+'">'+e.description.slice(0,r)+"<b>"+e.description.slice(r,r+o)+"</b>"+e.description.slice(r+o,e.description.length)+"</div>"}),0<e.length&&(document.querySelector("._rsi-search-auto-res-container").classList.remove("_rsi-search-auto-hidden"),i+='<div class="_rsi-search-auto-res-item _rsi-search-auto-res-item-gmaps" data-value="">Powered by <span style="font-weight: 600">Google Maps</span></div>'),document.querySelector("._rsi-search-auto-res-container").innerHTML=i,document.querySelector("._rsi-search-auto-res-container").querySelectorAll("._rsi-search-auto-res-item:not(._rsi-search-auto-res-item-gmaps)").forEach(e=>{e.addEventListener("click",_rsi.form.autoCc.onOptClick)}),document.querySelector("._rsi-search-auto-res-item-header").querySelectorAll("._rsi-auto-header-close").forEach(e=>{e.addEventListener("click",_rsi.form.autoCc.onCloseClick)})}(e.predictions)}catch(e){console.log(e)}},function(e){console.log(e),_rsi.form.autoCc.loadingSuggestions=!1,document.querySelector("._rsi-search-auto-res-container")&&(document.querySelector("._rsi-search-auto-res-container").innerHTML="",document.querySelector("._rsi-search-auto-res-container").classList.add("_rsi-search-auto-hidden"))})):_rsi.form.autoCc.loadingSuggestions=!1)},onOptClick:function(e,t){e&&(t=decodeURI(e.target.getAttribute("data-value"))),t&&!_rsi.form.autoCc.loadingSuggestions&&(document.querySelector("._rsi-search-auto-res-container").innerHTML="",document.querySelector("._rsi-search-auto-res-container").classList.add("_rsi-search-auto-hidden"),_rsi.form.autoCc.loadingSuggestions=!0,_rsi.u.ajax("POST",_rsi.form.autoCc.placeUrl,JSON.stringify({placeId:t,sessionId:_rsi.form.autoCc.sessionId,countryCode:_rsi.s.localization.countryCode}),function(e){try{(e=JSON.parse(e)).addressData&&(function(a){document.querySelectorAll("#_rsi-cod-form-modal-form [data-type]").forEach(i=>{var e=i.getAttribute("data-type");let t=i.getAttribute("name"),s=!1;t=t||"";var r="INPUT"==i.nodeName;if("address"==e&&a.addressData.address&&r&&(i.value=a.addressData.address,s=!0),"civic_number"==e&&a.addressData.address2&&r&&(i.value=a.addressData.address2,s=!0),("city"==e||"city_country_field"==e||"additionals_text_input_city"==t)&&a.addressData.city&&r&&(i.value=a.addressData.city,s=!0),("zip_code"==e||"pincode_country_field"==e)&&a.addressData.zipCode&&r&&(i.value=a.addressData.zipCode,s=!0),("province"==e||"province_country_field"==e||"additionals_text_input_province"==t)&&a.addressData.province)if("SELECT"==i.nodeName){let r=[];i.querySelectorAll("option").forEach(e=>{r.push({label:e.textContent,value:decodeURI(e.value)})});let o=!1;a.addressData.province.forEach(t=>{o||r.forEach(e=>{o||(_rsi.form.covr.checkLabelMatch([t.label],e.label)&&(o=!0,i.value=e.value,s=!0),_rsi.form.covr.checkLabelMatch([t.value],e.value)&&(o=!0,i.value=e.value,s=!0))})})}else if("INPUT"==i.nodeName){let t="";a.addressData.province.forEach(e=>{t&&(t+=", "),t+=e.label}),i.value=t,s=!0}if(("city"==e||"city_country_field"==e||"additionals_text_input_city"==t)&&a.addressData.city&&!r&&"SELECT"==i.nodeName){let r=[];i.querySelectorAll("option").forEach(e=>{r.push({label:e.textContent,value:decodeURI(e.value)})});let o=!1;a.addressData.localitiesData.forEach(t=>{o||r.forEach(e=>{o||(_rsi.form.covr.checkLabelMatch([t.label],e.label)&&(o=!0,i.value=e.value,s=!0),_rsi.form.covr.checkLabelMatch([t.value],e.value)&&(o=!0,i.value=e.value,s=!0))})})}s&&(i.dispatchEvent(new Event("input",{bubbles:!0})),i.dispatchEvent(new Event("change",{bubbles:!0})))});try{document.querySelector('#_rsi-cod-form-modal-form input[name="google_autocomplete_selection"]')||document.querySelector("#_rsi-cod-form-modal-form").insertAdjacentHTML("afterbegin",'<input type="hidden" name="google_autocomplete_selection" value="">'),document.querySelector('#_rsi-cod-form-modal-form input[name="google_autocomplete_location"]')||document.querySelector("#_rsi-cod-form-modal-form").insertAdjacentHTML("afterbegin",'<input type="hidden" name="google_autocomplete_location" value="">'),document.querySelector('#_rsi-cod-form-modal-form input[name="google_autocomplete_map"]')||document.querySelector("#_rsi-cod-form-modal-form").insertAdjacentHTML("afterbegin",'<input type="hidden" name="google_autocomplete_map" value="">'),document.querySelector('#_rsi-cod-form-modal-form input[name="google_autocomplete_selection"]')&&(document.querySelector('#_rsi-cod-form-modal-form input[name="google_autocomplete_selection"]').value=a.formattedAddress),document.querySelector('#_rsi-cod-form-modal-form input[name="google_autocomplete_location"]')&&(document.querySelector('#_rsi-cod-form-modal-form input[name="google_autocomplete_location"]').value="Lat: "+a.geometry.location.lat+" Lng: "+a.geometry.location.lng),document.querySelector('#_rsi-cod-form-modal-form input[name="google_autocomplete_map"]')&&(document.querySelector('#_rsi-cod-form-modal-form input[name="google_autocomplete_map"]').value="https://maps.google.com/?q="+a.geometry.location.lat+","+a.geometry.location.lng)}catch(e){console.log(e)}}(e),_rsi.form.autoCc.sessionId="",_rsi.form.autoCc.loadingSuggestions=!1)}catch(e){console.log(e)}},function(e){console.log(e),_rsi.form.autoCc.loadingSuggestions=!1}))},onFocusOut:function(e){if(e&&e.preventDefault(),document.querySelector("._rsi-search-auto-res-container"))return setTimeout(()=>{document.querySelector("._rsi-search-auto-res-container").classList.add("_rsi-search-auto-hidden")},600),!0},onCloseClick:function(e){if(e&&e.preventDefault(),document.querySelector("._rsi-search-auto-res-container"))return document.querySelector("._rsi-search-auto-res-container").classList.add("_rsi-search-auto-hidden"),!0}},normalizeLabels:function(){try{var t=!1;_rsi.s.form.fields.items_array.forEach(e=>{"string"==typeof e.label&&e.isActive&&-1==e.type.indexOf("checkbox")&&0<e.label.trim().length&&(t=!0)}),_rsi.s.form.fields.areLabelsEnabled&&(_rsi.s.form.fields.areLabelsEnabled=t)}catch(e){console.log(e)}},manageStyle:function(){try{var e;_rsi.s.form.style&&(e="<style>",e+="._rsi-modal-fields-item:not(._rsi-modal-fields-checkbox)>label,._rsi-modal-fields-title,._rsi-modal-header-title,._rsi-modal-shipping-rates-title{color:"+_rsi.s.form.style.color+"}._rsi-downsells-modal{font-size:calc("+_rsi.s.form.style.fontSizeFactor+" * 16.8px);}#_rsi-cod-form-modal-form,#_rsi-cod-form-modal-upsell,._rsi-cod-form-otp-popup{font-size:calc("+_rsi.s.form.style.fontSizeFactor+" * 16.8px);background:"+_rsi.s.form.style.bgColor+";border-radius:"+_rsi.s.form.style.borderRadius+"px;-webkit-box-shadow:0 10px 20px 0 rgb(0,0,0,"+_rsi.s.form.style.shadowOpacity+");box-shadow:0 10px 20px 0 rgb(0,0,0,"+_rsi.s.form.style.shadowOpacity+");border:"+_rsi.s.form.style.borderWidth+"px solid "+_rsi.s.form.style.borderColor+"}._rsi-build-block ._rsi-modal-checkout-lines{background-color:"+(_rsi.s.form.style.totalsSumBgColor||"rgb(235,235,235)")+" !important;}",e+="</style>",document.head.insertAdjacentHTML("beforeend",e))}catch(e){console.log(e)}},generateBaseCode:function(){var e=!1;try{_rsi.s.form.style&&!_rsi.s.form.isEmbedded&&_rsi.s.form.style.fullScr&&(e=!0)}catch(e){console.log(e)}return'<div id="_rsi-cod-form-modal"><div class="_rsi-modal-container'+(_rsi.s.form.isRtlEnabled?" _rsi-modal-container-rtl":"")+(e?" _rsi-modal-container-full-screen":"")+'"></div></div>'},open:function(e,t,r,o,i){if(_rsi.u.isValidPage("loading")||"loading"==_rsi.s.form.currentPage&&!e){document.getElementById("_rsi-cod-form-modal")&&document.getElementById("_rsi-cod-form-modal").remove(),document.querySelector("body").insertAdjacentHTML("beforeend",_rsi.form.generateBaseCode()),document.querySelector("#_rsi-cod-form-modal ._rsi-modal-container").classList.remove("_rsi-modal-events-disabled"),_rsi.s.form.currentPage="loading";function n(e,t){_rsi.s.form.currentPage="init",_rsi.form.tickUps.clear(),t||_rsi.form.build(),"normalCart"==_rsi.form.mode&&_rsi.upsells.isEnabled&&_rsi.upsells.updateCacheDataForCart(e),_rsi.form.discounts.init(),document.querySelector("#awesome-quantity-data")&&(document.querySelector("head").insertAdjacentHTML("beforeend","<style>._rsi-modal-line-item-remove-button{display:none !important}</style>"),0<parseInt(document.querySelector("#awesome-quantity-data").getAttribute("data-applied-discount"))&&(_rsi.form.discounts.codesApplied.push({text:"AWESOME QUANTITY DISCOUNT",amount:parseInt(document.querySelector("#awesome-quantity-data").getAttribute("data-applied-discount")),type:"fixed_amount"}),_rsi.form.discounts.updateTotalAmount())),_rsi.form.discounts.automatic.init(e),_rsi.shippingRates.init(),t?_rsi.form.saveData.init():_rsi.form.saveData.init(!0),t||"function"==typeof _COD_FORM_ON_OPEN_INIT_END&&_COD_FORM_ON_OPEN_INIT_END(),"function"==typeof _COD_FORM_ON_OPEN_INIT_END_DEF&&_COD_FORM_ON_OPEN_INIT_END_DEF(),_rsi.form.addUtms(),_rsi.attackMode.updateInput(),_rsi.form.provListn.init(),_rsi.cartPage.handleDrawerCloses(),t||document.querySelector("#_rsi-cod-form-modal-form").addEventListener("submit",_rsi.form.onSubmit),document.querySelector("#_rsi-cod-form-modal-close")&&document.querySelector("#_rsi-cod-form-modal-close").addEventListener("click",_rsi.form.onClose),_rsi.form.submitOrderTotalInterval.init(),_rsi.form.quantityOffers.init(),_rsi.form.quantityHandlers.init(),_rsi.form.tickUps.init(),_rsi.form.covr.open(),(_rsi.s.form.submitButton.shakerEnabled||_rsi.s.form.submitButton.shakerType&&"none"!=_rsi.s.form.submitButton.shakerType||document.querySelector("._rsi-buy-now-custom-additionals-button._rsi-buy-now-button"))&&(_rsi.buyButton.cleanShakerIntervals(),_rsi.buyButton.runShaker("._rsi-modal-submit-button._rsi-buy-now-button"),_rsi.buyButton.runShaker("._rsi-buy-now-custom-additionals-button._rsi-buy-now-button")),r||_rsi.tracking.eventsHanlders.initiateCheckout(_rsi.cart),_rsi.form.handleCheckoutButton(),_rsi.form.initDatePickers(),_rsi.form.inlineVal.init(),_rsi.mlc.init(),_rsi.form.autoCc.init(),_rsi.metrics.sendQueue(1)}if(_rsi.form.deferLoading&&i&&!r)return _rsi.form.build(!0),document.querySelector("#_rsi-cod-form-modal").classList.add("_rsi-cod-form-modal-open"),_rsi.u.isIos()&&document.querySelectorAll("html, body").forEach(function(e){e.style.overflow="hidden"}),document.querySelector("#_rsi-cod-form-modal-form").addEventListener("submit",_rsi.form.onSubmit),_rsi.form.saveData.init(!0,!0),document.querySelector('#_rsi-cod-form-modal-form button[type="submit"]').innerHTML='<svg class="_rsi-modal-loading-icon" style="margin: auto; display: block; shape-rendering: auto;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="#ffffff" stroke-width="9" r="35" stroke-dasharray="164.93361431346415 56.97787143782138"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg>',void _rsi.form.deferredLoading.calculateCart(function(i){var s=_rsi.s.form.isEmbedded,a=!!_rsi.s.form.fields.isV2;document.querySelectorAll("._rsi-cod-form-deferred-loading-hook").forEach(function(e){var t,r=e.getAttribute("data-field-type"),o=!1;_rsi.s.form.fields.items_array.forEach(function(e){e.type==r&&(o=e)}),_rsi.form.buildBlocks[r]&&o&&(t=_rsi.form.buildBlocks[r](o,i,a,s,!1),e.insertAdjacentHTML("afterend",t),e.remove())});var e,t=!0;try{_rsi.visiblity.isEnabledForTotal&&(i.total_price>=_rsi.visiblity.totalValues[0]&&i.total_price<_rsi.visiblity.totalValues[1]||(t=!1)),t||(document.querySelector("#_rsi-cod-form-modal-form").classList.add("_rsi-modal-form-invalid-total"),_rsi.s.visiblity.totalLimitText&&document.querySelector("._rsi-modal-header")&&(e='<div class="_rsi-modal-invalid-total-text">'+_rsi.s.visiblity.totalLimitText+"</div>",document.querySelector("._rsi-modal-header").insertAdjacentHTML("afterend",e)))}catch(e){console.log(e)}var r="";try{var o=_rsi.btnIconData;_rsi.s.form.submitButton.iconType&&"none"!=_rsi.s.form.submitButton.iconType&&o[_rsi.s.form.submitButton.iconType]&&(r=o[_rsi.s.form.submitButton.iconType].svgComponent,o=o[_rsi.s.form.submitButton.iconType].initialWidth*_rsi.s.form.submitButton.style.fontSizeFactor,r=r.replace("{color}",_rsi.s.form.submitButton.style.color).replace("{width}",o))}catch(e){console.log(e)}document.querySelector('#_rsi-cod-form-modal-form button[type="submit"]').innerHTML="<span>"+_rsi.s.form.submitButton.text.replace("{order_total}",'<span class="rsi-cod-form-submit-total-value"></span>').replace("{order_subtotal}",'<span class="rsi-cod-form-submit-subtotal-value"></span>')+(_rsi.s.form.submitButton.subt?'<span class="_rsi-buy-now-button-subtitle">'+_rsi.s.form.submitButton.subt+"</span>":"")+"</span>"+(r||""),n(i,!0)},i);_rsi.form.build(),document.querySelector("#_rsi-cod-form-modal").classList.add("_rsi-cod-form-modal-open"),_rsi.u.isIos()&&document.querySelectorAll("html, body").forEach(function(e){e.style.overflow="hidden"}),e?document.querySelector("#_rsi-cod-form-modal-close")&&document.querySelector("#_rsi-cod-form-modal-close").addEventListener("click",_rsi.form.onClose):!_rsi.upsells.isEnabled||_rsi.upsells.isPostPurchase||r||!0===t?_rsi.cartManager.getCart(!0,function(e){n(e)},!1,o):_rsi.upsells.open(!1,o)}},covr:{savedCovr:{},activeCovr:!1,hasSearchDdowns:!1,init:function(){_rsi.s.form.covrData&&_rsi.s.form.covrId&&(_rsi.form.covr.activeCovr=!1,_rsi.s.form.covrData.forEach(e=>{e.id==_rsi.s.form.covrId&&(_rsi.form.covr.activeCovr=e)}),_rsi.form.covr.activeCovr&&_rsi.form.covr.activeCovr.fields.forEach((t,r)=>{_rsi.s.form.fields.items_array.forEach(function(e){-1<t.replacesTypes.indexOf(e.type)&&(e.isCoverageLevel=r+1+"",e.isActive=!0,t.nameOverwrite&&(e.backendFields.name=t.nameOverwrite),_rsi.s.form.searchCovr&&0<r&&(e.isSearchDdown=!0,e.searchOptions=[]))})}))},processField:function(e){var t="",r=e.required?'<span class="_rsi-modal-required-label">*</span>':"";e.label&&(t+="<label>"+e.label+r+"</label>");r=e.label;e.n&&e.n.ph&&(r=e.n.ph),e.rmProvn&&(window.RSI_COVR_EXCLUDED_PROVINCES_INTERNAL=e.rmProvn.split("\n"));e='data-type="'+e.type+'" name="'+e.backendFields.name+'" placeholder="'+r+'" id="_rsi-field-'+e.type+'"'+(e.required?' required="required"':"")+(e.isCoverageLevel?' data-coverage-level="'+e.isCoverageLevel+'"':"");return t+="<select "+e+">",[{value:"",label:r}].forEach(function(e){t+='<option value="'+e.value+'">'+e.label+"</option>"}),t+="</select>"},open:function(){_rsi.form.covr.activeCovr&&(_rsi.form.covr.hasSearchDdowns=!1,_rsi.s.form.fields.items_array.forEach(function(e){e.isSearchDdown&&(_rsi.form.covr.hasSearchDdowns=!0)}),_rsi.form.covr.savedCovr[_rsi.s.form.covrId]?(_rsi.form.covr.activeCovr=_rsi.form.covr.savedCovr[_rsi.s.form.covrId],_rsi.form.covr.onCovrLoad()):window.RSI_COVR_OVERWRITE?(_rsi.form.covr.activeCovr=window.RSI_COVR_OVERWRITE[_rsi.s.form.covrId],_rsi.form.covr.onCovrLoad()):_rsi.form.covr.loadCovr(_rsi.s.form.covrId))},loadCovr:function(t){var r=function(){var e=window["RSI_COVR_"+t.replace(/-/g,"_")];e?(_rsi.form.covr.savedCovr[t]=e,_rsi.form.covr.activeCovr=e,_rsi.form.covr.onCovrLoad()):setTimeout(r,500)};setTimeout(r,500)},checkLabelMatch:function(e,t){t=t.toLowerCase().replace(/á/g,"a").replace(/â/g,"a").replace(/à/g,"a").replace(/ç/g,"c").replace(/ã/g,"a").replace(/é/g,"e").replace(/è/g,"e").replace(/ê/g,"e").replace(/í/g,"i").replace(/ó/g,"o").replace(/ô/g,"o").replace(/õ/g,"o").replace(/ú/g,"u").replace(/ï/g,"i").replace(/ñ/g,"n");var r=!1;return e.forEach(e=>{(e=e.toLowerCase().replace(/á/g,"a").replace(/â/g,"a").replace(/à/g,"a").replace(/ç/g,"c").replace(/ã/g,"a").replace(/é/g,"e").replace(/è/g,"e").replace(/ê/g,"e").replace(/í/g,"i").replace(/ó/g,"o").replace(/ô/g,"o").replace(/õ/g,"o").replace(/ú/g,"u").replace(/ï/g,"i").replace(/ñ/g,"n")).trim()==t&&(r=!0)}),r},onCovrLoad:function(){if(window.RSI_COVR_ADD_ITEMS)try{window.RSI_COVR_ADD_ITEMS[_rsi.s.form.covrId]&&window.RSI_COVR_ADD_ITEMS[_rsi.s.form.covrId].forEach(e=>{let r=!1;_rsi.form.covr.activeCovr.provinces.forEach(t=>{_rsi.form.covr.checkLabelMatch([e.province],t.label)&&(r=!0,e.cities.forEach(e=>{let r=!1;"string"==typeof e?_rsi.form.covr.checkLabelMatch(t.cities,e)?r=!0:(r=!0,t.cities.push(e),t.cities.sort()):t.cities.forEach(t=>{_rsi.form.covr.checkLabelMatch([t.label],e.city)&&(r=!0,e.zipCodes.forEach(e=>{_rsi.form.covr.checkLabelMatch(t.zipCodes,e)&&(t.zipCodes.push(e),t.zipCodes.sort())}))}),r||(t.cities.push(e),t.cities.sort(function(e,t){e=e.label.toUpperCase(),t=t.label.toUpperCase();return e<t?-1:t<e?1:0}))}))}),r||(_rsi.form.covr.activeCovr.provinces.push({label:e.province,code:e.province,id:e.province,cities:e.cities}),_rsi.form.covr.activeCovr.provinces.sort(function(e,t){e=e.label.toUpperCase(),t=t.label.toUpperCase();return e<t?-1:t<e?1:0}))})}catch(e){console.log(e)}var r,e;if(document.querySelector('#_rsi-cod-form-modal-form select[data-coverage-level="1"]')&&(r="",e=document.querySelector('#_rsi-cod-form-modal-form select[data-coverage-level="1"] option:first-child').innerHTML,r+='<option value="">'+e+"</option>",_rsi.form.covr.activeCovr.provinces.forEach(e=>{var t=e.label;e.code&&(t=e.code),window.RSI_COVR_EXCLUDED_PROVINCES&&_rsi.form.covr.checkLabelMatch(window.RSI_COVR_EXCLUDED_PROVINCES,e.label)||window.RSI_COVR_EXCLUDED_PROVINCES_INTERNAL&&_rsi.form.covr.checkLabelMatch(window.RSI_COVR_EXCLUDED_PROVINCES_INTERNAL,e.label)||(r+='<option value="'+t+'">'+e.label+"</option>")}),document.querySelector('#_rsi-cod-form-modal-form select[data-coverage-level="1"]').innerHTML=r),_rsi.form.covr.hasSearchDdowns)_rsi.form.covr.hasSearchDdowns&&_rsi.form.fields.searchDdowns.startAgain();else for(var t=1;t<=_rsi.form.covr.activeCovr.levels;t++)document.querySelector('#_rsi-cod-form-modal-form select[data-coverage-level="'+t+'"]').value="";_rsi.form.covr.startDropdowns()},startDropdowns:function(){document.querySelectorAll("#_rsi-cod-form-modal-form [data-coverage-level]").forEach(e=>{e.removeEventListener("input",_rsi.form.covr.onInput),e.addEventListener("input",_rsi.form.covr.onInput)})},onInput:function(e){for(var t,r,o,i,s,a,n=parseInt(e.target.getAttribute("data-coverage-level")),c=1;c<=_rsi.form.covr.activeCovr.levels;c++)c<=n||(t=document.querySelector('#_rsi-cod-form-modal-form [data-coverage-level="'+(c-1)+'"]').value,r=document.querySelector('#_rsi-cod-form-modal-form [data-coverage-level="'+c+'"]').getAttribute("data-type"),o=[],""!=t&&(2==c?_rsi.form.covr.activeCovr.provinces.forEach(e=>{t!=e.label&&t!=e.code||e.cities.forEach(e=>{let t=!1;"string"==typeof e?t={label:e,value:e}:"object"==typeof e&&(t={label:e.label,value:e.label}),!1!==t&&(window.RSI_COVR_EXCLUDED_CITIES&&_rsi.form.covr.checkLabelMatch(window.RSI_COVR_EXCLUDED_CITIES,t.label)||o.push(t))})}):3==c&&(i=document.querySelector('#_rsi-cod-form-modal-form [data-coverage-level="1"]').value,_rsi.form.covr.activeCovr.provinces.forEach(e=>{i!=e.label&&i!=e.code||e.cities.forEach(e=>{e.label==t&&e.zipCodes.forEach(e=>{o.push({label:e,value:e})})})}))),_rsi.form.covr.hasSearchDdowns?(_rsi.s.form.fields.items_array.forEach(function(e){e.type==r&&(e.searchOptions=o)}),(s=document.querySelector('#_rsi-cod-form-modal-form [data-coverage-level="'+c+'"]').closest("._rsi-modal-fields-item")).querySelector("._rsi-search-ddown-visible-input").value="",s.querySelector("._rsi-search-ddown-visible-input").dispatchEvent(new Event("input",{bubbles:!0}))):(s=document.querySelector('#_rsi-cod-form-modal-form [data-coverage-level="'+c+'"]').querySelector("option:first-child").innerHTML,a="",a+='<option value="">'+s+"</option>",o.forEach(e=>{a+='<option value="'+e.value+'">'+e.label+"</option>"}),document.querySelector('#_rsi-cod-form-modal-form [data-coverage-level="'+c+'"]').innerHTML=a))}},provListn:{selectedCode:"",init:function(){var e;_rsi.shippingRates.hasProvRates&&(e='#_rsi-cod-form-modal-form select[data-type="province_country_field"],#_rsi-cod-form-modal-form select[data-type="province"]',"DZ"!=_rsi.s.localization.countryCode||_rsi.s.form.covrId?document.querySelector('#_rsi-cod-form-modal-form select[data-type="province_country_field"],#_rsi-cod-form-modal-form select[data-type="province"]')||(e='#_rsi-cod-form-modal-form select[name="additionals_dropdown_input_province"]'):e='#_rsi-cod-form-modal-form select[data-type="city_country_field"]',document.querySelectorAll(e).forEach(e=>{e.removeEventListener("input",_rsi.form.provListn.onSelect),e.addEventListener("input",_rsi.form.provListn.onSelect),_rsi.form.provListn.onSelect(!1,e.value)}))},onSelect:function(e,t){t=e?e.target.value:t||"",_rsi.form.covr.activeCovr&&0<t.length&&_rsi.form.covr.activeCovr.provinces.forEach(e=>{e.code==t&&e.id&&(t=e.id)}),_rsi.form.provListn.selectedCode=t,_rsi.form.discounts.updateTotalAmount(!1,!1)}},deferredLoading:{calculateCart:function(t,a){var n,e,r;"productCart"==_rsi.form.mode?(n=function(e){_rsi.cartManager.getCart(!0,function(e){t(e)},!1,e)},_rsi.productPage.optionsHandlers.isActive&&-1<a.indexOf("properties")&&(window._COD_FORM_PRODUCT_PAGE_ADD_MODE_OVERWRITE="add"),e=function(t){t=t||"update","string"==typeof _COD_FORM_PRODUCT_PAGE_ADD_MODE_OVERWRITE&&(t=_COD_FORM_PRODUCT_PAGE_ADD_MODE_OVERWRITE);var e,r,o=!!(window.AwesomeQuantityBreak&&document.querySelector("#awesome-quantity-data")||window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS);if("update"==t&&!o)try{a=a.replace("&&","&");var i,s=_rsi.u.queryStringToJSON(a);s.quantity||(i=1,document.querySelectorAll('[name="quantity"]').forEach(e=>{e.value>i&&(i=e.value)}),s.quantity=i),!s.id&&s.variant_id&&(s.id=s.variant_id),s.id&&s.quantity?(window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL=[{id:s.id,quantity:s.quantity}],o=!0):(_rsi.u.sendReport({msg:"Could not find id or quantity while generating jsonAddData on addToCart popup in product page. addData: "+a}),t="add")}catch(e){_rsi.u.sendReport({msg:"Error while generating jsonAddData on addToCart popup in product page. Error: "+e+" addData: "+a}),t="add"}o?(e=[],window.AwesomeQuantityBreak?e=window.AwesomeQuantityBreak.selectedVariants:window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS?e=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS:window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL&&(e=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL),Array.isArray(e)||(window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS?e=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS:window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL&&(e=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL)),r={},"update"==t?(r.updates={},e.forEach(function(e){r.updates[e.id+""]=e.quantity})):r.items=e,_rsi.u.ajax("POST",_rsi.rootShopifyRoute+"cart/"+t+".js",JSON.stringify(r),function(e){try{if("update"==t)return e=JSON.parse(e),void n(e)}catch(e){_rsi.u.sendReport({msg:"Error while parsing data on update.js on addToCart in product page. Error: "+e})}n()},null,{"Content-Type":"application/json"},!0)):_rsi.u.ajax("POST",_rsi.rootShopifyRoute+"cart/"+t+".js",a,function(e){setTimeout(function(){n()},500)},null,{"Content-Type":"multipart/form-data"},!0)},r="product-only",_rsi.s.productPage.addMode&&(r=_rsi.s.productPage.addMode),"product-plus-cart"==r?e("update"):_rsi.productPage.oldCart&&"empty"==_rsi.productPage.oldCart?e():_rsi.cartManager.clearCart(function(){_rsi.u.clearCartCookies(),e()},function(){_rsi.u.clearCartCookies(),e()})):"normalCart"==_rsi.form.mode&&_rsi.cartManager.getCart(!0,function(e){t(e)},!1)}},submitOrderTotalInterval:{isInitiated:!1,renderPrices:function(){if(document.querySelector(".rsi-cod-form-submit-total-value")&&document.querySelector('[data-checkout-line="total"] ._rsi-modal-checkout-line-value')&&document.querySelectorAll(".rsi-cod-form-submit-total-value").forEach(e=>{e.innerHTML=document.querySelector('[data-checkout-line="total"] ._rsi-modal-checkout-line-value').innerHTML}),document.querySelector(".rsi-cod-form-submit-subtotal-value")&&document.querySelector('[data-checkout-line="subtotal"] ._rsi-modal-checkout-line-value')&&document.querySelectorAll(".rsi-cod-form-submit-subtotal-value").forEach(e=>{e.innerHTML=document.querySelector('[data-checkout-line="subtotal"] ._rsi-modal-checkout-line-value').innerHTML}),document.querySelector(".rsi-cod-form-submit-total-cho-value")&&document.querySelector('[data-checkout-line="total"][data-partial-total-for-checkout]')){var i,s=parseInt(document.querySelector('[data-checkout-line="total"][data-partial-total-for-checkout]').getAttribute("data-partial-total-for-checkout"));let t="none",r=0,e=!1;_rsi.s.form.fields.items_array.forEach(e=>{-1<e.type.indexOf("additionals_checkout_button")&&e.dsT&&(t=e.dsT,r=e.dsV)});let o=s;"fixed_amount"==t&&0<r?e={text:"PREPAID DISCOUNT",amount:r,type:t}:"percentage"==t&&0<r&&(i=_rsi.cart.original_total_price-_rsi.form.discounts.totalAmount,s=r/1e4,r=Math.round(s*i),e={text:"PREPAID DISCOUNT",amount:r,type:t}),e&&(o-=e.amount),document.querySelectorAll(".rsi-cod-form-submit-total-cho-value").forEach(e=>{e.innerHTML=_rsi.u.formatMoney(o,"amount_with_comma_separator")})}},init:function(){var e;_rsi.form.submitOrderTotalInterval.isInitiated||(e=function(){_rsi.form.submitOrderTotalInterval.renderPrices(),setTimeout(e,400)},setTimeout(e,400),_rsi.form.submitOrderTotalInterval.isInitiated=!0)}},handleCheckoutButton:function(){document.querySelector("._rsi-build-block-custom-button-checkout ._rsi-buy-now-button")&&document.querySelector("._rsi-build-block-custom-button-checkout ._rsi-buy-now-button").addEventListener("click",function(o){if(o.preventDefault(),_rsi.s.form.hasDraftChoButton){_rsi.abandonedCheckouts.alreadySending=!0;var i=o.target,s=!0;("string"!=typeof o.target.className||-1==o.target.className.indexOf("_rsi-buy-now-button")||-1<o.target.className.indexOf("_rsi-buy-now-button-subtitle"))&&(s=!1),s||(a=o.target.closest("._rsi-buy-now-button"))&&(i=a);var a,n=_rsi.form.getFormData();if(!_rsi.form.validation.check(n.formData))return void _rsi.tracking.sendGtag("ga",null,{hitType:"event",eventAction:"FormSubmitInvalid"});let t="none",r=0,e=!1;_rsi.s.form.fields.items_array.forEach(e=>{-1<e.type.indexOf("additionals_checkout_button")&&e.dsT&&(t=e.dsT,r=e.dsV)}),"fixed_amount"==t?e={text:"PREPAID DISCOUNT",amount:r,type:t}:"percentage"==t&&(s=_rsi.cart.original_total_price-_rsi.form.discounts.totalAmount,a=r/1e4,r=Math.round(a*s),e={text:"PREPAID DISCOUNT",amount:r,type:t}),e&&n.cartData.discounts.push(e),document.querySelector("#_rsi-cod-form-modal-form").style.pointerEvents="none",i.style.pointerEvents="none",i.innerHTML='<svg class="_rsi-modal-loading-icon" style="margin: auto; display: block; shape-rendering: auto;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="#ffffff" stroke-width="9" r="35" stroke-dasharray="164.93361431346415 56.97787143782138"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg>';try{window.addEventListener("pageshow",e=>{e.persisted&&(console.log("Reloading page for cache."),window.location.reload())})}catch(o){console.log(o)}_rsi.u.ajax("POST",_rsi.s.form.postUrl+"?is_draft_button=true",JSON.stringify(n),function(e){(e=JSON.parse(e))&&e.order&&e.order.invoice_url&&setTimeout(function(){window.location=e.order.invoice_url},2e3)})}else{var r,n=[];_rsi.s.form.isEmbedded&&!_rsi.form.hasEmbeddedV2?n=_rsi.u.serializeArray(document.querySelector("#_rsi-cod-form-modal-form")):_rsi.form.saveData.cachedData&&(n=_rsi.form.saveData.cachedData.formData),0==n.length?window.location="/checkout":(r="/cart/",_rsi.cart.items.forEach((e,t)=>{0<t&&(r+=","),r+=e.variant_id+":"+e.quantity}),r+="?",n.forEach(e=>{"email"==e.name?r+="&checkout[email]="+encodeURIComponent(e.value):"first_name"==e.name?r+="&checkout[shipping_address][first_name]="+encodeURIComponent(e.value):"last_name"==e.name?r+="&checkout[shipping_address][last_name]="+encodeURIComponent(e.value):"address"==e.name?r+="&checkout[shipping_address][address1]="+encodeURIComponent(e.value):"civic_number"==e.name?r+="&checkout[shipping_address][address2]="+encodeURIComponent(e.value):"city"==e.name?r+="&checkout[shipping_address][city]="+encodeURIComponent(e.value):"zip_code"==e.name?r+="&checkout[shipping_address][zip]="+encodeURIComponent(e.value):"country_code"==e.name?r+="&checkout[shipping_address][country]="+encodeURIComponent(e.value):"province"==e.name||"province_country_field"==e.name?r+="&checkout[shipping_address][province]="+encodeURIComponent(e.value):"phone"==e.name&&(r+="&checkout[shipping_address][phone]="+encodeURIComponent(e.value))}),window.location=r)}});document.querySelector("._rsi-build-block-whatsapp-button ._rsi-buy-now-button")&&document.querySelector("._rsi-build-block-whatsapp-button ._rsi-buy-now-button").addEventListener("click",function(e){e.preventDefault();var l=_rsi.form.getFormData(),t=!1,d=!1;if(_rsi.s.form.fields.items_array.forEach(e=>{-1<e.type.indexOf("additionals_whatsapp_button")&&(e.createOrder&&(t=!0),d=e)}),d){function r(e){var t="",r="",o="",i="",s="",a="",n="";try{l.formData.forEach(e=>{-1<["address","civic_number","province_country_field","province","city","zip_code"].indexOf(e.name)?e.value&&(r&&(r+=", "),r+=e.value):-1<["first_name","last_name"].indexOf(e.name)?e.value&&(t&&(t+=" "),t+=e.value):"phone"==e.name?s=e.value:"email"==e.name?a=e.value:"note"==e.name&&(n=e.value)}),_rsi.cart&&_rsi.cart.items.forEach(e=>{o+=e.quantity+" x "+e.title+"\n"}),i=document.querySelector('[data-checkout-line="total"] ._rsi-modal-checkout-line-value').innerHTML}catch(e){console.log(e)}var c="https://api.whatsapp.com/send/?phone="+encodeURIComponent(d.wpPhNum.replace("+",""))+"&text="+encodeURIComponent(d.wpMess.replace("{page_url}",window.location.href.replace(window.location.search,"")).replace("{full_name}",t).replace("{full_address}",r).replace("{products_summary_with_quantity}",o).replace("{order_total}",i).replace("{phone}",s).replace("{email}",a).replace("{email}",a).replace("{order_note}",n));e?window.open(c,"_blank"):window.location=c}if(t){if(d.validateOrder)if(!_rsi.form.validation.check(l.formData))return void _rsi.tracking.sendGtag("ga",null,{hitType:"event",eventAction:"FormSubmitInvalid"});_rsi.tracking.eventsHanlders.whatsappClick(),_rsi.abandonedCheckouts.alreadySending=!0;var o=e.target,i=!0;("string"!=typeof e.target.className||-1==e.target.className.indexOf("_rsi-buy-now-button")||-1<e.target.className.indexOf("_rsi-buy-now-button-subtitle"))&&(i=!1),i||(i=e.target.closest("._rsi-buy-now-button"))&&(o=i),document.querySelector("#_rsi-cod-form-modal-form").style.pointerEvents="none",o.style.pointerEvents="none",o.innerHTML='<svg class="_rsi-modal-loading-icon" style="margin: auto; display: block; shape-rendering: auto;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="#ffffff" stroke-width="9" r="35" stroke-dasharray="164.93361431346415 56.97787143782138"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg>';try{window.addEventListener("pageshow",e=>{e.persisted&&(console.log("Reloading page for cache."),window.location.reload())})}catch(e){console.log(e)}_rsi.u.ajax("POST",_rsi.s.form.postUrl+"?is_whatsapp_button=true",JSON.stringify(l),function(e){r()})}else _rsi.tracking.eventsHanlders.whatsappClick(),r(!0)}})},abandId:!1,addUtms:function(){try{if(_rsi.s.general.saveUtms){var e,t=window.location.search;if(-1==t.indexOf("utm"))try{window.sessionStorage&&(!window.sessionStorage.getItem(window.Shopify.shop+"_landing_page")||(e=window.sessionStorage.getItem(window.Shopify.shop+"_landing_page")).split("?")[1]&&(t=e.split("?")[1]))}catch(e){console.log(e)}var r=_rsi.u.queryStringToJSON(t.replace("?",""));document.querySelector("#_rsi-cod-form-modal-form")&&(r.utm_source&&document.querySelector("#_rsi-cod-form-modal-form").insertAdjacentHTML("afterbegin",'<input type="hidden" name="utm_source" value="'+r.utm_source+'">'),r.utm_medium&&document.querySelector("#_rsi-cod-form-modal-form").insertAdjacentHTML("afterbegin",'<input type="hidden" name="utm_medium" value="'+r.utm_medium+'">'),r.utm_campaign&&document.querySelector("#_rsi-cod-form-modal-form").insertAdjacentHTML("afterbegin",'<input type="hidden" name="utm_campaign" value="'+r.utm_campaign+'">'),r.utm_content&&document.querySelector("#_rsi-cod-form-modal-form").insertAdjacentHTML("afterbegin",'<input type="hidden" name="utm_content" value="'+r.utm_content+'">'),r.utm_term&&document.querySelector("#_rsi-cod-form-modal-form").insertAdjacentHTML("afterbegin",'<input type="hidden" name="utm_term" value="'+r.utm_term+'">'))}document.querySelector("#_rsi-cod-form-modal-form")&&(_rsi.form.abandId||(_rsi.form.abandId=_rsi.u.getRandomString(16)),document.querySelector("#_rsi-cod-form-modal-form").insertAdjacentHTML("afterbegin",'<input type="hidden" name="abandoned_order_id" value="'+_rsi.form.abandId+'">'),(r=_rsi.u.queryStringToJSON(window.location.search.replace("?",""))).abandoned_order_recovery_draft_id&&document.querySelector("#_rsi-cod-form-modal-form").insertAdjacentHTML("afterbegin",'<input type="hidden" name="abandoned_order_recovery_draft_id" value="'+r.abandoned_order_recovery_draft_id+'">')),_rsi.upsells.prePurchaseMetricData&&document.querySelector("#_rsi-cod-form-modal-form").insertAdjacentHTML("afterbegin",'<input type="hidden" name="metrics_upsell_1_click_data" value="'+encodeURI(JSON.stringify(_rsi.upsells.prePurchaseMetricData))+'">'),_rsi.dss.activeDiscount&&document.querySelector("#_rsi-cod-form-modal-form").insertAdjacentHTML("afterbegin",'<input type="hidden" name="metrics_active_downsell_id" value="'+_rsi.dss.activeDiscount.downsellId+'">'),window.WETRACKED_INTEGRATION&&document.querySelector("#_rsi-cod-form-modal-form").insertAdjacentHTML("afterbegin",'<input type="hidden" name="shopify-cart-token" value="'+_rsi.cart.token+'">')}catch(e){console.log(e)}},saveUtms:function(){try{-1<window.location.href.indexOf("utm")&&window.sessionStorage&&!_rsi.s.testMode&&(window.sessionStorage.getItem(window.Shopify.shop+"_landing_page")||window.sessionStorage.setItem(window.Shopify.shop+"_landing_page",window.location.href))}catch(e){console.log(e)}},onClose:function(e,t){e&&e.preventDefault();e="thank_you_messages"==_rsi.s.form.currentPage;"init_submitting"!=_rsi.s.form.currentPage&&"loading"!=_rsi.s.form.currentPage&&(!t&&"confirmation"!=_rsi.s.form.currentPage&&"thank_you_messages"!=_rsi.s.form.currentPage&&_rsi.dss.init()||(document.querySelector("#_rsi-cod-form-modal").classList.remove("_rsi-cod-form-modal-open"),e||_rsi.tracking.sendGtag("ga",null,{hitType:"event",eventAction:"CloseFormClick"}),_rsi.s.form.currentPage="closed","normalCart"==_rsi.form.mode&&_rsi.s.cartPage.isEnabled&&_rsi.cartPage.initBuyButtonShaker(),"productCart"==_rsi.form.mode&&_rsi.s.productPage.isEnabled&&(_rsi.productPage.initBuyButtonShaker(),e||(_rsi.form.quantityOffers.saveSelection(),e="product-only",_rsi.s.productPage.addMode&&(e=_rsi.s.productPage.addMode),"product-only"==e&&"empty"!=_rsi.productPage.oldCart&&_rsi.cartManager.clearCart(function(){_rsi.productPage.oldCart&&"empty"!=_rsi.productPage.oldCart&&_rsi.u.ajax("POST",_rsi.rootShopifyRoute+"cart/add.js",JSON.stringify({items:_rsi.productPage.oldCart.items}),null,null,{"Content-Type":"application/json"})}))),_rsi.form.mode="",_rsi.form.discounts.clear(),document.querySelector("#_rsi-cod-form-modal-form").removeEventListener("submit",_rsi.form.onSubmit),document.querySelector("#_rsi-cod-form-modal-close")&&document.querySelector("#_rsi-cod-form-modal-close").removeEventListener("click",_rsi.form.onClose),_rsi.u.isIos()&&document.querySelectorAll("html, body").forEach(function(e){e.style.overflow=null})))},getFormData:function(e){var t=_rsi.cart;if(e)var r=e;else{r=_rsi.u.serializeArray(document.querySelector("#_rsi-cod-form-modal-form"));document.querySelectorAll("#_rsi-cod-form-modal-form input[type=checkbox]:not(:checked)").forEach(function(e){r.push({name:e.getAttribute("name"),value:"off"})});try{var o=[];document.querySelectorAll("#_rsi-cod-form-modal-form input[type=radio]:not(:checked)").forEach(function(e){var t='#_rsi-cod-form-modal-form input[type=radio][name="'+e.getAttribute("name")+'"]:checked';document.querySelector(t)||-1!=o.indexOf(e.getAttribute("name"))||(r.push({name:e.getAttribute("name"),value:"off"}),o.push(e.getAttribute("name")))})}catch(e){console.log(e)}r.push({name:"shop_domain",value:Shopify.shop}),r.forEach(function(e){-1<e.name.indexOf("item_properties")&&(e.value=decodeURI(e.value))})}var i=[];_rsi.form.discounts.codesApplied.forEach(function(e){var t=JSON.parse(JSON.stringify(e));"shipping"==e.type?t.amount=Math.ceil(t.amount/Shopify.currency.rate):t.amount=Math.floor(t.amount/Shopify.currency.rate),i.push(t)});var s="",a="";try{var n=_rsi.u.getCookie("_fbp"),c=_rsi.u.getCookie("_fbc");n&&(s=n),c&&(a=c)}catch(e){console.log(e)}var l="",d="";try{var u=_rsi.u.getCookie("_ttp");u&&(l=u);u=_rsi.u.queryStringToJSON(window.location.search.replace("?",""));u.ttclid&&(d=u.ttclid)}catch(e){console.log(e)}var m="en",_=0;try{var p=Shopify.locale;-1<p.indexOf("-")&&(p=p.split("-")[0]),m=p,_rsi.s.integrations.codFee&&(_=_rsi.s.integrations.codFee.commission)}catch(e){console.log(e)}return{formData:r,cartData:{total_price:t.original_total_price/Shopify.currency.rate,total_weight:t.total_weight,discounts:i,locale:m,codFee:_},trackData:{fbp:s,fbc:a,ttp:l,ttclid:d,purchaseEventId:_rsi.tracking.eventsHanlders.purchaseEventId,utmData:_rsi.metrics.utmData},sourceUrl:window.location.href}},redirectToCustomThankYouPage:function(e){if(window.addEventListener("pageshow",e=>{e.persisted&&(console.log("Reloading page for cache"),window.location.reload())}),!_rsi.s.general.redirectToCustomPage)return!1;if(_rsi.s.general.redirectToCustomPage.isEnabled){if("message"==_rsi.s.general.redirectToCustomPage.type){if(_rsi.s.general.redirectToCustomPage.messHtml){if(document.querySelector("#_rsi-cod-form-modal-form")){var t,r=_rsi.s.general.redirectToCustomPage.messHtml;try{e.order&&(o=g="",i=0,e.order.line_items.forEach((e,t)=>{0<t&&(g+=", "),g+=e.name,i+=e.quantity,o+=e.quantity+" x "+e.name+"<br>"}),r=(r=(r=(r=(r=(r=(r=r.replace(/{products_summary_with_quantity}/g,o)).replace(/{product_title}/g,g)).replace(/{product_quantity}/g,i)).replace(/{all_products_titles}/g,g)).replace(/{order_id}/g,e.order.id)).replace(/{order_number}/g,e.order.name)).replace(/{order_note}/g,e.order.note||""),p=_=m=u=d=l=c=n=a=s="",(f=e.order).shipping_address&&(f.shipping_address.first_name&&(s=f.shipping_address.first_name),f.shipping_address.last_name&&(a=f.shipping_address.last_name),f.shipping_address.phone&&(n=f.shipping_address.phone),f.shipping_address.address1&&(l=f.shipping_address.address1),f.shipping_address.address2&&(d=f.shipping_address.address2),f.shipping_address.province&&(u=f.shipping_address.province),f.shipping_address.city&&(m=f.shipping_address.city),f.shipping_address.zip&&(_=f.shipping_address.zip)),f.shipping_lines&&f.shipping_lines[0]&&(p=f.shipping_lines[0].title),f.email&&(c=f.email),r=r.replace(/{first_name}/g,s).replace(/{last_name}/g,a).replace(/{phone}/g,n).replace(/{email}/g,c).replace(/{address}/g,l).replace(/{address2}/g,d).replace(/{province}/g,u).replace(/{city}/g,m).replace(/{zip_code}/g,_).replace(/{shipping_rate_name}/g,p).replace(/{order_total}/g,f.total_price))}catch(e){console.log(e)}return document.querySelector("#_rsi-cod-form-modal-form").innerHTML='<div class="_rsi-modal-header"><div class="_rsi-modal-header-title"> </div>'+(_rsi.s.form.header.showClose&&!_rsi.s.form.isEmbedded?'<button id="_rsi-cod-form-modal-close" class="_rsi-modal-close-button" type="button"><svg class="_rsi-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/></svg></button>':"")+'</div><div class="_rsi-thank-you-message-container">'+r+"</div>",document.querySelector("._rsi-modal-container._rsi-modal-events-disabled")&&document.querySelector("._rsi-modal-container._rsi-modal-events-disabled").classList.remove("_rsi-modal-events-disabled"),document.querySelector("._rsi-cod-form-embed-container._rsi-modal-events-disabled")&&document.querySelector("._rsi-cod-form-embed-container._rsi-modal-events-disabled").classList.remove("_rsi-modal-events-disabled"),document.querySelector("#_rsi-cod-form-modal-close")&&(_rsi.s.form.currentPage="thank_you_messages",document.querySelector("#_rsi-cod-form-modal-close").addEventListener("click",_rsi.form.onClose)),_rsi.s.form.isEmbedded&&document.querySelector("#_rsi-cod-form-embed")&&(t=document.querySelector("#_rsi-cod-form-embed").getBoundingClientRect().top+window.pageYOffset-150,window.scroll(0,t)),!0}return!1}return!1}if("whatsapp"==_rsi.s.general.redirectToCustomPage.type){if(!_rsi.s.general.redirectToCustomPage.wpPhNum||!_rsi.s.general.redirectToCustomPage.wpMess)return!1;var o,i,s,a,n,c,l,d,u,m,_,p,f,y=_rsi.s.general.redirectToCustomPage.wpMess,h=!1;try{e.order&&(o=g="",i=0,e.order.line_items.forEach((e,t)=>{0<t&&(g+=", "),g+=e.name,i+=e.quantity,o+=e.quantity+" x "+e.name+"\n"}),y=(y=(y=(y=(y=(y=(y=y.replace(/{products_summary_with_quantity}/g,o)).replace(/{product_title}/g,g)).replace(/{product_quantity}/g,i)).replace(/{order_id}/g,e.order.id)).replace(/{order_number}/g,e.order.name)).replace(/{order_number}/g,e.order.name)).replace(/{order_note}/g,e.order.note||""),p=_=m=u=d=l=c=n=a=s="",h=(f=e.order).order_status_url,f.shipping_address&&(f.shipping_address.first_name&&(s=f.shipping_address.first_name),f.shipping_address.last_name&&(a=f.shipping_address.last_name),f.shipping_address.phone&&(n=f.shipping_address.phone),f.shipping_address.address1&&(l=f.shipping_address.address1),f.shipping_address.address2&&(d=f.shipping_address.address2),f.shipping_address.province&&(u=f.shipping_address.province),f.shipping_address.city&&(m=f.shipping_address.city),f.shipping_address.zip&&(_=f.shipping_address.zip)),f.email&&(c=f.email),f.shipping_lines&&f.shipping_lines[0]&&(p=f.shipping_lines[0].title),y=y.replace(/{first_name}/g,s).replace(/{last_name}/g,a).replace(/{phone}/g,n).replace(/{email}/g,c).replace(/{address}/g,l).replace(/{address2}/g,d).replace(/{province}/g,u).replace(/{city}/g,m).replace(/{zip_code}/g,_).replace(/{shipping_rate_name}/g,p).replace(/{order_total}/g,f.total_price))}catch(e){console.log(e)}var v="https://api.whatsapp.com/send/?phone="+encodeURIComponent(_rsi.s.general.redirectToCustomPage.wpPhNum.replace("+",""))+"&text="+encodeURIComponent(y);try{new URL(v)}catch(e){return!1}return window.location=v,h&&setTimeout(function(){window.location=h},5e3),!0}var g;v=(v=_rsi.s.general.redirectToCustomPage.url).trim();try{e.order&&(g=e.order.line_items[0].name,v=(v=(v=v.replace("{product_title}",encodeURIComponent(g))).replace("{order_id}",encodeURIComponent(e.order.id))).replace("{order_number}",encodeURIComponent(e.order.name)))}catch(e){console.log(e)}try{new URL(v)}catch(e){return!1}return window.location=v,!0}return!1},redirectToDefThankYouPage:function(e,t){var t=t.order,r=e.split("/authenticate")[0]+"?locale="+Shopify.locale+"&gid="+t.id;let o={};t.email?o.email=t.email:t.shipping_address.phone&&(o.phone=t.shipping_address.phone),o.order_number=t.name,_rsi.u.ajax("POST",e,new URLSearchParams(o),function(e){window.location=r},null,{accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","content-type":"application/x-www-form-urlencoded"})},soldOutText:{t:{en:"One or more products in your cart are sold out. Please reload this page and contact the store support.",it:"Uno o più prodotti nel carrello sono esauriti. Ricarica questa pagina e contatta il supporto del negozio.",hu:"A kosarában lévő egy vagy több termék elfogyott. Kérjük, töltse be újra ezt az oldalt, és lépjen kapcsolatba az áruház támogatásával.",el:"Ένα ή περισσότερα προϊόντα στο καλάθι σας έχουν εξαντληθεί. Επαναλάβετε τη φόρτωση αυτής της σελίδας και επικοινωνήστε με την υποστήριξη καταστήματος.",es:"Uno o más productos en su carrito están agotados. Vuelva a cargar esta página y póngase en contacto con el soporte de la tienda.",cs:"Jeden nebo více produktů ve vašem košíku je vyprodáno. Znovu načtěte tuto stránku a kontaktujte podporu obchodu.",fr:"Un ou plusieurs produits de votre panier sont épuisés. Veuillez recharger cette page et contacter le support du magasin.",pt:"Um ou mais produtos em seu carrinho estão esgotados. Atualize esta página e entre em contato com o suporte da loja.",sl:"En ali več izdelkov v vaši košarici je razprodanih. Ponovno naložite to stran in se obrnite na podporo trgovine.",bg:"Един или повече продукти във вашата количка са изчерпани. Моля, презаредете тази страница и се свържете с поддръжката на магазина.",lt:"Vienas ar daugiau prekių jūsų krepšelyje yra išparduotos. Įkelkite šį puslapį iš naujo ir susisiekite su parduotuvės palaikymo komanda.",ro:"Unul sau mai multe produse din coșul dvs. sunt epuizate. Vă rugăm să reîncărcați această pagină și să contactați asistența magazinului.",sk:"Jeden alebo viac produktov vo vašom košíku je vypredaných. Znova načítajte túto stránku a kontaktujte podporu obchodu.",pl:"Jeden lub więcej produktów w Twoim koszyku jest wyprzedanych. Załaduj ponownie tę stronę i skontaktuj się z obsługą sklepu."}},planLimitText:{t:{en:"Message for the store owner:<br><br>You reached the orders limit of your plan on Releasit COD Form & Upsells or your store was frozen by Shopify. Please change plan on the app and contact Releasit support from the app to recover your lost orders.<br><br>The app sent you 3 emails when you reached 80%, 90% and 100% of the limit.",it:"Messaggio per il proprietario del negozio:<br><br>Hai raggiunto il limite di ordini del tuo piano su Releasit COD Form & Upsell o il tuo negozio è stato congelato da Shopify. Modifica il piano sull'app e contatta l'assistenza Releasit dall'app per recuperare gli ordini persi.<br><br>L'app ti ha inviato 3 email quando hai raggiunto l'80%, il 90% e il 100% del limite.",es:"Mensaje para el propietario de la tienda:<br><br>Alcanzaste el límite de pedidos de tu plan en Releasit COD Form & Upsells o Shopify congeló tu tienda. Cambie el plan en la aplicación y comuníquese con el soporte de Releasit desde la aplicación para recuperar sus pedidos perdidos.<br><br>La aplicación le envió 3 correos electrónicos cuando alcanzó el 80%, 90% y 100% del límite.",fr:"Message pour le propriétaire du magasin :<br><br>Vous avez atteint la limite de commandes de votre plan sur Releasit COD Form & Upsells ou votre magasin a été gelé par Shopify. Veuillez changer de plan sur l'application et contacter l'assistance Releasit depuis l'application pour récupérer vos commandes perdues.<br><br> L'application vous a envoyé 3 e-mails lorsque vous avez atteint 80 %, 90 % et 100 % de la limite."}},handleOrderErrors:function(e,t){try{var r="";"inventory"==e&&(r=_rsi.form.soldOutText.t.en,_rsi.form.soldOutText.t[t.cartData.locale]&&(r=_rsi.form.soldOutText.t[t.cartData.locale])),"plan_limit"==e&&(r=_rsi.form.planLimitText.t.en,_rsi.form.planLimitText.t[t.cartData.locale]&&(r=_rsi.form.planLimitText.t[t.cartData.locale])),"blocked"==e&&_rsi.s.general.bsMess&&(r=_rsi.s.general.bsMess),document.querySelector("#_rsi-cod-form-modal-form").innerHTML='<div class="_rsi-modal-header"><div class="_rsi-modal-header-title"> </div>'+(_rsi.s.form.header.showClose&&!_rsi.s.form.isEmbedded?'<button id="_rsi-cod-form-modal-close" class="_rsi-modal-close-button" type="button"><svg class="_rsi-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/></svg></button>':"")+'</div><div class="_rsi-thank-you-message-container"><p class="_rsi-error-message-post-create">'+r+"</p></div>",document.querySelector("._rsi-modal-container._rsi-modal-events-disabled")&&document.querySelector("._rsi-modal-container._rsi-modal-events-disabled").classList.remove("_rsi-modal-events-disabled"),document.querySelector("._rsi-cod-form-embed-container._rsi-modal-events-disabled")&&document.querySelector("._rsi-cod-form-embed-container._rsi-modal-events-disabled").classList.remove("_rsi-modal-events-disabled"),document.querySelector("#_rsi-cod-form-modal-close")&&(_rsi.s.form.currentPage="thank_you_messages",document.querySelector("#_rsi-cod-form-modal-close").addEventListener("click",_rsi.form.onClose)),_rsi.s.form.isEmbedded&&document.querySelector("#_rsi-cod-form-embed")&&(r=document.querySelector("#_rsi-cod-form-embed").getBoundingClientRect().top+window.pageYOffset-150,window.scroll(0,r))}catch(e){console.log(e)}},onSubmit:function(e,t,r,o){try{if(e&&e.preventDefault(),"init_submitting"==_rsi.s.form.currentPage)return;if("loading"==_rsi.s.form.currentPage&&!t)return;if(_rsi.s.testMode)return;var i,s=r||_rsi.form.getFormData();if("function"==typeof _COD_FORM_OVERWRITE_ON_SUBMIT_START&&!_COD_FORM_OVERWRITE_ON_SUBMIT_START(s.formData))return;if(!(_rsi.form.validation.check(s.formData)||_rsi.upsells.isPostPurchase&&t))return void _rsi.tracking.sendGtag("ga",null,{hitType:"event",eventAction:"FormSubmitInvalid"});if(_rsi.s.form.currentPage="init_submitting",_rsi.form.saveData.stop(),_rsi.upsells.isPostPurchase&&t||_rsi.messages.otp.isEnabled&&o?(_rsi.s.form.currentPage="loading",_rsi.form.build(),_rsi.s.form.isEmbedded&&document.querySelector("#_rsi-cod-form-embed")&&(i=document.querySelector("#_rsi-cod-form-embed").getBoundingClientRect().top+window.pageYOffset-150,window.scroll(0,i))):(document.querySelector("#_rsi-cod-form-modal ._rsi-modal-container").classList.add("_rsi-modal-events-disabled"),document.querySelector('#_rsi-cod-form-modal-form button[type="submit"]')&&(document.querySelector('#_rsi-cod-form-modal-form button[type="submit"]').innerHTML='<svg class="_rsi-modal-loading-icon" style="margin: auto; display: block; shape-rendering: auto;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="#ffffff" stroke-width="9" r="35" stroke-dasharray="164.93361431346415 56.97787143782138"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg>')),_rsi.messages.otp.isEnabled&&!o)return void _rsi.messages.otp.init(s);if(_rsi.upsells.isPostPurchase&&!t)return _rsi.s.form.currentPage="init_post_purchase_upsell",void _rsi.upsells.open(s);_rsi.form.saveData.clear(),_rsi.u.ajax("POST",_rsi.s.form.postUrl,JSON.stringify(s),function(e){if((e=JSON.parse(e)).customRsiErrorMessage)_rsi.form.handleOrderErrors(e.customRsiErrorMessage,s);else{if("function"==typeof _COD_FORM_ON_SUBMIT_END&&_COD_FORM_ON_SUBMIT_END(),_rsi.s.general.saveOrdersAsDrafts)return _rsi.s.form.isEmbedded?(_rsi.tracking.eventsHanlders.purchase(e),void(_rsi.form.redirectToCustomThankYouPage(e)||document.querySelector("#_rsi-cod-form-modal-form").remove())):(_rsi.s.form.currentPage="confirmation",_rsi.tracking.eventsHanlders.purchase(e),void(_rsi.form.redirectToCustomThankYouPage(e)||_rsi.form.onClose()));var t;Object.keys(e).length&&(_rsi.tracking.eventsHanlders.purchase(e),t=function(){if(_rsi.s.form.isEmbedded)return"function"!=typeof _COD_FORM_OVERWRITE_ON_SUBMIT_END||_COD_FORM_OVERWRITE_ON_SUBMIT_END(e.order)?(_rsi.form.mode="",void(e.order.order_status_url&&!_rsi.form.redirectToCustomThankYouPage(e)&&_rsi.form.redirectToDefThankYouPage(e.order.order_status_url,e))):void 0;if("function"==typeof _COD_FORM_OVERWRITE_ON_SUBMIT_END)if("string"==typeof _CUSTOM_COD_FORM_THANK_YOU_PAGE_LINK){if(-1==_CUSTOM_COD_FORM_THANK_YOU_PAGE_LINK.indexOf("tiendainnovatech")&&!_COD_FORM_OVERWRITE_ON_SUBMIT_END(e.order))return}else if(!_COD_FORM_OVERWRITE_ON_SUBMIT_END(e.order))return;_rsi.form.mode="",e.order.order_status_url&&!_rsi.form.redirectToCustomThankYouPage(e)&&_rsi.form.redirectToDefThankYouPage(e.order.order_status_url,e)},"normalCart"==_rsi.form.mode?_rsi.cartManager.clearCart(function(){t()},function(){t()}):"productCart"==_rsi.form.mode?_rsi.cartManager.clearCart(function(){_rsi.productPage.oldCart&&"empty"!=_rsi.productPage.oldCart?_rsi.u.ajax("POST",_rsi.rootShopifyRoute+"cart/add.js",JSON.stringify({items:_rsi.productPage.oldCart.items}),function(e){t()},function(e){t()},{"Content-Type":"application/json"}):t()},function(){t()}):t())}},function(e,t){var r=_rsi.form.abandId;_rsi.u.sendReport({abanId:r,msg:"Error on create-order. statusCode: "+t+" Error details: "+e+" postUrl: "+_rsi.s.form.postUrl,isCritical:!0}),0!=t&&502!=t&&430!=t&&t||_rsi.u.ajax("POST",_rsi.s.form.postUrl+"?is_abandoned_post_purchase_upsell=true",JSON.stringify(s),function(e){},function(e,t){var r=_rsi.form.abandId;_rsi.u.sendReport({abanId:r,msg:"Error on create-order retry. statusCode: "+t+" Error details: "+e,isCritical:!0})})})}catch(e){_rsi.u.sendReport({msg:"onSubmit error onSubmit: "+e})}},generateCheckoutLine:function(e,t,r,o){var i="";return i+='<div class="_rsi-modal-checkout-line" data-checkout-line="'+o+'">',i+='<span class="_rsi-modal-checkout-line-title'+(r?" _rsi-modal-checkout-line-value-bigger":"")+'">'+e+"</span>",i+='<span class="_rsi-modal-checkout-line-value'+(r?" _rsi-modal-checkout-line-value-bigger":"")+'">'+t+"</span>",i+="</div>"},quantityHandlers:{isChanging:!1,embeddedOverwriteQuantity:!1,init:function(){_rsi.form.quantityHandlers.isChanging=!1,document.querySelector("._rsi-modal-line-item ._rsi-modal-line-item-remove-button")&&document.querySelectorAll("._rsi-modal-line-item ._rsi-modal-line-item-remove-button").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();e=e.target.closest("._rsi-modal-line-item").getAttribute("data-line-item-variant-id");_rsi.form.quantityHandlers.updateVariant(e,0)})}),document.querySelector("._rsi-build-block-quantity-selector")&&1==_rsi.cart.items.length&&!_rsi.form.quantityOffers.currentOffer&&(document.querySelector("._rsi-build-block-quantity-selector #_rsi-modal-quantity-shower").setAttribute("data-variant-id",_rsi.cart.items[0].variant_id),document.querySelector("._rsi-build-block-quantity-selector #_rsi-modal-quantity-shower").innerHTML=_rsi.cart.items[0].quantity,document.querySelector("._rsi-build-block-quantity-selector").classList.remove("_rsi-build-block-not-active"),document.querySelector("._rsi-build-block-quantity-selector #_rsi-modal-remove-quantity-button").addEventListener("click",function(e){var t=document.querySelector("._rsi-build-block-quantity-selector #_rsi-modal-quantity-shower").getAttribute("data-variant-id"),r=parseInt(document.querySelector("._rsi-build-block-quantity-selector #_rsi-modal-quantity-shower").innerHTML);1<=--r&&_rsi.form.quantityHandlers.updateVariant(t,r,!0)}),document.querySelector("._rsi-build-block-quantity-selector #_rsi-modal-add-quantity-button").addEventListener("click",function(e){var t=document.querySelector("._rsi-build-block-quantity-selector #_rsi-modal-quantity-shower").getAttribute("data-variant-id"),r=parseInt(document.querySelector("._rsi-build-block-quantity-selector #_rsi-modal-quantity-shower").innerHTML);1<=(r+=1)&&_rsi.form.quantityHandlers.updateVariant(t,r,!0)}))},updateVariant:function(e,t,r){if(!_rsi.form.quantityHandlers.isChanging){if(_rsi.form.quantityHandlers.isChanging=!0,r&&document.querySelector("._rsi-build-block-quantity-selector #_rsi-modal-quantity-shower")&&(document.querySelector("._rsi-build-block-quantity-selector #_rsi-modal-quantity-shower").innerHTML=t,_rsi.form.quantityHandlers.embeddedOverwriteQuantity=t,_rsi.s.form.isEmbedded))return document.querySelector("#_rsi-cod-form-modal-form").classList.add("_rsi-modal-events-disabled"),void(_rsi.form.quantityHandlers.isChanging=!1);document.querySelector("#_rsi-cod-form-modal-form").classList.add("_rsi-modal-events-disabled"),_rsi.s.form.currentPage="init_submitting";r={};r[e]=t,_rsi.u.ajax("POST",_rsi.rootShopifyRoute+"cart/update.js",JSON.stringify({updates:r}),function(e){_rsi.form.discounts.clear(),_rsi.s.form.currentPage="closed";try{return e=JSON.parse(e),void _rsi.form.open(!1,!1,!0,e)}catch(e){_rsi.u.sendReport({msg:"Error while parsing data on update.js in removeVariant. Error: "+e})}_rsi.form.open(!1,!1,!0)},null,{"Content-Type":"application/json"},!0)}}},quantityOffers:{productCache:!1,offersCache:!1,currentOffer:!1,selectedOfferIn:!1,defaultCodeText:"QUANTITY DISCOUNT",savedSelection:!1,discount:{type:!1,value:0,code:""},productCaches:[],selectedVariantId:!1,calculateProductCachesInPage:function(){try{var o=[];document.querySelectorAll('a[href*="/products/"]').forEach((e,t)=>{try{var r=(r="/products"+e.getAttribute("href").split("/products")[1]).split("?")[0];-1==o.indexOf(r)&&o.length<5&&o.push(r)}catch(e){console.log(e)}}),o.forEach((e,t)=>{setTimeout(function(){_rsi.u.ajax("GET",e+".js",null,function(e){var t;0<(e=JSON.parse(e)).options.length&&(t=[],e.options.forEach(e=>{"object"==typeof e?t.push(e.name):"string"==typeof e&&t.push(e)}),e.options=t),_rsi.form.quantityOffers.productCaches.push(e)},null,null,!0)},500*t)})}catch(e){console.log(e)}},init:function(e){if(_rsi.form.quantityOffers.selectedOfferIn=!1,_rsi.form.quantityOffers.selectedVariantId=!1,_rsi.form.quantityOffers.discount.type=!1,document.querySelector("#_rsi-quantity-offers-hide-css")&&document.querySelector("#_rsi-quantity-offers-hide-css").remove(),!_rsi.s.shippingRates.isAutomatic||_rsi.s.form.isEmbedded){if(document.querySelector("#rsi-cod-form-quantity-offers-custom-hook")&&(document.querySelector("#rsi-cod-form-quantity-offers-hook")&&document.querySelector("#rsi-cod-form-quantity-offers-hook").remove(),document.querySelector("#rsi-cod-form-quantity-offers-custom-hook").insertAdjacentHTML("afterend",'<div id="rsi-cod-form-quantity-offers-hook"><div>'),document.querySelector("#rsi-cod-form-quantity-offers-custom-hook").remove()),!_rsi.form.quantityOffers.productCache){if(!document.querySelector("#rsi-cod-form-product-cache"))return;try{var t;_rsi.form.quantityOffers.productCache=JSON.parse(document.querySelector("#rsi-cod-form-product-cache").textContent),!_rsi.form.quantityOffers.productCache&&document.querySelector("script.product-json")&&(_rsi.form.quantityOffers.productCache=JSON.parse(document.querySelector("script.product-json").textContent)),0<_rsi.form.quantityOffers.productCaches.length&&(t=!1,_rsi.cart&&(t=_rsi.cart.items[0].product_id),_rsi.form.quantityOffers.productCaches.forEach(e=>{e.id==t&&(_rsi.form.quantityOffers.productCache=e)})),_rsi.appBlockCurrentProduct&&(t=!1,_rsi.cart&&(t=_rsi.cart.items[0].product_id),_rsi.appBlockCurrentProduct.id==t&&(_rsi.form.quantityOffers.productCache=_rsi.appBlockCurrentProduct))}catch(e){return void console.log(e)}}if(!_rsi.form.quantityOffers.productCache&&_rsi.isPageFly)try{var r=Object.keys(_rsi.pageFlyProducts)[0];_rsi.cart&&(r=_rsi.cart.items[0].product_id),_rsi.pageFlyProducts[r]&&((r=JSON.parse(JSON.stringify(_rsi.pageFlyProducts[r]))).price=r.variants[0].price,_rsi.form.quantityOffers.productCache=r)}catch(e){return void console.log(e)}if(_rsi.form.quantityOffers.productCache&&(_rsi.form.quantityOffers.offersCache||"undefined"!=typeof _RSI_COD_FORM_QUANTIY_OFFERS&&(_rsi.form.quantityOffers.offersCache=_RSI_COD_FORM_QUANTIY_OFFERS),_rsi.form.quantityOffers.offersCache)){var o=!1,i=!1,s=!1;try{_rsi.cart&&1==_rsi.cart.items.length&&_rsi.cart.items[0].product_id==_rsi.form.quantityOffers.productCache.id&&(s=!0,o=_rsi.cart.items[0].variant_id,i=_rsi.cart.items[0].quantity),_rsi.s.form.isEmbedded&&(s=!0)}catch(e){console.log(e)}if(s){if(!_rsi.form.quantityOffers.currentOffer)try{_rsi.form.quantityOffers.offersCache.forEach(function(e){e.isActive&&!_rsi.form.quantityOffers.currentOffer&&-1<e.pIds.indexOf(_rsi.form.quantityOffers.productCache.id+"")&&(_rsi.form.quantityOffers.currentOffer=e)})}catch(e){console.log(e)}if(_rsi.form.quantityOffers.currentOffer){if(e)return!0;if(void 0===_rsi.form.quantityOffers.currentOffer.noShowIfQuantityIsGreater&&(_rsi.form.quantityOffers.currentOffer.noShowIfQuantityIsGreater=!1),void 0===_rsi.form.quantityOffers.currentOffer.disableVariantsUseFirstVariant&&(_rsi.form.quantityOffers.currentOffer.disableVariantsUseFirstVariant=!0),_rsi.form.quantityOffers.currentOffer.noShowIfQuantityIsGreater&&_rsi.cart)try{let t=!1;if(_rsi.form.quantityOffers.currentOffer.offers.forEach(function(e){_rsi.cart.items[0].quantity<=e.qty&&(t=!0)}),!t)return void(_rsi.form.quantityOffers.currentOffer=!1)}catch(e){console.log(e)}if(_rsi.form.quantityOffers.savedSelection)try{_rsi.form.quantityOffers.savedSelection.id!=_rsi.form.quantityOffers.currentOffer.id&&(_rsi.form.quantityOffers.savedSelection=!1)}catch(e){console.log(e)}_rsi.form.quantityOffers.currentOffer.offers.sort(function(e,t){return e.pos-t.pos}),_rsi.form.quantityOffers.selectedOfferIn||(_rsi.form.quantityOffers.selectedOfferIn=_rsi.form.quantityOffers.currentOffer.offers[0],_rsi.form.quantityOffers.currentOffer.offers.forEach(function(e){e.pres&&(_rsi.form.quantityOffers.selectedOfferIn=e)}),_rsi.form.quantityOffers.currentOffer.offers.forEach(function(e){1<i&&e.qty==i&&(_rsi.form.quantityOffers.selectedOfferIn=e,o&&_rsi.form.quantityOffers.saveSelection(o))}),_rsi.form.quantityOffers.savedSelection&&_rsi.form.quantityOffers.currentOffer.offers.forEach(function(e){_rsi.form.quantityOffers.savedSelection.selectedPos==e.pos&&(_rsi.form.quantityOffers.selectedOfferIn=e)}));try{var a,n,c,l=_rsi.u.queryStringToJSON(window.location.search.replace("?",""));l.rsi_ac_ds?(a=(c=JSON.parse(atob(l.rsi_ac_ds))).dsT,n=c.dsV,c="RECOVERY DISCOUNT",0<n&&(_rsi.form.quantityOffers.discount.type=a,_rsi.form.quantityOffers.discount.code=c,_rsi.form.quantityOffers.discount.value=n)):_rsi.dss.activeDiscount&&(a=_rsi.dss.activeDiscount.type,n=_rsi.dss.activeDiscount.value,c="RECOVERY DISCOUNT",0<n&&(_rsi.form.quantityOffers.discount.type=a,_rsi.form.quantityOffers.discount.code=c,_rsi.form.quantityOffers.discount.value=n))}catch(e){console.log(e)}_rsi.form.quantityOffers.lastVariantId&&o!=_rsi.form.quantityOffers.lastVariantId&&(_rsi.form.quantityOffers.savedSelection=!1),(_rsi.form.quantityOffers.lastVariantId=o)&&(_rsi.form.quantityOffers.selectedVariantId=o),_rsi.form.quantityOffers.open(!1,o)}}}}},saveSelection:function(o){try{if(!_rsi.form.quantityOffers.selectedOfferIn||!_rsi.form.quantityOffers.currentOffer)return;var i={id:_rsi.form.quantityOffers.currentOffer.id,selectedPos:_rsi.form.quantityOffers.selectedOfferIn.pos,offers:[]};if(o)_rsi.form.quantityOffers.currentOffer.offers.forEach(function(e){for(var t={pos:e.pos,variants:[]},r=0;r<e.qty;r++)t.variants.push(o);i.offers.push(t)});else{if(document.querySelector("#rsi-cod-form-quantity-offers-hook:empty"))return;document.querySelectorAll("._rsi-quantity-offers-offer-container").forEach(function(e){var t,r;e.querySelector("._rsi-quantity-offers-variants select[data-offer-num], ._rsi-quantity-offers-variants input[data-offer-num]")&&(t={pos:e.getAttribute("data-offer-pos"),variants:[]},r=[],e.querySelectorAll("._rsi-quantity-offers-variants select[data-offer-num], ._rsi-quantity-offers-variants input[data-offer-num]").forEach(function(e){r.push({num:parseInt(e.getAttribute("data-offer-num")),value:e.value})}),0!=r.length&&(r.sort(function(e,t){return e.num-t.num}),r.forEach(function(e){t.variants.push(e.value)}),i.offers.push(t)))})}_rsi.form.quantityOffers.savedSelection=i}catch(e){console.log(e)}},open:function(e,t){_rsi.form.quantityOffers.currentOffer&&_rsi.form.quantityOffers.selectedOfferIn&&document.querySelector("#rsi-cod-form-quantity-offers-hook")&&(_rsi.form.quantityOffers.build(t),_rsi.metrics.addMetric("quantityOffer-impression-"+_rsi.form.quantityOffers.currentOffer.id,{count:1}),_rsi.form.quantityOffers.updatePricesFirst(),document.querySelectorAll("._rsi-quantity-offers-offer-container ._rsi-quantity-offers-offer").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();e=e.target.closest("[data-offer-pos]").getAttribute("data-offer-pos");_rsi.form.quantityOffers.onSelectOffer(e)})}),_rsi.form.quantityOffers.onSelectOffer(_rsi.form.quantityOffers.selectedOfferIn.pos,t),e||document.querySelector("head").insertAdjacentHTML("beforeend",'<style id="_rsi-quantity-offers-hide-css">._rsi-modal-line-items,._rsi-build-block-order-summary{display:none !important}</style>'),document.querySelectorAll("._rsi-build-block-order-summary").forEach(function(e){e.classList.add("_rsi-build-block-not-active")}),document.querySelectorAll('._rsi-modal-line-items input[type="hidden"]').forEach(function(e){e.remove()}))},build:function(a){var n="";try{n=_rsi.form.quantityOffers.productCache.title}catch(e){console.log(e)}var c=_rsi.form.quantityOffers.savedSelection,l="";l+='<div class="_rsi-quantity-offers">',_rsi.form.quantityOffers.currentOffer.offers.forEach(function(t){var e=t.pos==_rsi.form.quantityOffers.selectedOfferIn.pos,o=!1;c&&c.offers.forEach(function(e){e.pos==t.pos&&e.variants.length==t.qty&&(o=e)}),l+='<div class="_rsi-quantity-offers-offer-container'+(e?" _rsi-quantity-offers-selected":"")+'" data-offer-pos="'+t.pos+'">',l+='<div class="_rsi-quantity-offers-offer">',!_rsi.form.quantityOffers.productCache.featured_image&&!t.imgUrl||_rsi.form.quantityOffers.currentOffer.hideImg||(r=_rsi.form.quantityOffers.productCache.featured_image,t.imgUrl&&0<t.imgUrl.length&&(r=t.imgUrl),l+='<div class="_rsi-modal-line-item-image-container"><img src="'+r+'" class="_rsi-modal-line-item-image"></div>'),l+='<div class="_rsi-quantity-offers-info">',l+='<div class="_rsi-quantity-offers-title">'+t.title.replace("{product_name}",n)+"</div>",t.plaque&&(l+='<div class="_rsi-quantity-offers-plaque-container"><div class="_rsi-quantity-offers-plaque" style="background: '+t.plaqueBgC+';">'+t.plaque+"</div></div>"),l+="</div>";var r=_rsi.form.quantityOffers.calculateOfferPrices(t);l+='<div class="_rsi-quantity-offers-prices">',r.comparePrice&&(i="",t.hideOldP&&(i=' style="display: none;"'),l+='<div class="_rsi-quantity-offers-old-price"'+i+">"+_rsi.u.formatMoney(r.comparePrice,"amount_with_comma_separator",!1,!0)+"</div>");var i="#000";if(t.prC&&(i=t.prC),l+='<div class="_rsi-quantity-offers-new-price" style="color: '+i+'">'+_rsi.u.formatMoney(r.totalPrice,"amount_with_comma_separator",!1,!0)+"</div>",l+="</div>",l+="</div>",1<_rsi.form.quantityOffers.productCache.variants.length&&!_rsi.form.quantityOffers.currentOffer.disableVariants){if(2==_rsi.form.quantityOffers.productCache.options.length)l+='<div class="_rsi-quantity-offers-variants _rsi-quantity-offers-variants-multi-selectors">';else{l+='<div class="_rsi-quantity-offers-variants">';for(var s=0;s<t.qty;s++)l+='<div class="_rsi-quantity-offers-variant-selector _rsi-modal-fields-item">',_rsi.form.quantityOffers.currentOffer.hideVN||(l+='<div class="_rsi-quantity-offers-variant-number">'+(s+1)+".</div>"),l+='<select data-offer-num="'+(s+1)+'">',_rsi.form.quantityOffers.productCache.variants.forEach(function(e,t){var r;e.available&&(r=!1,o?o.variants[s]&&e.id==o.variants[s]&&(r=!0):a&&0==s?e.id==a&&(r=!0):0==t&&(r=!0),l+='<option value="'+e.id+'"'+(r?" selected":"")+">"+e.title+"</option>")}),l+="</select>",l+="</div>"}l+="</div>"}l+="</div>"}),l+='<input type="hidden" name="metrics_quantity_offer_id" value="'+_rsi.form.quantityOffers.currentOffer.id+'">',l+="</div>",document.querySelector("#rsi-cod-form-quantity-offers-hook").innerHTML=l},calculateOfferPrices:function(e,t){e=e||_rsi.form.quantityOffers.selectedOfferIn;var r=_rsi.form.quantityOffers.productCache.price*e.qty;t&&(r=t);var o=0;"fixed"==e.ds.t?e.ds.v<=r&&(o=e.ds.v):"percentage"==e.ds.t&&(o=Math.floor(r*(e.ds.v/1e4)));t={totalPrice:r-o,discount:o};return 0<o&&(t.comparePrice=r),(_rsi.s.form.showComparePriceInQOffers||_rsi.form.quantityOffers.currentOffer.useComparePrice)&&_rsi.form.quantityOffers.productCache.compare_at_price*e.qty>t.totalPrice&&(t.comparePrice=_rsi.form.quantityOffers.productCache.compare_at_price*e.qty),t},calculateSelectedOfferData:function(e,t){var r={},o=0,i=0;return e=e||document.querySelector("._rsi-quantity-offers-selected"),t=t||_rsi.form.quantityOffers.selectedOfferIn,e.querySelector("._rsi-quantity-offers-variants")?e.querySelectorAll("._rsi-quantity-offers-variants select[data-offer-num], ._rsi-quantity-offers-variants input[data-offer-num]").forEach(function(e){r[e.value]?r[e.value]=r[e.value]+1:r[e.value]=1}):(e=_rsi.form.quantityOffers.productCache.variants[0].id+"",_rsi.form.quantityOffers.selectedVariantId&&_rsi.form.quantityOffers.currentOffer.disableVariants&&!1===_rsi.form.quantityOffers.currentOffer.disableVariantsUseFirstVariant&&(e=_rsi.form.quantityOffers.selectedVariantId+""),r[e]=t.qty),Object.keys(r).forEach(function(t){_rsi.form.quantityOffers.productCache.variants.forEach(function(e){e.id==t&&(o+=e.price*r[t],i+=e.weight*r[t])})}),{orderTotal:o,orderWeight:i,variants:r}},putOfferInputs:function(r){document.querySelectorAll("._rsi-quantity-offers-item-input").forEach(function(e){e.remove()});var o="";Object.keys(r.variants).forEach(function(e,t){o+='<input class="_rsi-quantity-offers-item-input" type="hidden" name="item_variant_id[qty_offer_'+t+']" value="'+e+'">',o+='<input class="_rsi-quantity-offers-item-input" type="hidden" name="item_quantity[qty_offer_'+t+']" value="'+r.variants[e]+'">'}),document.querySelector("._rsi-quantity-offers-selected").insertAdjacentHTML("beforeend",o)},updatePricesFirst:function(){document.querySelectorAll("._rsi-quantity-offers ._rsi-quantity-offers-offer-container").forEach(function(e){var t,r=e.getAttribute("data-offer-pos"),o=!1;_rsi.form.quantityOffers.currentOffer.offers.forEach(function(e){e.pos==r&&(o=e)}),o&&(t=_rsi.form.quantityOffers.calculateSelectedOfferData(e,o),t=_rsi.form.quantityOffers.calculateOfferPrices(o,t.orderTotal),e.querySelector("._rsi-quantity-offers-old-price")&&t.comparePrice&&(e.querySelector("._rsi-quantity-offers-old-price").innerHTML=_rsi.u.formatMoney(t.comparePrice,"amount_with_comma_separator",!1,!0)),e.querySelector("._rsi-quantity-offers-new-price")&&t.totalPrice&&(e.querySelector("._rsi-quantity-offers-new-price").innerHTML=_rsi.u.formatMoney(t.totalPrice,"amount_with_comma_separator",!1,!0)))})},recalculateData:function(e){var t,r,o=_rsi.form.quantityOffers.calculateSelectedOfferData(),i=_rsi.form.quantityOffers.calculateOfferPrices(!1,o.orderTotal);if(_rsi.form.quantityOffers.putOfferInputs(o),!_rsi.s.form.isEmbedded||_rsi.form.hasEmbeddedV2){_rsi.cart.original_total_price=o.orderTotal,_rsi.cart.total_weight=o.orderWeight,_rsi.cart._is_rsi_quantity_offer_cart=!0,_rsi.cart.item_count=_rsi.form.quantityOffers.selectedOfferIn.qty;try{_rsi.cart.items[0]&&(_rsi.cart.items[0].quantity=_rsi.form.quantityOffers.selectedOfferIn.qty)}catch(e){console.log(e)}_rsi.form.discounts.codesApplied=[],0<i.discount&&_rsi.form.discounts.codesApplied.push({text:_rsi.form.quantityOffers.defaultCodeText,amount:i.discount,type:"fixed_amount"}),_rsi.form.quantityOffers.discount.type&&(r=0,"fixed_amount"==_rsi.form.quantityOffers.discount.type?r=_rsi.form.quantityOffers.discount.value:"percentage"==_rsi.form.quantityOffers.discount.type&&(t=_rsi.form.quantityOffers.discount.value/1e4,r=Math.round(t*i.totalPrice)),0<r&&_rsi.form.discounts.codesApplied.push({text:_rsi.form.quantityOffers.discount.code,amount:r,type:"fixed_amount"})),_rsi.shippingRates.savedRatePriority=!1,_rsi.form.discounts.updateTotalAmount(!1,!1)}else _rsi.form.embedded.quantityOffersCart={token:"abcdefg",_is_rsi_quantity_offer_cart:!0,note:null,attributes:{},original_total_price:o.orderTotal,total_price:o.orderTotal,total_discount:0,total_weight:o.orderWeight,item_count:1,items:[{id:1,properties:null,quantity:1,variant_id:1,key:"1",title:"title",price:1,original_price:1,discounted_price:1,line_price:1,original_line_price:1,total_discount:0,discounts:[],sku:null,grams:0,vendor:"1",taxable:!0,product_id:_rsi.form.quantityOffers.productCache.id,product_has_only_default_variant:!0,gift_card:!1,final_price:1,final_line_price:1,line_level_discount_allocations:[],line_level_total_discount:0}],requires_shipping:!0,currency:Shopify.currency.active,items_subtotal_price:o.orderTotal,cart_level_discount_applications:[]},_rsi.form.discounts.codesApplied=[],0<i.discount&&_rsi.form.discounts.codesApplied.push({text:_rsi.form.quantityOffers.defaultCodeText,amount:i.discount,type:"fixed_amount"});if(document.querySelector("._rsi-quantity-offers-selected ._rsi-quantity-offers-old-price")&&i.comparePrice&&(document.querySelector("._rsi-quantity-offers-selected ._rsi-quantity-offers-old-price").innerHTML=_rsi.u.formatMoney(i.comparePrice,"amount_with_comma_separator",!1,!0)),document.querySelector("._rsi-quantity-offers-selected ._rsi-quantity-offers-new-price")&&i.totalPrice&&(document.querySelector("._rsi-quantity-offers-selected ._rsi-quantity-offers-new-price").innerHTML=_rsi.u.formatMoney(i.totalPrice,"amount_with_comma_separator",!1,!0)),!_rsi.form.quantityOffers.selectedOfferIn.imgUrl&&e&&document.querySelector("._rsi-quantity-offers-selected ._rsi-modal-line-item-image"))try{var s=e.target.value,a=!1;_rsi.form.quantityOffers.productCache.variants.forEach(e=>{e.id==s&&(a=e)}),a&&(a.featured_image?document.querySelector("._rsi-quantity-offers-selected ._rsi-modal-line-item-image").src=a.featured_image.src:_rsi.form.quantityOffers.productCache.featured_image&&(document.querySelector("._rsi-quantity-offers-selected ._rsi-modal-line-item-image").src=_rsi.form.quantityOffers.productCache.featured_image))}catch(e){console.log(e)}_rsi.form.updateCurrencies()},onSelectOffer:function(t,e){if(_rsi.form.quantityOffers.currentOffer.offers.forEach(function(e){e.pos==t&&(_rsi.form.quantityOffers.selectedOfferIn=e)}),document.querySelectorAll("._rsi-quantity-offers-selected").forEach(function(e){e.classList.remove("_rsi-quantity-offers-selected"),e.style=null}),document.querySelector('._rsi-quantity-offers-offer-container[data-offer-pos="'+t+'"]').classList.add("_rsi-quantity-offers-selected"),document.querySelector("._rsi-quantity-offers-selected").style.borderColor=_rsi.form.quantityOffers.currentOffer.selBC,document.querySelector("._rsi-quantity-offers-selected").style.backgroundColor=_rsi.form.quantityOffers.currentOffer.selBgC,document.querySelector("._rsi-quantity-offers-selected ._rsi-quantity-offers-variants select")&&!document.querySelector("._rsi-quantity-offers-selected ._rsi-quantity-offers-variants._rsi-quantity-offers-variants-multi-selectors"))document.querySelectorAll("._rsi-quantity-offers-selected ._rsi-quantity-offers-variants select").forEach(function(e){e.removeEventListener("change",_rsi.form.quantityOffers.recalculateData),e.addEventListener("change",_rsi.form.quantityOffers.recalculateData)});else if(document.querySelector("._rsi-quantity-offers-selected ._rsi-quantity-offers-variants._rsi-quantity-offers-variants-multi-selectors"))return void _rsi.form.quantityOffers.multiSel.open(e);_rsi.form.quantityOffers.recalculateData()},multiSel:{calcOptions:function(){var t={};return _rsi.form.quantityOffers.productCache.variants.forEach(e=>{e.available&&2==e.options.length&&(t[e.options[0]]||(t[e.options[0]]=[]),t[e.options[0]].push(e.options[1]))}),t},getVariantFromOptions:function(t){var r=!1;return _rsi.form.quantityOffers.productCache.variants.forEach(e=>{2==t.length&&e.options[0]==t[0]&&e.options[1]==t[1]&&(r=e)}),r},selectedVariantId:!1,open:function(e){var t=_rsi.form.quantityOffers.selectedOfferIn;if(e&&(_rsi.form.quantityOffers.multiSel.selectedVariantId=e),document.querySelector("._rsi-quantity-offers-selected ._rsi-quantity-offers-variants._rsi-quantity-offers-variants-multi-selectors")){var r=!1;if(""==document.querySelector("._rsi-quantity-offers-selected ._rsi-quantity-offers-variants._rsi-quantity-offers-variants-multi-selectors").innerHTML){for(var o="",r=!0,i=0;i<t.qty;i++)o+='<div class="_rsi-quantity-offers-variant-selector-multi-sel" data-offer-num-multi-sel="'+(i+1)+'">',_rsi.form.quantityOffers.currentOffer.hideVN||(o+='<div class="_rsi-quantity-offers-variant-number">'+(i+1)+".</div>"),o+='<div class="_rsi-quantity-offers-variant-selector-multi-sel-wrapper">',_rsi.form.quantityOffers.productCache.options.forEach((e,t)=>{o+='<div class="_rsi-quantity-offers-variant-selector-multi-sel-container _rsi-modal-fields-item">',o+='<div class="_rsi-quantity-offers-multi-sel-optname">'+e+"</div>",o+='<select data-offer-num-multi-sel="'+(i+1)+'" data-option-num="'+t+'"></select>',o+="</div>"}),o+="</div>",o+="</div>";document.querySelector("._rsi-quantity-offers-selected ._rsi-quantity-offers-variants._rsi-quantity-offers-variants-multi-selectors").innerHTML=o}document.querySelectorAll("._rsi-quantity-offers-selected ._rsi-quantity-offers-variants._rsi-quantity-offers-variants-multi-selectors select").forEach(function(e){e.removeEventListener("change",_rsi.form.quantityOffers.multiSel.onOptSelect),e.addEventListener("change",_rsi.form.quantityOffers.multiSel.onOptSelect)}),r&&_rsi.form.quantityOffers.multiSel.selectedVariantId&&(e=_rsi.form.quantityOffers.multiSel.selectedVariantId),_rsi.form.quantityOffers.multiSel.onOptSelect(!1,e)}},onOptSelect:function(e,t){var r,o,c=_rsi.form.quantityOffers.multiSel.calcOptions(),l=!1;_rsi.form.quantityOffers.productCache.variants.forEach(e=>{e.id==t&&e.available&&(l=e)}),e?e.target&&(r=e.target.closest("._rsi-quantity-offers-variant-selector-multi-sel"),"0"==e.target.getAttribute("data-option-num")&&r.querySelector('select[data-option-num="1"]')&&c[decodeURI(e.target.value)]&&(r=r.querySelector('select[data-option-num="1"]'),o="",c[decodeURI(e.target.value)].forEach((e,t)=>{let r=0==t?!0:!1;o+='<option value="'+encodeURI(e)+'"'+(r?" selected":"")+">"+e+"</option>"}),r.innerHTML=o)):document.querySelectorAll("._rsi-quantity-offers-selected ._rsi-quantity-offers-variant-selector-multi-sel").forEach(e=>{var o,i,s=e.getAttribute("data-offer-num-multi-sel"),a=!1,t=!1,r=_rsi.form.quantityOffers.savedSelection,n=_rsi.form.quantityOffers.selectedOfferIn;r&&r.offers.forEach(function(e){e.pos==n.pos&&e.variants.length==n.qty&&(t=e)}),t&&_rsi.form.quantityOffers.productCache.variants.forEach(e=>{e.id==t.variants[parseInt(s)-1]&&(a=e)}),e.querySelector('select[data-option-num="0"]')&&(""==(r=e.querySelector('select[data-option-num="0"]')).innerHTML&&(o="",Object.keys(c).forEach((e,t)=>{let r=!1;a?a.option1==e&&(r=!0):("1"==s&&l||0!=t)&&(l.option1!=e||"1"!=s)||(r=!0),o+='<option value="'+encodeURI(e)+'"'+(r?" selected":"")+">"+e+"</option>"}),r.innerHTML=o),r=decodeURI(e.querySelector('select[data-option-num="0"]').value),!e.querySelector('select[data-option-num="1"]')||""==(e=e.querySelector('select[data-option-num="1"]')).innerHTML&&(i="",c[r].forEach((e,t)=>{let r=!1;a?a.option2==e&&(r=!0):("1"==s&&l||0!=t)&&(l.option2!=e||"1"!=s)||(r=!0),i+='<option value="'+encodeURI(e)+'"'+(r?" selected":"")+">"+e+"</option>"}),e.innerHTML=i))}),document.querySelectorAll("._rsi-quantity-offers-selected ._rsi-quantity-offers-variant-selector-multi-sel").forEach(e=>{var t,r=e.getAttribute("data-offer-num-multi-sel"),o=[];e.querySelector('select[data-option-num="0"]')&&(t=decodeURI(e.querySelector('select[data-option-num="0"]').value),o.push(t),e.querySelector('select[data-option-num="1"]')&&o.push(decodeURI(e.querySelector('select[data-option-num="1"]').value)));o=_rsi.form.quantityOffers.multiSel.getVariantFromOptions(o);o&&(e.querySelector("input[data-offer-num]")||e.insertAdjacentHTML("beforeend",'<input type="hidden" data-offer-num="'+r+'" value="">'),e.querySelector("input[data-offer-num]").value=o.id)});let i=!1;e&&e.target&&(i={target:e.target.closest("._rsi-quantity-offers-variant-selector-multi-sel").querySelector("input[data-offer-num]")}),_rsi.form.quantityOffers.recalculateData(i)}}},tickUps:{upsCache:!1,eligUps:[],selectedUps:[],clear:function(){_rsi.form.tickUps.selectedUps=[]},init:function(){_rsi.form.tickUps.selectedUps=[],_rsi.form.tickUps.eligUps=[];try{if(_rsi.form.tickUps.upsCache||"undefined"!=typeof _RSI_COD_FORM_TICK_UPS&&(_rsi.form.tickUps.upsCache=_RSI_COD_FORM_TICK_UPS),!_rsi.form.tickUps.upsCache)return;document.querySelector("#rsi-cod-form-tick-ups-custom-hook")&&(document.querySelector("#rsi-cod-form-tick-ups-hook")&&document.querySelector("#rsi-cod-form-tick-ups-hook").remove(),document.querySelector("#rsi-cod-form-tick-ups-custom-hook").insertAdjacentHTML("afterend",'<div id="rsi-cod-form-tick-ups-hook"><div>'),document.querySelector("#rsi-cod-form-tick-ups-custom-hook").remove());try{!_rsi.cart||_rsi.s.form.isEmbedded&&!_rsi.form.hasEmbeddedV2||_rsi.form.tickUps.upsCache.forEach(t=>{var r;t.isActive&&("all"!=t.prods?(r=!1,_rsi.cart.items.forEach(e=>{r||-1<t.prods.indexOf(e.product_id+"")&&(_rsi.form.tickUps.eligUps.push(t),r=!0)})):_rsi.form.tickUps.eligUps.push(t))}),_rsi.s.form.isEmbedded&&!_rsi.form.hasEmbeddedV2&&_rsi.form.quantityOffers.productCache&&_rsi.form.tickUps.upsCache.forEach(e=>{e.isActive&&("all"==e.prods||-1<e.prods.indexOf(_rsi.form.quantityOffers.productCache.id+""))&&_rsi.form.tickUps.eligUps.push(e)})}catch(e){console.log(e)}if(0==_rsi.form.tickUps.eligUps.length)return;_rsi.form.tickUps.open()}catch(e){console.log(e)}},open:function(){document.querySelector("#rsi-cod-form-tick-ups-hook")&&(_rsi.form.tickUps.build(),document.querySelectorAll('._rsi-tick-ups-container input[data-tick-ups-visible-checkbox="true"]').forEach(e=>{e.addEventListener("change",_rsi.form.tickUps.onCheckboxChange)}),_rsi.form.tickUps.eligUps.forEach(e=>{e.ticked&&document.querySelector('._rsi-tick-ups-container[data-tick-ups-id="'+e.id+'"]')&&(document.querySelector('._rsi-tick-ups-container[data-tick-ups-id="'+e.id+'"] input[data-tick-ups-visible-checkbox="true"]').checked=!0,_rsi.form.tickUps.onCheckboxChange(!1,e.id,!0)),document.querySelector('._rsi-tick-ups-container[data-tick-ups-id="'+e.id+'"]')&&_rsi.metrics.addMetric("upsells1Tick-impression-"+e.id,{count:1})}))},build:function(){var r="";r+='<div class="_rsi-tick-ups">',_rsi.form.tickUps.eligUps.forEach(function(e){r+='<div class="_rsi-tick-ups-container" data-tick-ups-id="'+e.id+'">',r+='<div class="_rsi-tick-ups-offer _rsi-modal-fields-item _rsi-modal-fields-checkbox'+(0<e.bW?" _rsi-tick-ups-offer-with-border":"")+'">',0==e.bW&&(e.bgC="#fff"),e.bSty||(e.bSty="solid");var t="border: "+e.bW+"px "+e.bSty+" "+e.bC+" !important;";"dashed-animated"==e.bSty&&(t="background-image: linear-gradient(90deg, bcolor 50%, transparent 50%), linear-gradient(90deg, bcolor 50%, transparent 50%), linear-gradient(0deg, bcolor 50%, transparent 50%), linear-gradient(0deg, bcolor 50%, transparent 50%); background-repeat: repeat-x, repeat-x, repeat-y, repeat-y; background-size: 13px bwidth, 13px bwidth, bwidth 13px, bwidth 13px; background-position: left top, right bottom, left bottom, right top; animation: 0.3s linear 0s infinite normal none running rsiTickUpsBorder;".replace(/bwidth/g,e.bW+"px").replace(/bcolor/g,e.bC)),r+='<label style="background-color: '+e.bgC+" !important; "+t+'">',r+='<input type="hidden" name="tick_ups_id_'+e.id+"_"+encodeURIComponent(e.title)+'" value="-1" data-tick-ups-hidden-input="true" data-tick-ups-id="'+e.id+'">',r+='<input name="tick_ups_visible_checkbox_'+e.id+'" type="checkbox" data-tick-ups-visible-checkbox="true" data-tick-ups-id="'+e.id+'">',r+="<span>",r+='<span style="color: '+e.c+' !important;">'+e.text.replace("{title}","<b>"+e.title+"</b>").replace("{price}","<b>"+_rsi.u.formatMoney(e.price,"amount_with_comma_separator",!1,!0)+"</b>")+"</span>",e.desc&&(r+='<span class="_rsi-tick-ups-offer-desc" style="color: '+e.descC+' !important;">'+e.desc+"</span>"),r+="</span>",0<e.bW&&e.imgUrl&&(r+='<span class="_rsi-tick-ups-img-container"><img src="'+e.imgUrl+'" class="_rsi-modal-line-item-image"></span>'),r+="</label>",r+="</div>",r+="</div>"}),r+="</div>",document.querySelector("#rsi-cod-form-tick-ups-hook").innerHTML=r},onCheckboxChange:function(t,r,e){t&&(e=!!t.target.checked,t.target.closest("._rsi-tick-ups-container")&&(r=t.target.closest("._rsi-tick-ups-container").getAttribute("data-tick-ups-id")));t=document.querySelector('._rsi-tick-ups-container[data-tick-ups-id="'+r+'"]');if(r&&t){var o=!1;if(_rsi.form.tickUps.eligUps.forEach(e=>{e.id==r&&(o=e)}),e){let e=!0;o.connP&&o.connV&&(o.connDisc?t.querySelector('input[data-tick-ups-hidden-input="true"]').value="vid_"+o.connV+"_"+o.price+"_"+o.connDisc:t.querySelector('input[data-tick-ups-hidden-input="true"]').value="vid_"+o.connV+"_"+o.price,e=!1),e&&(t.querySelector('input[data-tick-ups-hidden-input="true"]').value=o.price)}else t.querySelector('input[data-tick-ups-hidden-input="true"]').value=-1;_rsi.form.tickUps.recaclulatePrices()}},recaclulatePrices:function(){_rsi.form.tickUps.selectedUps=[],document.querySelectorAll('._rsi-tick-ups input[data-tick-ups-visible-checkbox="true"]').forEach(e=>{var t,r;e.checked&&(t=e.getAttribute("data-tick-ups-id"),r=!1,_rsi.form.tickUps.eligUps.forEach(e=>{e.id==t&&(r=e)}),r&&_rsi.form.tickUps.selectedUps.push(r))}),_rsi.s.form.isEmbedded&&!_rsi.form.hasEmbeddedV2||_rsi.form.discounts.updateTotalAmount()}},calculateCodFee:function(){var e;_rsi.s.integrations.codFee&&"percentage"==_rsi.s.integrations.codFee.type&&_rsi.cart&&_rsi.s.integrations.codFee.isFeeEnabled&&(e=_rsi.cart.original_total_price*Shopify.currency.rate-_rsi.form.discounts.totalAmount,_rsi.s.integrations.codFee.commission=Math.round(_rsi.s.integrations.codFee.percAmount/1e4*e),document.querySelector('._rsi-modal-checkout-line[data-checkout-line="cod-fee"] ._rsi-modal-checkout-line-value')&&(document.querySelector('._rsi-modal-checkout-line[data-checkout-line="cod-fee"] ._rsi-modal-checkout-line-value').innerHTML=_rsi.u.formatMoney(_rsi.s.integrations.codFee.commission,"amount_with_comma_separator")))},buildBlocks:{isProductsValid:function(e,t){return _rsi.s.testMode,!0},order_summary:function(e,r,t,o,i){if(o&&!_rsi.form.hasEmbeddedV2)return"";if(i)return e.isActive?'<div class="_rsi-cod-form-deferred-loading-hook" data-field-type="'+e.type+'"><div class="_rsi-modal-deferred-loading-page _rsi-modal-loading-page"><svg class="_rsi-modal-loading-icon" style="margin: auto; display: block; shape-rendering: auto;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="#565656" stroke-width="7" r="35" stroke-dasharray="164.93361431346415 56.97787143782138"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div>':'<div class="_rsi-cod-form-deferred-loading-hook" data-field-type="'+e.type+'"></div>';var s="";return s+='<div id="rsi-cod-form-quantity-offers-hook"></div>',s+='<div class="_rsi-build-block _rsi-build-block-order-summary'+(e.isActive?"":" _rsi-build-block-not-active")+'">',s+='<div class="_rsi-modal-line-items">',r.items.forEach(function(e,t){s+='<div class="_rsi-modal-line-item" data-line-item-variant-id="'+e.variant_id+'">',s+='<div class="_rsi-modal-line-item-image-container">',s+='<img src="'+e.featured_image.url+'" class="_rsi-modal-line-item-image" />',s+='<div class="_rsi-modal-line-item-quantity">'+e.quantity+"</div>",s+="</div>",s+='<input type="hidden" name="item_variant_id['+t+']" value="'+e.variant_id+'">',s+='<input type="hidden" name="item_quantity['+t+']" value="'+e.quantity+'">',e.properties&&(s+='<input type="hidden" name="item_properties['+t+']" value="'+encodeURI(JSON.stringify(e.properties))+'">'),s+='<div class="_rsi-modal-line-item-info">',s+='<a class="_rsi-modal-line-item-title" href="'+e.url+'">'+e.product_title+"</a>",e.variant_title&&(s+='<span class="_rsi-modal-line-item-variant-name">'+e.variant_title+"</span>"),s+="</div>",s+='<div class="_rsi-modal-line-item-final-price">'+_rsi.u.formatMoney(e.original_line_price,"amount_with_comma_separator")+"</div>",1<r.items.length&&(s+='<div class="_rsi-modal-line-item-remove-button"><svg class="_rsi-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"></path></svg></div>'),s+="</div>"}),s+="</div>",s+="</div>"},totals_summary:function(e,o,t,r,i){if(r&&!_rsi.form.hasEmbeddedV2)return"";if(i)return'<div class="_rsi-cod-form-deferred-loading-hook" data-field-type="'+e.type+'"></div>';var s="";return s+='<div class="_rsi-build-block _rsi-build-block-totals-summary'+(e.isActive?"":" _rsi-build-block-not-active")+'">',s+='<div class="_rsi-modal-checkout-lines">',_rsi.s.form.checkoutLines_array.forEach(function(e){var t,r=0;"subtotal"==e.type?r=_rsi.u.formatMoney(o.original_total_price,"amount_with_comma_separator"):"shipping"==e.type?(t=_rsi.shippingRates.calculate(o),s+='<input type="hidden" name="shipping_rate_priority" value="'+t.priority+'">',r=t.price?_rsi.u.formatMoney(t.price,"amount_with_comma_separator",!1,!0):_rsi.s.form.generalTexts.free):"total"==e.type&&(t=_rsi.shippingRates.calculate(o),t=o.original_total_price+t.price*Shopify.currency.rate,_rsi.form.calculateCodFee(),_rsi.s.integrations.codFee&&_rsi.s.integrations.codFee.isFeeEnabled&&(t+=_rsi.s.integrations.codFee.commission,s+=_rsi.form.generateCheckoutLine(_rsi.s.integrations.codFee.commissionName,_rsi.u.formatMoney(_rsi.s.integrations.codFee.commission,"amount_with_comma_separator",!1,!0),!1,"cod-fee")),r=_rsi.u.formatMoney(t,"amount_with_comma_separator")),s+=_rsi.form.generateCheckoutLine(e.title,r,"total"==e.type,e.type)}),s+="</div>",_rsi.s.form.allTaxesIncluded.isEnabled&&(s+='<span class="_rsi-modal-all-taxes-included">'+_rsi.s.form.allTaxesIncluded.text+"</span>"),s+="</div>"},shipping_rates:function(e,t,r,o,i){if(o&&!_rsi.form.hasEmbeddedV2)return"";if(i)return'<div class="_rsi-cod-form-deferred-loading-hook" data-field-type="'+e.type+'"></div>';i="";return i+='<div class="_rsi-build-block _rsi-build-block-shipping-rates'+(e.isActive?"":" _rsi-build-block-not-active")+'">',_rsi.s.shippingRates.isAutomatic||(i+='<span class="_rsi-modal-shipping-rates-title" style="text-align: '+e.alignment+' !important;">'+_rsi.s.form.generalTexts.selectShippingRate+"</span>",i+='<div class="_rsi-modal-shipping-rates"></div>'),i+="</div>"},discount_codes:function(e,t,r,o,i){if(o&&!_rsi.form.hasEmbeddedV2)return"";if(i)return'<div class="_rsi-cod-form-deferred-loading-hook" data-field-type="'+e.type+'"></div>';i="";return i+='<div class="_rsi-build-block _rsi-build-block-discount-codes'+(e.isActive?"":" _rsi-build-block-not-active")+'">',_rsi.s.form.discounts.isEnabled&&(i+='<div class="_rsi-modal-discounts">',i+='<div class="_rsi-modal-discounts-form">',i+='<div class="_rsi-modal-fields-item">',i+='<input id="_rsi-modal-discounts-form-code" type="text" placeholder="'+_rsi.s.form.discounts.fieldLabel+'">',i+='<button id="_rsi-modal-discounts-form-apply" type="button" style="background: '+_rsi.s.form.discounts.applyButton.style.bgColor+';">'+_rsi.s.form.discounts.applyButton.text+"</button>",i+="</div>",i+='<div class="_rsi-modal-fields-item _rsi-modal-fields-item-discount-error"></div>',i+="</div>",i+='<div class="_rsi-modal-discounts-plaques"></div>',i+="</div>"),i+="</div>"},additionals_country_selector:function(e,t,r,o,i){var s="";return s+='<div class="_rsi-build-block _rsi-build-block-discount-codes'+(e.isActive?"":" _rsi-build-block-not-active")+'"><div id="rsi-country-selector-skeleton"></div></div>'},custom_text:function(e,t,r,o,i){var s="",a="";return t&&t.items&&t.items[0]&&(a=t.items[0].product_title),s+='<div data-type="'+e.type+'" class="_rsi-build-block _rsi-build-block-custom-text'+(e.isActive?"":" _rsi-build-block-not-active")+'">',s+='<div class="_rsi-custom-text-field" style="text-align: '+e.alignment+" !important; color: "+e.color+" !important; font-weight: "+e.fontWeight+" !important; font-size: calc("+e.fontSizeFactor+' * 1.15em) !important;">'+e.text.replace("{order_total}",'<span class="rsi-cod-form-submit-total-value"></span>').replace("{order_subtotal}",'<span class="rsi-cod-form-submit-subtotal-value"></span>').replace("{product_name}",a)+"</div>",s+="</div>",o&&!_rsi.form.hasEmbeddedV2&&(s+='<div id="rsi-cod-form-quantity-offers-hook"></div>'),s},additionals_custom_image:function(e,t,r,o,i){var s="";return!e.imgUrl||e.productsEnabled&&!_rsi.form.buildBlocks.isProductsValid(t,e.productsEnabled)?"":(s+='<div data-type="'+e.type+'" class="_rsi-build-block _rsi-build-block-custom-image'+(e.isActive?"":" _rsi-build-block-not-active")+'">',s+='<img src="'+e.imgUrl+'" style="display: block; width: '+e.imgSize+'%; height: auto; margin: 20px auto;" />',s+="</div>")},submit_button:function(e,t,r,o,i){var s="";_rsi.s.form.submitButton.style.fontSizeFactor&&(s="font-size: calc("+_rsi.s.form.submitButton.style.fontSizeFactor+" * 16.8px) !important;");var a,n=_rsi.btnIconData,c="";try{_rsi.s.form.submitButton.iconType&&"none"!=_rsi.s.form.submitButton.iconType&&n[_rsi.s.form.submitButton.iconType]&&(c=n[_rsi.s.form.submitButton.iconType].svgComponent,a=n[_rsi.s.form.submitButton.iconType].initialWidth*_rsi.s.form.submitButton.style.fontSizeFactor,c=c.replace("{color}",_rsi.s.form.submitButton.style.color).replace("{width}",a))}catch(e){console.log(e)}o&&!_rsi.form.hasEmbeddedV2&&(_rsi.s.form.submitButton.text=_rsi.s.form.submitButton.text.replace(" -",""));o="";return o+='<div id="rsi-cod-form-tick-ups-hook"></div>',o+='<div class="_rsi-build-block _rsi-build-block-submit-button">',o+='<button type="submit" style="background: '+_rsi.s.form.submitButton.style.bgColor+" !important; color: "+_rsi.s.form.submitButton.style.color+" !important; border-radius: "+_rsi.s.form.submitButton.style.borderRadius+"px !important; border: "+_rsi.s.form.submitButton.style.borderWidth+"px solid "+_rsi.s.form.submitButton.style.borderColor+" !important; box-shadow: 0 2px 7px 0px rgba(0, 0, 0, "+_rsi.s.form.submitButton.style.shadowOpacity+") !important; "+(s||"")+'" class="_rsi-modal-submit-button _rsi-buy-now-button'+(_rsi.s.form.submitButton.shakerEnabled||_rsi.s.form.submitButton.shakerType&&"none"!=_rsi.s.form.submitButton.shakerType?" _rsi-buy-now-button-shaker":"")+(_rsi.s.form.submitButton.subt?" _rsi-buy-now-button-with-subtitle":"")+'"'+(_rsi.s.form.submitButton.shakerType?' data-animation-type="'+_rsi.s.form.submitButton.shakerType+'"':"")+"><span>"+_rsi.s.form.submitButton.text.replace("{order_total}",'<span class="rsi-cod-form-submit-total-value"></span>').replace("{order_subtotal}",'<span class="rsi-cod-form-submit-subtotal-value"></span>')+(_rsi.s.form.submitButton.subt?'<span class="_rsi-buy-now-button-subtitle">'+_rsi.s.form.submitButton.subt+"</span>":"")+"</span>"+(c||"")+"</button>",o+="</div>"},sp_quantity:function(e,t,r,o,i){try{if(o&&!_rsi.form.hasEmbeddedV2||!e.isActive)return"";var s="",a="center";return"left"==e.alignment?a="flex-start":"right"==e.alignment&&(a="flex-end"),s+='<div data-type="'+e.type+'" class="_rsi-build-block '+(_rsi.s.testMode?"":"_rsi-build-block-not-active")+' _rsi-build-block-quantity-selector" style="align-items: '+a+'">',e.label&&(s+='<label style="text-align: '+e.alignment+'">'+e.label+"</label>"),s+='<div class="_rsi-modal-upsell-quantity">',s+='<button type="button" id="_rsi-modal-remove-quantity-button" class="_rsi-modal-upsell-change-quantity-button"> <svg class="_rsi-icon" viewBox="0 0 24 24" fill="#000000"> <path d="M0 0h24v24H0V0z" fill="none"></path> <path d="M19 13H5v-2h14v2z"></path> </svg> </button>',s+='<span data-variant-id="" id="_rsi-modal-quantity-shower" class="_rsi-modal-upsell-quantity-shower">'+(_rsi.s.testMode?"1":"")+"</span>",s+='<button type="button" id="_rsi-modal-add-quantity-button" class="_rsi-modal-upsell-change-quantity-button"> <svg class="_rsi-icon" viewBox="0 0 24 24" fill="#000000"> <path d="M0 0h24v24H0V0z" fill="none"></path> <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path> </svg> </button>',s+="</div>",s+="</div>"}catch(e){return console.log(e),""}},additionals_text_input:function(e,t,r,o,i){if(!e.isActive)return"";if(e.productsEnabled&&!_rsi.form.buildBlocks.isProductsValid(t,e.productsEnabled))return"";var s="";s+='<div class="_rsi-modal-fields-item'+(-1<e.type.indexOf("checkbox")?" _rsi-modal-fields-checkbox":"")+(e.showIcon?" _rsi-modal-fields-item-with-icon":"")+'" data-icon-type="'+e.iconType+'">';var a=e.required?'<span class="_rsi-modal-required-label">*</span>':"";e.label&&-1==e.type.indexOf("checkbox")&&(s+="<label>"+e.label+a+"</label>");t=e.label;e.n&&e.n.ph&&(t=e.n.ph);a=e.backendFields.name;_rsi.s.form.fields.areLabelsEnabled?a+=e.label.replace(/&/g,"").replace(/'/g,"").replace(/"/g,"").replace(/</g,"").replace(/>/g,""):e.n&&e.n.ph&&(a+=e.n.ph.replace(/&/g,"").replace(/'/g,"").replace(/"/g,"").replace(/</g,"").replace(/>/g,"")),"none"!=e.connectToName&&e.connectToName&&(a=e.backendFields.name+e.connectToName,"civic_number"==e.connectToName&&(a+="."+e.type.split(".")[1]));t='data-type="'+e.type+'" name="'+a+'" placeholder="'+t+'" id="_rsi-field-'+e.type+'"'+(e.required?' required="required"':"");return e.n&&e.n.onlyN&&(t+=' inputmode="numeric" pattern="[0-9]*"'),s+='<input type="text" '+t+">",s+="</div>"},additionals_custom_text:function(e,t,r,o,i){if(!e.isActive)return"";if(e.productsEnabled&&!_rsi.form.buildBlocks.isProductsValid(t,e.productsEnabled))return"";var s="",a="";return t&&t.items&&t.items[0]&&(a=t.items[0].product_title),-1<e.text.indexOf("-hook")&&(e.alignment="unset"),s+='<div data-type="'+e.type+'" class="_rsi-build-block _rsi-build-block-custom-text'+(e.isActive?"":" _rsi-build-block-not-active")+'">',s+='<div class="_rsi-custom-text-field" style="text-align: '+e.alignment+" !important; color: "+e.color+" !important; font-weight: "+e.fontWeight+" !important; font-size: calc("+e.fontSizeFactor+' * 1.15em) !important;">'+e.text.replace("{order_total}",'<span class="rsi-cod-form-submit-total-value"></span>').replace("{order_subtotal}",'<span class="rsi-cod-form-submit-subtotal-value"></span>').replace("{product_name}",a)+"</div>",s+="</div>"},additionals_dropdown_input:function(e,t,r,o,i){if(!e.isActive)return"";if(e.productsEnabled&&!_rsi.form.buildBlocks.isProductsValid(t,e.productsEnabled))return"";try{var s="";s+='<div class="_rsi-modal-fields-item">';var a=e.required?'<span class="_rsi-modal-required-label">*</span>':"";e.label&&-1==e.type.indexOf("checkbox")&&(s+="<label>"+e.label+a+"</label>");var n=e.label;e.n&&e.n.ph&&(n=e.n.ph);a=e.backendFields.name;_rsi.s.form.fields.areLabelsEnabled?a+=e.label.replace(/&/g,"").replace(/'/g,"").replace(/"/g,"").replace(/</g,"").replace(/>/g,""):e.n&&e.n.ph&&(a+=e.n.ph.replace(/&/g,"").replace(/'/g,"").replace(/"/g,"").replace(/</g,"").replace(/>/g,"")),"none"!=e.connectToName&&e.connectToName&&(a=e.backendFields.name+e.connectToName);var a='data-type="'+e.type+'" name="'+a+'" placeholder="'+n+'" id="_rsi-field-'+e.type+'"'+(e.required?' required="required"':""),c=[];return e.valuesByComma.split(",").forEach(function(e){c.push({value:e.trim(),label:e.trim()})}),c[0]?""!=c[0].value?c=_rsi.u.arrayPrepend({value:"",label:n},c):c[0].label=n:c.push({value:"",label:n}),s+="<select "+a+">",c.forEach(function(e){s+='<option value="'+e.value+'">'+e.label+"</option>"}),s+="</select>",s+="</div>"}catch(e){return console.log(e),""}},additionals_radio_input:function(o,e,t,r,i){if(!o.isActive)return"";if(o.productsEnabled&&!_rsi.form.buildBlocks.isProductsValid(e,o.productsEnabled))return"";try{var s="";s+='<div class="_rsi-modal-fields-item _rsi-modal-fields-item-radio-container">';var a=o.required?'<span class="_rsi-modal-required-label">*</span>':"";o.label&&-1==o.type.indexOf("checkbox")&&(s+="<label>"+o.label+a+"</label>");a=o.backendFields.name;a+=o.label.replace(/&/g,"").replace(/'/g,"").replace(/"/g,"").replace(/</g,"").replace(/>/g,""),"none"!=o.connectToName&&o.connectToName&&(a=o.backendFields.name+o.connectToName);var n='data-type="'+o.type+'" name="'+a+'"'+(o.required?' required="required"':""),c=[];o.valuesByComma.split(",").forEach(function(e){c.push({value:e.trim(),label:e.trim()})});var l=!0;return!1===o.preFirst&&(l=!1),s+='<div class="_rsi-modal-fields-item-radio-items">',c.forEach(function(e,t){var r=o.type+(t+"");s+='<div class="_rsi-modal-fields-item-radio-item">',s+='<input type="radio" value="'+e.value+'" id="'+r+'" '+(0==t&&l?"checked":"")+" "+n+">",s+='<label for="'+r+'">'+e.label+"</label>",s+="</div>"}),s+="</div>",s+="</div>"}catch(e){return console.log(e),""}},additionals_checkbox:function(e,t,r,o,i){if(!e.isActive)return"";if(e.productsEnabled&&!_rsi.form.buildBlocks.isProductsValid(t,e.productsEnabled))return"";try{var s="";s+='<div class="_rsi-modal-fields-item _rsi-modal-fields-item-checkbox-container">';var a=e.required?'<span class="_rsi-modal-required-label">*</span>':"";e.label&&(s+="<label>"+e.label+"</label>");var n=e.backendFields.name;n+=e.checkboxLabel.replace(/&/g,"").replace(/'/g,"").replace(/"/g,"").replace(/</g,"").replace(/>/g,""),"none"!=e.connectToName&&e.connectToName&&(n=e.backendFields.name+e.connectToName);n='data-type="'+e.type+'" name="'+n+'"'+(e.required?' required="required"':"");return s+='<div class="_rsi-modal-fields-item _rsi-modal-fields-checkbox">',s+='<label><input type="checkbox" '+n+"><span>"+e.checkboxLabel+a+"</span></label>",s+="</div>",s+="</div>"}catch(e){return console.log(e),""}},additionals_date_sel:function(e,t,r,o,i){if(!e.isActive)return"";if(e.productsEnabled&&!_rsi.form.buildBlocks.isProductsValid(t,e.productsEnabled))return"";try{var s="";s+='<div class="_rsi-modal-fields-item _rsi-modal-fields-date-picker'+(e.showIcon?" _rsi-modal-fields-item-with-icon":"")+'" data-icon-type="'+e.iconType+'" data-date-format="'+e.format+'" data-exclude-sundays="'+e.excSun+'" data-exclude-saturdays="'+e.excSat+'" data-next-days="'+e.nxtDays+'">';var a=e.required?'<span class="_rsi-modal-required-label">*</span>':"";e.label&&-1==e.type.indexOf("checkbox")&&(s+="<label>"+e.label+a+"</label>");var n=e.label;e.n&&e.n.ph&&(n=e.n.ph);a=e.backendFields.name;return _rsi.s.form.fields.areLabelsEnabled?a+=e.label.replace(/&/g,"").replace(/'/g,"").replace(/"/g,"").replace(/</g,"").replace(/>/g,""):e.n&&e.n.ph&&(a+=e.n.ph.replace(/&/g,"").replace(/'/g,"").replace(/"/g,"").replace(/</g,"").replace(/>/g,"")),s+='<input readonly type="text" '+('data-type="'+e.type+'" name="'+a+'" placeholder="'+n+'" id="_rsi-field-'+e.type+'"'+(e.required?' required="required"':""))+">",s+="</div>"}catch(e){return console.log(e),""}},additionals_whatsapp_button:function(e,t,r,o,i){if(!e.isActive)return"";if(e.productsEnabled&&!_rsi.form.buildBlocks.isProductsValid(t,e.productsEnabled))return"";try{var s="";e.fontSizeFactor&&(s="font-size: calc("+e.fontSizeFactor+" * 16.8px) !important;");var a="";return a+='<div data-type="'+e.type+'" class="_rsi-build-block _rsi-build-block-whatsapp-button _rsi-build-block-custom-button">',a+='<a href="'+("https://api.whatsapp.com/send/?phone="+encodeURIComponent(e.wpPhNum.replace("+",""))+"&text="+encodeURIComponent(e.wpMess.replace("{page_url}",window.location.href.replace(window.location.search,""))))+'" target="_blank" style="background: '+e.bgColor+" !important; color: "+e.color+" !important; border-radius: "+e.borderRadius+"px !important; border: "+e.borderWidth+"px solid "+e.borderColor+" !important; box-shadow: 0 2px 7px 0px rgba(0, 0, 0, "+e.shadowOpacity+") !important; "+(s||"")+'" class="_rsi-buy-now-button _rsi-buy-now-custom-additionals-button'+(e.shakerType?" _rsi-buy-now-button-shaker":"")+(e.subt?" _rsi-buy-now-button-with-subtitle":"")+'"'+(e.shakerType?' data-animation-type="'+e.shakerType+'"':"")+"><span>"+e.text.replace("{order_total}",'<span class="rsi-cod-form-submit-total-value"></span>').replace("{order_subtotal}",'<span class="rsi-cod-form-submit-subtotal-value"></span>')+(e.subt?'<span class="_rsi-buy-now-button-subtitle">'+e.subt+"</span>":"")+"</span></a>",a+="</div>"}catch(e){return console.log(e),""}},additionals_button:function(t,e,r,o,i){if(!t.isActive)return"";if(t.productsEnabled&&!_rsi.form.buildBlocks.isProductsValid(e,t.productsEnabled))return"";try{if(-1<t.type.indexOf("additionals_checkout_button")&&o&&!_rsi.form.hasEmbeddedV2)return"";var s="";t.fontSizeFactor&&(s="font-size: calc("+t.fontSizeFactor+" * 16.8px) !important;");var a,n=_rsi.btnIconData,c="";try{t.iconType&&"none"!=t.iconType&&n[t.iconType]&&(c=n[t.iconType].svgComponent,a=n[t.iconType].initialWidth*t.fontSizeFactor,c=c.replace("{color}",t.color).replace("{width}",a))}catch(e){console.log(e)}let e=!1;-1<t.type.indexOf("additionals_checkout_button")&&(t.href="#",e=!0);var l="";return l+='<div data-type="'+t.type+'" class="_rsi-build-block _rsi-build-block-custom-button'+(-1<t.type.indexOf("additionals_checkout_button")?" _rsi-build-block-custom-button-checkout":"")+'">',l+='<a href="'+t.href+'" target="_blank" style="background: '+t.bgColor+" !important; color: "+t.color+" !important; border-radius: "+t.borderRadius+"px !important; border: "+t.borderWidth+"px solid "+t.borderColor+" !important; box-shadow: 0 2px 7px 0px rgba(0, 0, 0, "+t.shadowOpacity+") !important; "+(s||"")+'" class="_rsi-buy-now-button _rsi-buy-now-custom-additionals-button'+(t.shakerType?" _rsi-buy-now-button-shaker":"")+(t.subt?" _rsi-buy-now-button-with-subtitle":"")+'"'+(t.shakerType?' data-animation-type="'+t.shakerType+'"':"")+"><span>"+t.text.replace("{order_total}",e?'<span class="rsi-cod-form-submit-total-cho-value"></span>':'<span class="rsi-cod-form-submit-total-value"></span>').replace("{order_subtotal}",'<span class="rsi-cod-form-submit-subtotal-value"></span>')+(t.subt?'<span class="_rsi-buy-now-button-subtitle">'+t.subt+"</span>":"")+"</span>"+(c||"")+"</a>",l+="</div>"}catch(e){return console.log(e),""}}},initDatePickers:function(){try{var s,n,c,l;document.querySelector("._rsi-modal-fields-date-picker input")&&window.datepicker&&(s={months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},n={months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],days:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},c={months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],days:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},l={months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],days:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"]},document.querySelectorAll("._rsi-modal-fields-date-picker input").forEach(e=>{var a=e.closest("._rsi-modal-fields-date-picker").getAttribute("data-date-format"),t="true"==e.closest("._rsi-modal-fields-date-picker").getAttribute("data-exclude-sundays"),r="true"==e.closest("._rsi-modal-fields-date-picker").getAttribute("data-exclude-saturdays"),o="true"==e.closest("._rsi-modal-fields-date-picker").getAttribute("data-next-days"),i={formatter:(e,t,r)=>{var o=a.toLowerCase(),i=t.getDate()+"";1==i.length&&(i="0"+i);var s=t.getMonth()+1+"";1==s.length&&(s="0"+s),o=o.replace("yyyy",t.getFullYear()).replace("mm",s).replace("dd",i),e.value=o},startDate:new Date,showAllDates:!1,disabler:e=>0===e.getDay()&&t||6===e.getDay()&&r,disableYearOverlay:!0};-1<Shopify.locale.indexOf("it")?(i.customDays=n.days,i.customMonths=n.months):-1<Shopify.locale.indexOf("es")?(i.customDays=c.days,i.customMonths=c.months):-1<Shopify.locale.indexOf("pt")?(i.customDays=l.days,i.customMonths=l.months):(i.customDays=s.days,i.customMonths=s.months),o&&(i.minDate=new Date,i.disabledDates=[new Date]),window.datepicker(e,i)}))}catch(e){console.log(e)}},generateHeaderTitle:function(){if(_rsi.s.form.header.title||(_rsi.s.form.header.title=" "),_rsi.s.form.header.titleStyle){var e="",t=_rsi.s.form.header.titleStyle;return e+='<div class="_rsi-modal-header-title'+("center"==t.alignment?" _rsi-modal-header-title-centered":"")+'" style="text-align: '+t.alignment+" !important; color: "+t.color+" !important; font-weight: "+t.fontWeight+" !important; font-size: calc("+t.fontSizeFactor+' * 1.15em) !important;">'+_rsi.s.form.header.title+"</div>"}var e="";return e+='<div class="_rsi-modal-header-title">'+_rsi.s.form.header.title+"</div>"},build:function(t,e){var r=_rsi.s.form.isEmbedded,o=!!_rsi.s.form.fields.isV2,i=!!_rsi.s.form.fields.isV3,s=_rsi.cart,a="";if(_rsi.s.form.header.title||(_rsi.s.form.header.title=" "),"loading"!=_rsi.s.form.currentPage||t){if("init"==_rsi.s.form.currentPage||t){var n=!0;try{_rsi.visiblity.isEnabledForTotal&&!t&&(s.total_price>=_rsi.visiblity.totalValues[0]&&s.total_price<_rsi.visiblity.totalValues[1]||(n=!1))}catch(e){console.log(e)}if(o){var c=!1;_rsi.s.form.hideCheckoutLines&&(c=!0);var l=!1;" "==_rsi.s.form.header.title&&(l=!0);var d="on";try{_rsi.s.general.disableAutofill&&(d="off")}catch(e){console.log(e)}a='<form id="_rsi-cod-form-modal-form" autocomplete="'+d+'" method="post" action novalidate class="_rsi-modal-form'+(_rsi.s.form.fields.areLabelsEnabled?"":" _rsi-modal-form-hidden-labels")+(n?"":" _rsi-modal-form-invalid-total")+(l?" _rsi-modal-form-empty-title":"")+(c?" _rsi-modal-form-hidden-order-summary":"")+'">',a+='<input type="hidden" name="country_code" value="'+_rsi.s.localization.countryCode+'">',r||(a+='<div class="_rsi-modal-header">'+_rsi.form.generateHeaderTitle()+(_rsi.s.form.header.showClose?'<button id="_rsi-cod-form-modal-close" class="_rsi-modal-close-button" type="button"><svg class="_rsi-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/></svg></button>':"")+"</div>"),n||_rsi.s.visiblity.totalLimitText&&(a+='<div class="_rsi-modal-invalid-total-text">'+_rsi.s.visiblity.totalLimitText+"</div>"),_rsi.s.form.fields.items_array.sort(function(e,t){return e.position-t.position}),_rsi.s.form.fields.items_array.forEach(function(e){if(-1<e.type.indexOf("additionals_custom_text")){if(_rsi.form.buildBlocks.additionals_custom_text)return void(a+=_rsi.form.buildBlocks.additionals_custom_text(e,s,o,r,t))}else if(-1<e.type.indexOf("additionals_custom_image")){if(_rsi.form.buildBlocks.additionals_custom_image)return void(a+=_rsi.form.buildBlocks.additionals_custom_image(e,s,o,r,t))}else if(-1<e.type.indexOf("additionals_country_selector")){if(_rsi.form.buildBlocks.additionals_country_selector)return void(a+=_rsi.form.buildBlocks.additionals_country_selector(e,s,o,r,t))}else if(-1<e.type.indexOf("additionals_text_input")){if(_rsi.form.buildBlocks.additionals_text_input)return void(a+=_rsi.form.buildBlocks.additionals_text_input(e,s,o,r,t))}else if(-1<e.type.indexOf("additionals_dropdown_input")){if(_rsi.form.buildBlocks.additionals_dropdown_input)return void(a+=_rsi.form.buildBlocks.additionals_dropdown_input(e,s,o,r,t))}else if(-1<e.type.indexOf("additionals_whatsapp_button")){if(_rsi.form.buildBlocks.additionals_whatsapp_button)return void(a+=_rsi.form.buildBlocks.additionals_whatsapp_button(e,s,o,r,t))}else if(-1<e.type.indexOf("additionals_button")){if(_rsi.form.buildBlocks.additionals_button)return void(a+=_rsi.form.buildBlocks.additionals_button(e,s,o,r,t))}else if(-1<e.type.indexOf("additionals_checkout_button")){if(_rsi.form.buildBlocks.additionals_button)return void(a+=_rsi.form.buildBlocks.additionals_button(e,s,o,r,t))}else if(-1<e.type.indexOf("additionals_date_sel")){if(_rsi.form.buildBlocks.additionals_date_sel)return void(a+=_rsi.form.buildBlocks.additionals_date_sel(e,s,o,r,t))}else if(-1<e.type.indexOf("additionals_radio_input")){if(_rsi.form.buildBlocks.additionals_radio_input)return void(a+=_rsi.form.buildBlocks.additionals_radio_input(e,s,o,r,t))}else if(-1<e.type.indexOf("additionals_checkbox")&&_rsi.form.buildBlocks.additionals_checkbox)return void(a+=_rsi.form.buildBlocks.additionals_checkbox(e,s,o,r,t));_rsi.form.buildBlocks[e.type]?a+=_rsi.form.buildBlocks[e.type](e,s,o,r,t):e.isActive&&(a+='<div class="_rsi-modal-fields-item'+(-1<e.type.indexOf("checkbox")?" _rsi-modal-fields-checkbox":"")+(e.showIcon?" _rsi-modal-fields-item-with-icon":"")+'"'+(e.showIcon&&e.iconType?' data-icon-type="'+e.iconType+'"':"")+">",a+=_rsi.form.fields.process(e),a+="</div>")})}else{c=!1;_rsi.s.form.hideCheckoutLines&&(c=!0),a='<form id="_rsi-cod-form-modal-form" autocomplete="on" method="post" action novalidate class="_rsi-modal-form'+(_rsi.s.form.fields.areLabelsEnabled?"":" _rsi-modal-form-hidden-labels")+(c?" _rsi-modal-form-hidden-order-summary":"")+'">',a+='<input type="hidden" name="country_code" value="'+_rsi.s.localization.countryCode+'">';c="left";_rsi.s.form.fields.titleAlign&&(c=_rsi.s.form.fields.titleAlign),r||(a+='<div class="_rsi-modal-header">'+_rsi.form.generateHeaderTitle()+(_rsi.s.form.header.showClose?'<button id="_rsi-cod-form-modal-close" class="_rsi-modal-close-button" type="button"><svg class="_rsi-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/></svg></button>':"")+"</div>",a+='<div class="_rsi-modal-line-items">',s.items.forEach(function(e,t){a+='<div class="_rsi-modal-line-item" data-line-item-variant-id="'+e.variant_id+'">',a+='<div class="_rsi-modal-line-item-image-container">',a+='<img src="'+e.featured_image.url+'" class="_rsi-modal-line-item-image" />',a+='<div class="_rsi-modal-line-item-quantity">'+e.quantity+"</div>",a+="</div>",a+='<input type="hidden" name="item_variant_id['+t+']" value="'+e.variant_id+'">',a+='<input type="hidden" name="item_quantity['+t+']" value="'+e.quantity+'">',e.properties&&(a+='<input type="hidden" name="item_properties['+t+']" value="'+encodeURI(JSON.stringify(e.properties))+'">'),a+='<div class="_rsi-modal-line-item-info">',a+='<a class="_rsi-modal-line-item-title" href="'+e.url+'">'+e.product_title+"</a>",e.variant_title&&(a+='<span class="_rsi-modal-line-item-variant-name">'+e.variant_title+"</span>"),a+="</div>",a+='<div class="_rsi-modal-line-item-final-price">'+_rsi.u.formatMoney(e.original_line_price,"amount_with_comma_separator")+"</div>",1<s.items.length&&(a+='<div class="_rsi-modal-line-item-remove-button"><svg class="_rsi-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"></path></svg></div>'),a+="</div>"}),a+="</div>",a+='<div class="_rsi-not-fields-v2" id="rsi-cod-form-quantity-offers-hook"></div>',a+='<div class="_rsi-modal-checkout-lines">',_rsi.s.form.checkoutLines_array.forEach(function(e){var t,r=0;"subtotal"==e.type?r=_rsi.u.formatMoney(s.original_total_price,"amount_with_comma_separator"):"shipping"==e.type?(t=_rsi.shippingRates.calculate(s),a+='<input type="hidden" name="shipping_rate_priority" value="'+t.priority+'">',r=t.price?_rsi.u.formatMoney(t.price,"amount_with_comma_separator",!1,!0):_rsi.s.form.generalTexts.free):"total"==e.type&&(t=_rsi.shippingRates.calculate(s),t=s.original_total_price+t.price*Shopify.currency.rate,_rsi.form.calculateCodFee(),_rsi.s.integrations.codFee&&_rsi.s.integrations.codFee.isFeeEnabled&&(t+=_rsi.s.integrations.codFee.commission,a+=_rsi.form.generateCheckoutLine(_rsi.s.integrations.codFee.commissionName,_rsi.u.formatMoney(_rsi.s.integrations.codFee.commission,"amount_with_comma_separator",!1,!0),!1,"cod-fee")),r=_rsi.u.formatMoney(t,"amount_with_comma_separator")),a+=_rsi.form.generateCheckoutLine(e.title,r,"total"==e.type,e.type)}),a+="</div>",_rsi.s.form.allTaxesIncluded.isEnabled&&(a+='<span class="_rsi-modal-all-taxes-included">'+_rsi.s.form.allTaxesIncluded.text+"</span>"),_rsi.s.shippingRates.isAutomatic||(a+='<span class="_rsi-modal-shipping-rates-title _rsi-modal-shipping-rates-title-align-'+c+'">'+_rsi.s.form.generalTexts.selectShippingRate+"</span>",a+='<div class="_rsi-modal-shipping-rates"></div>'),_rsi.s.form.discounts.isEnabled&&(a+='<div class="_rsi-modal-discounts">',a+='<div class="_rsi-modal-discounts-form">',a+='<div class="_rsi-modal-fields-item">',a+='<input id="_rsi-modal-discounts-form-code" type="text" placeholder="'+_rsi.s.form.discounts.fieldLabel+'">',a+='<button id="_rsi-modal-discounts-form-apply" type="button" style="background: '+_rsi.s.form.discounts.applyButton.style.bgColor+';">'+_rsi.s.form.discounts.applyButton.text+"</button>",a+="</div>",a+='<div class="_rsi-modal-fields-item _rsi-modal-fields-item-discount-error"></div>',a+="</div>",a+='<div class="_rsi-modal-discounts-plaques"></div>',a+="</div>")),a+='<div class="_rsi-modal-fields">',a+='<span class="_rsi-modal-fields-title _rsi-modal-fields-title-align-'+c+'">'+_rsi.s.form.fields.title+"</span>",r&&(a+='<div class="_rsi-not-fields-v2" id="rsi-cod-form-quantity-offers-hook"></div>'),_rsi.s.form.fields.items_array.sort(function(e,t){return e.position-t.position}),_rsi.s.form.fields.items_array.forEach(function(e){e.isActive&&(a+='<div class="_rsi-modal-fields-item'+(-1<e.type.indexOf("checkbox")?" _rsi-modal-fields-checkbox":"")+(e.showIcon?" _rsi-modal-fields-item-with-icon":"")+'"'+(e.showIcon&&e.iconType?' data-icon-type="'+e.iconType+'"':"")+">",a+=_rsi.form.fields.process(e),a+="</div>")}),a+="</div>"}i||(a+='<div id="rsi-cod-form-tick-ups-hook"></div>',a+='<button type="submit" style="background: '+_rsi.s.form.submitButton.style.bgColor+" !important; color: "+_rsi.s.form.submitButton.style.color+" !important; border-radius: "+_rsi.s.form.submitButton.style.borderRadius+"px !important; border: "+_rsi.s.form.submitButton.style.borderWidth+"px solid "+_rsi.s.form.submitButton.style.borderColor+" !important; box-shadow: 0 2px 7px 0px rgba(0, 0, 0, "+_rsi.s.form.submitButton.style.shadowOpacity+') !important;" class="_rsi-modal-submit-button _rsi-buy-now-button'+(_rsi.s.form.submitButton.shakerEnabled||_rsi.s.form.submitButton.shakerType&&"none"!=_rsi.s.form.submitButton.shakerType?" _rsi-buy-now-button-shaker":"")+(_rsi.s.form.submitButton.subt?" _rsi-buy-now-button-with-subtitle":"")+'"'+(_rsi.s.form.submitButton.shakerType?' data-animation-type="'+_rsi.s.form.submitButton.shakerType+'"':"")+"><span>"+_rsi.s.form.submitButton.text.replace("{order_total}",'<span class="rsi-cod-form-submit-total-value"></span>').replace("{order_subtotal}",'<span class="rsi-cod-form-submit-subtotal-value"></span>')+(_rsi.s.form.submitButton.subt?'<span class="_rsi-buy-now-button-subtitle">'+_rsi.s.form.submitButton.subt+"</span>":"")+"</span></button>"),a+="</form>"}}else a='<div id="_rsi-cod-form-modal-form" class="_rsi-modal-form">',r||(a+='<div class="_rsi-modal-header">'+_rsi.form.generateHeaderTitle()+(_rsi.s.form.header.showClose?'<button id="_rsi-cod-form-modal-close" class="_rsi-modal-close-button" type="button"><svg class="_rsi-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/></svg></button>':"")+"</div>"),a+='<div class="_rsi-modal-loading-page"><svg class="_rsi-modal-loading-icon" style="margin: auto; display: block; shape-rendering: auto;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="#565656" stroke-width="7" r="35" stroke-dasharray="164.93361431346415 56.97787143782138"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div>',a+="</div>";r&&!e?(e=document.createElement("div"))?(e.innerHTML=a,document.querySelector("#_rsi-cod-form-embed > ._rsi-cod-form-embed-container").innerHTML="",document.querySelector("#_rsi-cod-form-embed > ._rsi-cod-form-embed-container").insertAdjacentElement("beforeend",e)):document.querySelector("#_rsi-cod-form-embed > ._rsi-cod-form-embed-container").innerHTML=a:document.querySelector("#_rsi-cod-form-modal > ._rsi-modal-container").innerHTML=a},embedded:{productPageFormId:!1,quantityOffersCart:!1,generateBaseCode:function(){return'<div id="_rsi-cod-form-embed"><div class="_rsi-cod-form-embed-container'+(_rsi.s.form.isRtlEnabled?" _rsi-modal-container-rtl":"")+'"></div></div>'},init:function(){if(!document.querySelector("#_rsi-cod-form-embed")){if(_rsi.isZipify&&_rsi.normalizeZipifyForms(),document.querySelector("#_rsi-cod-form-embed")||document.querySelector("#_rsi-cod-form-embed-custom-hook"))document.querySelector("#_rsi-cod-form-embed-custom-hook")&&(document.querySelector("#_rsi-cod-form-embed-custom-hook").insertAdjacentHTML("afterend",_rsi.form.embedded.generateBaseCode()),document.querySelector("#_rsi-cod-form-embed-custom-hook").remove());else{-1<window.location.pathname.indexOf("/cart")&&(_rsi.form.mode="normalCart",document.querySelectorAll('form[method="post"][action$="/cart"], form[method="post"][action$="/checkout"], form[method="post"][action*="/cart?"], form[method="post"][action*="/checkout?"]').forEach(function(e){var t=window.getComputedStyle(e);"none"!=t.display&&"hidden"!=t.visibility&&e.insertAdjacentHTML("afterend",_rsi.form.embedded.generateBaseCode())}));var e=-1<window.location.pathname.indexOf("/products");if(void 0!==window._COD_FORM_EMBEDDED_IS_PRODUCT_PAGE_OVERWRITE&&(e=window._COD_FORM_EMBEDDED_IS_PRODUCT_PAGE_OVERWRITE),e){if(!(-1<_rsi.u.serializeForm('form[method="post"][action*="/cart/add"]','[name="form_type"][value="product"]').indexOf("id")||window.AwesomeQuantityBreak&&document.querySelector("#awesome-quantity-data")))return;var r=!(_rsi.form.mode="productCart");document.querySelectorAll('form[method="post"][action*="/cart/add"]').forEach(function(e){var t;1<document.querySelectorAll('form[method="post"][action*="/cart/add"]').length&&!e.querySelector('[name="form_type"][value="product"]')||r||("none"!=(t=window.getComputedStyle(e)).display&&"hidden"!=t.visibility||1==document.querySelectorAll('form[method="post"][action*="/cart/add"]').length)&&(e.insertAdjacentHTML("afterend",_rsi.form.embedded.generateBaseCode()),e.getAttribute("id")&&e.querySelector('[name="form_type"][value="product"]')&&e.querySelector('[name="add"]')&&(_rsi.form.embedded.productPageFormId=e.getAttribute("id")),r=!0)})}}document.querySelector("#_rsi-cod-form-embed")&&(-1<window.location.pathname.indexOf("/cart")&&document.querySelectorAll('[name="checkout"], form[method="post"][action$="/cart"] [type="submit"], form[method="post"][action$="/checkout"] [type="submit"], form[method="post"][action*="/cart?"] [type="submit"], form[method="post"][action*="/checkout?"] [type="submit"]').forEach(function(e){e.style.display="none"}),_rsi.form.embedded.open())}},onDeferredLoadingCart:function(){var e=_rsi.cart;_rsi.s.form.currentPage="init",_rsi.form.tickUps.clear(),_rsi.form.build(),"normalCart"==_rsi.form.mode&&_rsi.upsells.isEnabled&&_rsi.upsells.updateCacheDataForCart(e),_rsi.form.discounts.init(),document.querySelector("#awesome-quantity-data")&&(document.querySelector("head").insertAdjacentHTML("beforeend","<style>._rsi-modal-line-item-remove-button{display:none !important}</style>"),0<parseInt(document.querySelector("#awesome-quantity-data").getAttribute("data-applied-discount"))&&(_rsi.form.discounts.codesApplied.push({text:"AWESOME QUANTITY DISCOUNT",amount:parseInt(document.querySelector("#awesome-quantity-data").getAttribute("data-applied-discount")),type:"fixed_amount"}),_rsi.form.discounts.updateTotalAmount())),_rsi.form.discounts.automatic.init(e),_rsi.shippingRates.init(),_rsi.form.saveData.init(!0),"function"==typeof _COD_FORM_ON_OPEN_INIT_END_EMBEDDED_DEF&&_COD_FORM_ON_OPEN_INIT_END_EMBEDDED_DEF(),_rsi.form.addUtms(),_rsi.attackMode.updateInput(),_rsi.form.provListn.init(),document.querySelector("#_rsi-cod-form-modal-form").addEventListener("submit",_rsi.form.embedded.onSubmit),_rsi.form.submitOrderTotalInterval.init(),_rsi.form.quantityOffers.init(),_rsi.form.quantityHandlers.init(),_rsi.form.tickUps.init(),_rsi.form.covr.open(),(_rsi.s.form.submitButton.shakerEnabled||_rsi.s.form.submitButton.shakerType&&"none"!=_rsi.s.form.submitButton.shakerType||document.querySelector("._rsi-buy-now-custom-additionals-button._rsi-buy-now-button"))&&(_rsi.buyButton.cleanShakerIntervals(),_rsi.buyButton.runShaker("._rsi-modal-submit-button._rsi-buy-now-button"),_rsi.buyButton.runShaker("._rsi-buy-now-custom-additionals-button._rsi-buy-now-button")),_rsi.form.handleCheckoutButton(),_rsi.form.initDatePickers(),_rsi.form.inlineVal.init(),_rsi.mlc.init(),_rsi.form.autoCc.init(),_rsi.metrics.sendQueue(1)},open:function(){if(_rsi.s.form.currentPage="init",_rsi.form.hasEmbeddedV2)return _rsi.s.form.currentPage="loading",_rsi.form.build(!0),_rsi.productPage.instantLoading.init(),document.querySelector("#_rsi-cod-form-modal-form").addEventListener("submit",_rsi.form.embedded.onSubmit),void(document.querySelector('#_rsi-cod-form-modal-form button[type="submit"]').innerHTML='<svg class="_rsi-modal-loading-icon" style="margin: auto; display: block; shape-rendering: auto;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="#ffffff" stroke-width="9" r="35" stroke-dasharray="164.93361431346415 56.97787143782138"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg>');_rsi.s.form.currentPage="init",_rsi.form.build(),document.querySelector("#awesome-quantity-data")&&0<parseInt(document.querySelector("#awesome-quantity-data").getAttribute("data-applied-discount"))&&_rsi.form.discounts.codesApplied.push({text:"AWESOME QUANTITY DISCOUNT",amount:parseInt(document.querySelector("#awesome-quantity-data").getAttribute("data-applied-discount")),type:"fixed_amount"}),document.querySelector("#_rsi-cod-form-modal-form").addEventListener("submit",_rsi.form.embedded.onSubmit),_rsi.form.quantityOffers.init(),_rsi.form.tickUps.init(),_rsi.form.covr.open();var e=!1;window.debutify&&(e=!0),document.querySelector('meta[name="author"]')&&"debutify"==document.querySelector('meta[name="author"]').content.trim().toLowerCase()&&(e=!0),e&&setInterval(function(){document.querySelector("#_rsi-cod-form-embed ._rsi-modal-submit-button")&&(document.querySelector("#_rsi-cod-form-embed ._rsi-modal-submit-button").classList.remove("btn--loading"),document.querySelector("#_rsi-cod-form-embed ._rsi-modal-submit-button").disabled=!1)},400),(_rsi.s.form.submitButton.shakerEnabled||_rsi.s.form.submitButton.shakerType&&"none"!=_rsi.s.form.submitButton.shakerType||document.querySelector("._rsi-buy-now-custom-additionals-button._rsi-buy-now-button"))&&(_rsi.buyButton.cleanShakerIntervals(),_rsi.buyButton.runShaker("._rsi-modal-submit-button._rsi-buy-now-button"),_rsi.buyButton.runShaker("._rsi-buy-now-custom-additionals-button._rsi-buy-now-button")),_rsi.form.addUtms(),_rsi.attackMode.updateInput(),"function"==typeof _COD_FORM_ON_OPEN_INIT_END_EMBEDDED&&_COD_FORM_ON_OPEN_INIT_END_EMBEDDED(),_rsi.form.handleCheckoutButton(),_rsi.form.initDatePickers(),_rsi.form.inlineVal.init(),_rsi.metrics.sendQueue(1)},onSubmit:function(e,t){try{if(e&&e.preventDefault(),"init_submitting"==_rsi.s.form.currentPage||"loading"==_rsi.s.form.currentPage)return;if(_rsi.s.testMode)return;var r=_rsi.u.serializeArray(document.querySelector("#_rsi-cod-form-modal-form"));document.querySelectorAll("#_rsi-cod-form-modal-form input[type=checkbox]:not(:checked)").forEach(function(e){r.push({name:e.getAttribute("name"),value:"off"})});try{var o=[];document.querySelectorAll("#_rsi-cod-form-modal-form input[type=radio]:not(:checked)").forEach(function(e){var t='#_rsi-cod-form-modal-form input[type=radio][name="'+e.getAttribute("name")+'"]:checked';document.querySelector(t)||-1!=o.indexOf(e.getAttribute("name"))||(r.push({name:e.getAttribute("name"),value:"off"}),o.push(e.getAttribute("name")))})}catch(e){console.log(e)}if("function"==typeof _COD_FORM_OVERWRITE_ON_SUBMIT_START&&!_COD_FORM_OVERWRITE_ON_SUBMIT_START(r))return;if(!_rsi.form.validation.check(r))return void _rsi.tracking.sendGtag("ga",null,{hitType:"event",eventAction:"FormSubmitInvalid"});if(_rsi.productPage.instantLoading.stopLoop(),_rsi.messages.otp.isEnabled&&!t)return void _rsi.messages.otp.init({formData:r});if(_rsi.messages.otp.isEnabled&&t)try{_rsi.s.form.currentPage="loading",_rsi.form.build(!1,!0)}catch(e){console.log(e)}function a(e){var r;e._is_rsi_quantity_offer_cart||(r="",e.items.forEach(function(e,t){r+='<input type="hidden" name="item_variant_id['+t+']" value="'+e.variant_id+'">',r+='<input type="hidden" name="item_quantity['+t+']" value="'+e.quantity+'">',e.properties&&(r+='<input type="hidden" name="item_properties['+t+']" value="'+encodeURI(JSON.stringify(e.properties))+'">')}),document.querySelector("#_rsi-cod-form-modal-form").insertAdjacentHTML("beforeend",r),document.querySelector("#awesome-quantity-data")&&0<parseInt(document.querySelector("#awesome-quantity-data").getAttribute("data-applied-discount"))&&(_rsi.form.discounts.codesApplied.push({text:"AWESOME QUANTITY DISCOUNT",amount:parseInt(document.querySelector("#awesome-quantity-data").getAttribute("data-applied-discount")),type:"fixed_amount"}),_rsi.form.discounts.updateTotalAmount()),_rsi.form.discounts.automatic.init(e));var o=_rsi.form.getFormData();if("function"!=typeof _COD_FORM_OVERWRITE_EMBEDDED_ON_SUBMIT_CART_DATA||_COD_FORM_OVERWRITE_EMBEDDED_ON_SUBMIT_CART_DATA(o))return _rsi.upsells.isEnabled?(_rsi.s.form.currentPage="init_post_purchase_upsell",_rsi.form.mode,void _rsi.upsells.open(o)):void _rsi.u.ajax("POST",_rsi.s.form.postUrl,JSON.stringify(o),function(e){if((e=JSON.parse(e)).customRsiErrorMessage)_rsi.form.handleOrderErrors(e.customRsiErrorMessage,o);else{"function"==typeof _COD_FORM_ON_SUBMIT_END&&_COD_FORM_ON_SUBMIT_END();try{document.querySelector("#_rsi-cod-form-modal").classList.remove("_rsi-cod-form-modal-open")}catch(e){console.log(e)}if(_rsi.s.general.saveOrdersAsDrafts)return _rsi.tracking.eventsHanlders.purchase(e),void(_rsi.form.redirectToCustomThankYouPage(e)||document.querySelector("#_rsi-cod-form-modal-form").remove());var t;Object.keys(e).length&&(_rsi.tracking.eventsHanlders.purchase(e),t=function(){"function"==typeof _COD_FORM_OVERWRITE_ON_SUBMIT_END&&!_COD_FORM_OVERWRITE_ON_SUBMIT_END(e.order)||(_rsi.form.mode="",e.order.order_status_url&&!_rsi.form.redirectToCustomThankYouPage(e)&&_rsi.form.redirectToDefThankYouPage(e.order.order_status_url,e))},_rsi.cartManager.clearCart(function(){t()},function(){t()}))}},function(e,t){_rsi.u.sendReport({msg:"Error on create-order. Error details: "+e+" statusCode: "+t+" postUrl: "+_rsi.s.form.postUrl,isCritical:!0})})}if(_rsi.s.form.currentPage="init_submitting",document.querySelector("#_rsi-cod-form-embed ._rsi-cod-form-embed-container").classList.add("_rsi-modal-events-disabled"),document.querySelector('#_rsi-cod-form-modal-form button[type="submit"]').innerHTML='<svg class="_rsi-modal-loading-icon" style="margin: auto; display: block; shape-rendering: auto;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="#ffffff" stroke-width="9" r="35" stroke-dasharray="164.93361431346415 56.97787143782138"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg>',_rsi.form.embedded.quantityOffersCart)return _rsi.cart=_rsi.form.embedded.quantityOffersCart,void a(_rsi.form.embedded.quantityOffersCart);if(_rsi.form.hasEmbeddedV2)return void a(_rsi.cart);-1<window.location.pathname.indexOf("/cart")&&_rsi.cartManager.getCart(!0,function(e){a(e)});var n,i=-1<window.location.pathname.indexOf("/products");if("undefined"!=typeof _COD_FORM_EMBEDDED_IS_PRODUCT_PAGE_OVERWRITE&&(i=_COD_FORM_EMBEDDED_IS_PRODUCT_PAGE_OVERWRITE),(_rsi.isPageFly||_rsi.isGemPages||_rsi.isZipify)&&(i=!0),_rsi.isPageFly&&_rsi.calculatePageFlyProduct(),i){if(!(-1<(n=_rsi.form.embedded.productPageFormId?_rsi.u.serializeForm("#"+_rsi.form.embedded.productPageFormId,'[name="form_type"][value="product"]'):_rsi.u.serializeForm('form[method="post"][action*="/cart/add"]','[name="form_type"][value="product"]')).indexOf("id")||window.AwesomeQuantityBreak&&document.querySelector("#awesome-quantity-data")||window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS))return;_rsi.cartManager.clearCart(function(){!function(t){t=t||"update","string"==typeof _COD_FORM_PRODUCT_PAGE_ADD_MODE_OVERWRITE&&(t=_COD_FORM_PRODUCT_PAGE_ADD_MODE_OVERWRITE);var e,r,o=!!(window.AwesomeQuantityBreak&&document.querySelector("#awesome-quantity-data")||window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS);if("update"==t&&!o)try{n=n.replace("&&","&");var i,s=_rsi.u.queryStringToJSON(n);s.quantity||(i=1,document.querySelectorAll('[name="quantity"]').forEach(e=>{e.value>i&&(i=e.value)}),s.quantity=i),!s.id&&s.variant_id&&(s.id=s.variant_id),s.id&&s.quantity?(window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL=[{id:s.id,quantity:s.quantity}],o=!0):(_rsi.u.sendReport({msg:"Could not find id or quantity while generating jsonAddData on addToCart embedded in product page. addData: "+n}),t="add")}catch(e){_rsi.u.sendReport({msg:"Error while generating jsonAddData on addToCart embedded in product page. Error: "+e+" addData: "+n}),t="add"}o?(e=[],window.AwesomeQuantityBreak?e=window.AwesomeQuantityBreak.selectedVariants:window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS?e=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS:window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL&&(e=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL),Array.isArray(e)||(window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS?e=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS:window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL&&(e=window._RSI_COD_FORM_OVERWRITE_ATC_ITEMS_INTERNAL)),r={},"update"==t?(r.updates={},e.forEach(function(e){r.updates[e.id+""]=e.quantity})):r.items=e,_rsi.u.ajax("POST",_rsi.rootShopifyRoute+"cart/"+t+".js",JSON.stringify(r),function(e){try{if("update"==t)return e=JSON.parse(e),void _rsi.cartManager.getCart(!0,function(e){a(e)},!1,e)}catch(e){_rsi.u.sendReport({msg:"Error while parsing data on update.js on addToCart embedded in product page. Error: "+e})}_rsi.cartManager.getCart(!0,function(e){a(e)})},null,{"Content-Type":"application/json"},!0)):_rsi.u.ajax("POST",_rsi.rootShopifyRoute+"cart/"+t+".js",n,function(e){_rsi.cartManager.getCart(!0,function(e){a(e)})},null,{"Content-Type":"multipart/form-data"},!0)}()},function(){window.location.reload()})}}catch(e){_rsi.u.sendReport({msg:"onSubmit error embedded: "+e})}}},fields:{process:function(e){if(!e.isActive)return"";var r="",t=e.required?'<span class="_rsi-modal-required-label">*</span>':"";e.label&&-1==e.type.indexOf("checkbox")&&(r+="<label>"+e.label+t+"</label>");var o=e.label;e.n&&e.n.ph&&(o=e.n.ph);var i='data-type="'+e.type+'" name="'+e.backendFields.name+'" placeholder="'+o+'" id="_rsi-field-'+e.type+'"'+(e.required?' required="required"':"");_rsi.s.general.disableAutofill&&(i+=' autocomplete="off"');o='data-type="'+e.type+'" name="'+e.backendFields.name+'" id="_rsi-field-'+e.type+'"'+(e.required?' required="required"':"");if(e.isSearchDdown)r=_rsi.form.fields.searchDdowns.process(e);else if(e.isCoverageLevel)r=_rsi.form.covr.processField(e);else if("email"==e.type)r+='<input autocomplete="'+(_rsi.s.general.disableAutofill?"off":"email")+'" type="email" '+i+">";else if("first_name"==e.type)r+='<input type="text" '+i+">";else if("last_name"==e.type)r+='<input type="text" '+i+">";else if("address"==e.type){let t="";_rsi.s.general.disableAutofill||_rsi.s.form.fields.items_array.forEach(function(e){"civic_number"==e.type&&(t=e.isActive?' autocomplete="address-line1"':' autocomplete="street-address"')}),r+='<input type="text" '+i+t+">"}else if("civic_number"==e.type){let t="";_rsi.s.general.disableAutofill||_rsi.s.form.fields.items_array.forEach(function(e){"address"==e.type&&(t=e.isActive?' autocomplete="address-line2"':' autocomplete="street-address"')}),r+='<input type="text" '+i+t+">"}else"province"==e.type||"city"==e.type||"zip_code"==e.type?r+='<input type="text" '+i+">":"phone"==e.type?r+='<input autocomplete="'+(_rsi.s.general.disableAutofill?"off":"tel-national")+'" type="tel" '+i+">":"note"==e.type?r+='<input type="text" '+i+">":"terms_accept_checkbox"==e.type?r='<label><input type="checkbox" '+o+"><span>"+e.label+t+"</span></label>":"newsletter_subscribe_checkbox"==e.type?r='<label><input type="checkbox" '+o+(e.isPreselected?" checked":"")+"><span>"+e.label+t+"</span></label>":e.type.indexOf("country_field")&&(r=_rsi.form.fields.processCountryFields(e));return r},processCountryFields:function(t){var r="",e=t.required?'<span class="_rsi-modal-required-label">*</span>':"";t.label&&(r+="<label>"+t.label+e+"</label>");var o=t.label;t.n&&t.n.ph&&(o=t.n.ph);e='data-type="'+t.type+'" name="'+t.backendFields.name+'" placeholder="'+o+'" id="_rsi-field-'+t.type+'"'+(t.required?' required="required"':"");return _rsi.s.general.disableAutofill&&(e+=' autocomplete="off"'),"select"==t.backendFields.elementType?(t.backendFields.options[0]&&""==t.backendFields.options[0].value||(t.backendFields.options=_rsi.u.arrayPrepend({value:"",label:o},t.backendFields.options)),r+="<select "+e+">",t.backendFields.options.forEach(function(e){if("province_country_field"==t.type){if(window.RSI_COVR_EXCLUDED_PROVINCES&&_rsi.form.covr.checkLabelMatch(window.RSI_COVR_EXCLUDED_PROVINCES,e.label))return;if(t.rmProvn&&(window.RSI_COVR_EXCLUDED_PROVINCES_INTERNAL=t.rmProvn.split("\n"),_rsi.form.covr.checkLabelMatch(t.rmProvn.split("\n"),e.label)))return}r+='<option value="'+e.value+'">'+e.label+"</option>"}),r+="</select>"):"text"==t.backendFields.elementType&&("pincode_country_field"==t.type?r+='<input inputmode="numeric" pattern="[0-9]*" type="text" '+e+">":r+='<input type="text" '+e+">"),r},searchDdowns:{process:function(e){var t="";t+='<div class="_rsi-search-ddown-res-container"></div>';var r=e.required?'<span class="_rsi-modal-required-label">*</span>':"";e.label&&-1==e.type.indexOf("checkbox")&&(t+="<label>"+e.label+r+"</label>");r=e.label;return e.n&&e.n.ph&&(r=e.n.ph),t+='<input class="_rsi-search-ddown-visible-input" type="text" '+('data-type="'+e.type+'" placeholder="'+r+'" id="_rsi-field-'+e.type+'"'+(e.required?' required="required"':""))+">",t+='<input class="_rsi-search-ddown-hidden-input" type="hidden" value="" '+('data-type="'+e.type+'" name="'+e.backendFields.name+'"'+(e.isCoverageLevel?' data-coverage-level="'+e.isCoverageLevel+'"':""))+">"},startAgain:function(){document.querySelectorAll("._rsi-search-ddown-visible-input").forEach(e=>{e.removeEventListener("input",_rsi.form.fields.searchDdowns.onInput),e.addEventListener("input",_rsi.form.fields.searchDdowns.onInput)})},isWriting:!1,onInput:function(e){e&&e.target&&(_rsi.form.fields.searchDdowns.isWriting||(_rsi.form.fields.searchDdowns.isWriting=!0,setTimeout(function(){_rsi.form.fields.searchDdowns.isWriting=!1,_rsi.form.fields.searchDdowns.updateRes(e)},500)))},noOptFound:{t:{en:"No valid options were found. Write a different text.",it:"Non sono state trovate opzioni valide. Scrivi un testo diverso.",es:"No se encontraron opciones válidas. Escribe un texto diferente.",fr:"Aucune option valide n'a été trouvée. Écrivez un texte différent.",ar:"لم يتم العثور على خيارات صالحة. اكتب نصًا مختلفًا."}},updateRes:function(e){var t=e.target.closest("._rsi-modal-fields-item"),r=t.querySelector("._rsi-search-ddown-hidden-input"),o=e.target.getAttribute("data-type"),i=!1,e=t.querySelector("._rsi-search-ddown-visible-input").value.trim().toLowerCase();if(_rsi.s.form.fields.items_array.forEach(function(e){e.type==o&&(i=e)}),i&&(r.value="",t.querySelector("._rsi-search-ddown-res-container").innerHTML="",e)){var s=[],a=e.replace(/á/g,"a").replace(/â/g,"a").replace(/à/g,"a").replace(/ç/g,"c").replace(/ã/g,"a").replace(/é/g,"e").replace(/ê/g,"e").replace(/è/g,"e").replace(/í/g,"i").replace(/ó/g,"o").replace(/ô/g,"o").replace(/õ/g,"o").replace(/ú/g,"u").replace(/ñ/g,"n");if(i.searchOptions.forEach(e=>{-1<e.label.toLowerCase().replace(/á/g,"a").replace(/â/g,"a").replace(/à/g,"a").replace(/ç/g,"c").replace(/ã/g,"a").replace(/é/g,"e").replace(/ê/g,"e").replace(/è/g,"e").replace(/í/g,"i").replace(/ó/g,"o").replace(/ô/g,"o").replace(/õ/g,"o").replace(/ú/g,"u").replace(/ñ/g,"n").indexOf(a)&&s.push(e)}),0!=s.length){if(1==s.length)if(s[0].label.toLowerCase().replace(/á/g,"a").replace(/â/g,"a").replace(/à/g,"a").replace(/ç/g,"c").replace(/ã/g,"a").replace(/é/g,"e").replace(/ê/g,"e").replace(/è/g,"e").replace(/í/g,"i").replace(/ó/g,"o").replace(/ô/g,"o").replace(/õ/g,"o").replace(/ú/g,"u").replace(/ñ/g,"n")==a)return void _rsi.form.fields.searchDdowns.onOptClick(!1,s[0].value,t);var n="";s.forEach(e=>{n+='<div class="_rsi-search-ddown-res-item" data-value="'+encodeURI(e.value)+'">'+e.label+"</div>"}),t.querySelector("._rsi-search-ddown-res-container").innerHTML=n,t.querySelectorAll("._rsi-search-ddown-res-item").forEach(e=>{e.addEventListener("click",_rsi.form.fields.searchDdowns.onOptClick)})}else t.querySelector("._rsi-search-ddown-res-container").innerHTML='<div class="_rsi-search-ddown-res-item" style="text-align: center;">'+_rsi.u.getLocaleTranslation(_rsi.form.fields.searchDdowns.noOptFound)+"</div>"}},onOptClick:function(e,t,r){e&&(t=decodeURI(e.target.getAttribute("data-value"))),t&&((e=r||e.target.closest("._rsi-modal-fields-item")).querySelector("._rsi-search-ddown-hidden-input").value=t,e.querySelector("._rsi-search-ddown-hidden-input").dispatchEvent(new Event("input",{bubbles:!0})),e.querySelector("._rsi-search-ddown-visible-input").value=t,e.classList.remove("_rsi-modal-fields-item-error"),e.querySelector("._rsi-modal-fields-item-error-text")&&e.querySelector("._rsi-modal-fields-item-error-text").remove(),e.querySelector("._rsi-search-ddown-res-container").innerHTML="")}}},updateCurrencies:function(){try{window.baCurr&&window.baCurr.refreshConversion&&window.baCurr.refreshConversion()}catch(e){console.log(e)}try{window.bucksCC&&window.bucksCC.reConvert()}catch(e){console.log(e)}try{window.conversionBearAutoCurrencyConverter&&window.conversionBearAutoCurrencyConverter.convertPricesOnPage()}catch(e){console.log(e)}},discounts:{isLoading:!1,totalAmount:0,codesApplied:[],init:function(){var t=!1,e=!1;_rsi.form.discounts.codesApplied.forEach(function(e){e.text==_rsi.upsells.defaultCodeText&&(t=e)}),_rsi.form.discounts.codesApplied=[],t&&(_rsi.form.discounts.codesApplied.push(t),_rsi.s.form.discounts.isEnabled||(e=!0));try{var r,o,i,s,a=_rsi.u.queryStringToJSON(window.location.search.replace("?",""));a.rsi_ac_ds?(r=(i=JSON.parse(atob(a.rsi_ac_ds))).dsT,o=i.dsV,s="RECOVERY DISCOUNT",0<(i=o)&&("percentage"==r&&(i=Math.round(_rsi.cart.total_price*(o/1e4))),_rsi.form.discounts.codesApplied.push({text:s,amount:Math.floor(i*Shopify.currency.rate),type:r}),_rsi.s.form.discounts.isEnabled||(e=!0))):_rsi.dss.activeDiscount&&(r=_rsi.dss.activeDiscount.type,o=_rsi.dss.activeDiscount.value,s="RECOVERY DISCOUNT",0<(i=o)&&("percentage"==r&&(i=Math.round(_rsi.cart.total_price*(o/1e4))),_rsi.form.discounts.codesApplied.push({text:s,amount:Math.floor(i*Shopify.currency.rate),type:r}),_rsi.s.form.discounts.isEnabled||(e=!0)))}catch(e){console.log(e)}if(e&&_rsi.form.discounts.updateTotalAmount(),_rsi.s.form.discounts.isEnabled){_rsi.form.discounts.updateTotalAmount(),document.getElementById("_rsi-modal-discounts-form-apply").addEventListener("click",_rsi.form.discounts.onApplyDiscount);try{var n=decodeURIComponent(function(e){const t="; "+document.cookie,r=t.split("; "+e+"=");if(2===r.length)return r.pop().split(";").shift()}("discount_code"));n&&null!==n&&"null"!==n&&"undefined"!==n&&(document.querySelector("#_rsi-modal-discounts-form-code").value=n,document.getElementById("_rsi-modal-discounts-form-apply").click())}catch(e){console.log(e)}}},clear:function(){_rsi.form.discounts.codesApplied=[],_rsi.form.discounts.totalAmount=0},getLimitToOneCodeDiscounts:function(){if(!_rsi.s.form.discounts.limitToOneCode)return _rsi.form.discounts.codesApplied;var t=!1,r=!1,o=!1,i=[],e=[];return _rsi.form.discounts.codesApplied.forEach(function(e){"AWESOME QUANTITY DISCOUNT"!=e.text&&(e.text!=_rsi.form.discounts.automatic.defaultCodeText||t)?"RECOVERY DISCOUNT"!=e.text?e.text!=_rsi.upsells.defaultCodeText?i.push(e):r=e:o=e:t=e}),t&&r?(e.push(t),e.push(r)):t?e.push(t):r&&0<i.length?(e.push(i[0]),e.push(r)):r?e.push(r):0<i.length&&e.push(i[0]),o&&e.push(o),e},automatic:{defaultCodeText:"AUTOMATIC DISCOUNTS",init:function(e,t){var r,o;_rsi.s.general.disableAutomaticDs||_rsi.dss.disOtherDisc||(_rsi.s.form.discounts.limitToOneCode&&(_rsi.form.discounts.codesApplied=_rsi.form.discounts.getLimitToOneCodeDiscounts()),_rsi.form.discounts.codesApplied.forEach(function(e,t){e.text==_rsi.form.discounts.automatic.defaultCodeText&&_rsi.form.discounts.codesApplied.splice(t,1)}),r=!1,_rsi.form.discounts.codesApplied.forEach(function(e){"AWESOME QUANTITY DISCOUNT"==e.text&&(r=!0)}),r||(o=0,e.items.forEach(function(e){e.line_level_discount_allocations.forEach(function(e){o+=e.amount})}),e.cart_level_discount_applications.forEach(function(e){e.discount_application&&e.discount_application.total_allocated_amount?o+=e.discount_application.total_allocated_amount:e.total_allocated_amount&&(o+=e.total_allocated_amount)}),0!=o&&(_rsi.form.discounts.codesApplied.push({text:_rsi.form.discounts.automatic.defaultCodeText,amount:o,type:"fixed_amount"}),_rsi.s.form.isEmbedded&&!_rsi.form.hasEmbeddedV2||_rsi.form.discounts.updateTotalAmount(t))))}},setDiscountError:function(e){document.querySelectorAll("._rsi-modal-discounts-form ._rsi-modal-fields-item").forEach(function(e){e.classList.add("_rsi-modal-fields-item-error")});var t=_rsi.s.form.generalTexts.errors.invalidDiscountCode;"oneCode"==e&&(t=_rsi.s.form.generalTexts.errors.oneDiscountCodeAllowed),document.querySelector("._rsi-modal-discounts-form ._rsi-modal-fields-item-discount-error").innerHTML='<p class="_rsi-modal-fields-item-error-text">'+t+"</p>"},removeDiscountErrors:function(){document.querySelectorAll("._rsi-modal-discounts-form ._rsi-modal-fields-item").forEach(function(e){e.classList.remove("_rsi-modal-fields-item-error")}),document.querySelector("._rsi-modal-discounts-form ._rsi-modal-fields-item-discount-error").innerHTML=""},onApplyDiscount:function(e){if(e.preventDefault(),!_rsi.form.discounts.isLoading){if(_rsi.form.discounts.removeDiscountErrors(),_rsi.s.form.discounts.limitToOneCode&&!_rsi.form.quantityOffers.selectedOfferIn){e=_rsi.form.discounts.getLimitToOneCodeDiscounts();if(1<e.length)return void _rsi.form.discounts.setDiscountError("oneCode");if(1==e.length&&e[0].text!=_rsi.upsells.defaultCodeText)return void _rsi.form.discounts.setDiscountError("oneCode")}var t,r;_rsi.dss.disOtherDisc?_rsi.form.discounts.setDiscountError("oneCode"):0!=(r=(r=(r=document.getElementById("_rsi-modal-discounts-form-code").value).trim()).toUpperCase()).length&&(t=!1,_rsi.form.discounts.codesApplied.forEach(function(e){e.text.toLowerCase()==r.toLowerCase()&&(t=!0)}),t?document.getElementById("_rsi-modal-discounts-form-code").value="":(_rsi.form.discounts.isLoading=!0,document.getElementById("_rsi-modal-discounts-form-apply").innerHTML='<svg class="_rsi-modal-loading-icon" style="margin: auto; display: block; shape-rendering: auto;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="#ffffff" stroke-width="9" r="35" stroke-dasharray="164.93361431346415 56.97787143782138"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg>',_rsi.form.discounts.parseCheckout(r)))}},onParsedCheckout:function(e,t){var r;document.getElementById("_rsi-modal-discounts-form-code").value="",_rsi.form.discounts.isLoading=!1,document.getElementById("_rsi-modal-discounts-form-apply").innerHTML=_rsi.s.form.discounts.applyButton.text,e?_rsi.form.quantityOffers.selectedOfferIn?_rsi.form.quantityOffers.recalculateData():("fixed_amount"==e.type||"percentage"==e.type?_rsi.form.discounts.codesApplied.push({text:t,amount:e.amount,type:e.type}):"shipping"==e.type&&(r=_rsi.shippingRates.calculate(_rsi.cart),_rsi.form.discounts.codesApplied.push({text:t,amount:Math.floor(r.price*Shopify.currency.rate),type:e.type})),_rsi.form.discounts.updateTotalAmount()):_rsi.form.discounts.setDiscountError()},parseCheckout:function(c){if(document.querySelector("#shopify-features"))try{var e=JSON.parse(document.querySelector("#shopify-features").textContent),t=[];return _rsi.cart.items.forEach(e=>{t.push({variant_id:e.variant_id,quantity:e.quantity,properties:{}})}),void _rsi.u.ajax("POST","/wallets/checkouts/",JSON.stringify({checkout:{discount_code:c,line_items:t,presentment_currency:Shopify.currency.active}}),function(e){if((e=(e=JSON.parse(e)).checkout).applied_discount)if(e.applied_discount.title.trim().toLowerCase()==c.trim().toLowerCase()){var t=Math.round(100*parseFloat(e.applied_discount.amount)),r="fixed_amount";if("shipping"==e.applied_discount.value_type&&(r="shipping"),0!=t||"fixed_amount"!=r){if(_rsi.form.quantityOffers.selectedOfferIn&&"fixed_amount"==r)_rsi.form.quantityOffers.discount.type=e.applied_discount.value_type,_rsi.form.quantityOffers.discount.code=c,"percentage"==e.applied_discount.value_type&&(t=Math.round(100*parseFloat(e.applied_discount.value))),_rsi.form.quantityOffers.discount.value=t;else if(_rsi.form.quantityOffers.selectedOfferIn&&"shipping"==r)return void _rsi.form.discounts.onParsedCheckout(!1);_rsi.form.discounts.onParsedCheckout({type:r,amount:t},c)}else _rsi.form.discounts.onParsedCheckout(!1)}else _rsi.form.discounts.onParsedCheckout(!1);else _rsi.form.discounts.onParsedCheckout(!1)},function(){_rsi.form.discounts.onParsedCheckout(!1)},{"content-type":"application/json",authorization:"Basic "+btoa(e.accessToken)})}catch(e){console.log(e),_rsi.u.sendReport({msg:"Error while parsing checkout for discount. discountCode: "+c+" Error: "+e})}else if(_rsi.form.quantityOffers.selectedOfferIn)return void _rsi.form.discounts.onParsedCheckout(!1);_rsi.u.ajax("GET",_rsi.rootShopifyRoute+"checkout/?discount="+encodeURI(c),null,function(e){var t,r,o,i=document.createElement("html");if(i.innerHTML=e,i.querySelector('[data-serialized-id="checkout-session-identifier"], [data-serialized-id="graphql"]')){if(i.querySelector('[data-serialized-id="graphql"]')){e=i.querySelector('[data-serialized-id="graphql"]').getAttribute("data-serialized-value");try{e=JSON.parse(e)}catch(e){return void _rsi.form.discounts.onParsedCheckout(!1)}var s=!1;if(Object.keys(e).forEach(function(e){-1<e.indexOf("queueToken")&&(s=e)}),!s)return void _rsi.form.discounts.onParsedCheckout(!1);var a=!1;try{if(e[s].session.negotiate.result.sellerProposal.discount)var n=e[s].session.negotiate.result.sellerProposal.discount.lines;else{if(!e[s].session.negotiate.result.sellerProposal.merchandiseDiscount)return void _rsi.form.discounts.onParsedCheckout(!1);n=e[s].session.negotiate.result.sellerProposal.merchandiseDiscount.lines}n.forEach(function(e){e.discount.code.toLowerCase()==c.toLowerCase()&&(a=Math.floor(100*parseFloat(e.lineAmount.value.amount)))})}catch(e){return void _rsi.form.discounts.onParsedCheckout(!1)}return a?void _rsi.form.discounts.onParsedCheckout({type:"fixed_amount",amount:a},c):void _rsi.form.discounts.onParsedCheckout(!1)}_rsi.form.discounts.onParsedCheckout(!1)}else i.querySelector("#error-for-reduction_code")?_rsi.form.discounts.onParsedCheckout(!1):i.querySelector("[data-discount-type]")&&i.querySelector("[data-checkout-discount-amount-target]")?(t=i.querySelector("[data-discount-type]").getAttribute("data-discount-type"),0<(r=parseInt(i.querySelector("[data-checkout-discount-amount-target]").getAttribute("data-checkout-discount-amount-target")))&&("fixed_amount"==t||"percentage"==t||"shipping"==t)||0==r&&"shipping"==t?_rsi.form.discounts.onParsedCheckout({type:t,amount:r},c):_rsi.form.discounts.onParsedCheckout(!1)):i.querySelector(".product__description .reduction-code__text")?(o=0,i.querySelectorAll(".product__description .reduction-code__text").forEach(function(e){e=e.innerHTML.trim().toLowerCase();-1<(e=e.replace(c.toLowerCase(),"").replace("rs.","")).indexOf(".")&&-1<e.indexOf(",")?e=e.indexOf(".")<e.indexOf(",")?(e=e.replace(".","")).replace(",","."):e.replace(",",""):-1<e.indexOf(",")&&(e=e.replace(",",".")),e=e.replace(/[^0-9.]/g,""),e=Math.ceil(100*parseFloat(e)),o+=e}),_rsi.form.discounts.onParsedCheckout({type:"fixed_amount",amount:o},c)):_rsi.form.discounts.onParsedCheckout(!1)},function(e){_rsi.form.discounts.onParsedCheckout(!1)})},updateCheckoutLines:function(){if(0<_rsi.form.discounts.totalAmount?document.querySelector('._rsi-modal-checkout-line[data-checkout-line="discount"]')?document.querySelector('._rsi-modal-checkout-line[data-checkout-line="discount"] ._rsi-modal-checkout-line-value').innerHTML="- "+_rsi.u.formatMoney(_rsi.form.discounts.totalAmount,"amount_with_comma_separator"):document.querySelector('._rsi-modal-checkout-line[data-checkout-line="total"]').insertAdjacentHTML("beforebegin",_rsi.form.generateCheckoutLine(_rsi.s.form.discounts.checkoutLineText,"- "+_rsi.u.formatMoney(_rsi.form.discounts.totalAmount,"amount_with_comma_separator"),!1,"discount")):document.querySelector('._rsi-modal-checkout-line[data-checkout-line="discount"]')&&document.querySelector('._rsi-modal-checkout-line[data-checkout-line="discount"]').remove(),_rsi.form.calculateCodFee(),document.querySelector('._rsi-modal-checkout-line[data-checkout-line="total"]')){var e=_rsi.shippingRates.calculate(_rsi.cart),t=0;_rsi.s.integrations.codFee&&_rsi.s.integrations.codFee.isFeeEnabled&&(t=_rsi.s.integrations.codFee.commission);var r=0;try{document.querySelectorAll('._rsi-modal-checkout-line[data-checkout-line="tick_upsell"]').forEach(e=>{e.remove()}),_rsi.form.tickUps.selectedUps.forEach(e=>{document.querySelector('._rsi-modal-checkout-line[data-checkout-line="total"]').insertAdjacentHTML("beforebegin",'<div class="_rsi-modal-checkout-line" data-checkout-line="tick_upsell" data-tick-ups-id="'+e.id+'"><span class="_rsi-modal-checkout-line-title">'+e.title+'</span><span class="_rsi-modal-checkout-line-value">'+(0==e.price?_rsi.s.form.generalTexts.free:_rsi.u.formatMoney(e.price,"amount_with_comma_separator",!1,!0))+"</span></div>"),r+=e.price*Shopify.currency.rate})}catch(e){console.log(e)}document.querySelector('._rsi-modal-checkout-line[data-checkout-line="total"] ._rsi-modal-checkout-line-value').innerHTML=_rsi.u.formatMoney(_rsi.cart.original_total_price+t+r+e.price*Shopify.currency.rate-_rsi.form.discounts.totalAmount,"amount_with_comma_separator"),document.querySelector('._rsi-modal-checkout-line[data-checkout-line="total"]').setAttribute("data-order-total",_rsi.cart.original_total_price+r+t+e.price*Shopify.currency.rate-_rsi.form.discounts.totalAmount),document.querySelector('._rsi-modal-checkout-line[data-checkout-line="total"]').setAttribute("data-partial-total-for-checkout",_rsi.cart.original_total_price+r+e.price*Shopify.currency.rate-_rsi.form.discounts.totalAmount)}document.querySelector('._rsi-modal-checkout-line[data-checkout-line="subtotal"]')&&(document.querySelector('._rsi-modal-checkout-line[data-checkout-line="subtotal"] ._rsi-modal-checkout-line-value').innerHTML=_rsi.u.formatMoney(_rsi.cart.original_total_price,"amount_with_comma_separator")),_rsi.form.updateCurrencies()},updateTotalAmount:function(e,t,r){_rsi.form.discounts.totalAmount=0,_rsi.s.form.discounts.limitToOneCode&&!_rsi.form.quantityOffers.selectedOfferIn&&(_rsi.form.discounts.codesApplied=_rsi.form.discounts.getLimitToOneCodeDiscounts()),_rsi.form.discounts.codesApplied.forEach(function(e){_rsi.form.discounts.totalAmount+=e.amount}),_rsi.form.discounts.totalAmount<0&&(_rsi.form.discounts.totalAmount=0),_rsi.s.form.isEmbedded&&!_rsi.form.hasEmbeddedV2||t||_rsi.shippingRates.init(r),e||(_rsi.form.discounts.updateCheckoutLines(),_rsi.form.discounts.updateDiscountPlaques())},onRemoveDiscount:function(e){e.preventDefault();for(var t=this.getAttribute("data-discount-code"),t=decodeURI(t),r=0;r<_rsi.form.discounts.codesApplied.length;r++)if(_rsi.form.discounts.codesApplied[r].text.toLowerCase()==t.toLowerCase()){_rsi.form.discounts.codesApplied.splice(r,1);break}if(_rsi.form.quantityOffers.selectedOfferIn)return _rsi.form.quantityOffers.discount.code="",_rsi.form.quantityOffers.discount.type=!1,_rsi.form.quantityOffers.discount.value=0,void _rsi.form.quantityOffers.recalculateData();_rsi.form.discounts.updateTotalAmount()},updateDiscountPlaques:function(){var t,r;_rsi.s.form.discounts.isEnabled&&(t=[],r="",r+='<div class="_rsi-modal-discounts-plaques-container">',_rsi.form.discounts.codesApplied.forEach(function(e){e.text!=_rsi.form.discounts.automatic.defaultCodeText&&e.text!=_rsi.upsells.defaultCodeText&&e.text!=_rsi.form.quantityOffers.defaultCodeText&&"AWESOME QUANTITY DISCOUNT"!=e.text&&"RECOVERY DISCOUNT"!=e.text&&(t.push(e),r+='<div class="_rsi-modal-discounts-plaque">',r+='<span class="_rsi-modal-discounts-plaque-code">'+e.text+"</span>",r+='<span class="_rsi-modal-discounts-plaque-amount">'+_rsi.u.formatMoney(e.amount,"amount_with_comma_separator")+"</span>",r+='<button class="_rsi-modal-discounts-plaque-close-button" data-discount-code="'+encodeURI(e.text)+'" type="button"> <svg class="_rsi-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M0 0h24v24H0V0z" fill="none"></path> <path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"></path> </svg> </button>',r+="</div>")}),r+="</div>",t.length||(r=""),document.querySelector("._rsi-modal-discounts-plaques").innerHTML=r,document.querySelectorAll("._rsi-modal-discounts-plaque ._rsi-modal-discounts-plaque-close-button").forEach(function(e){e.addEventListener("click",_rsi.form.discounts.onRemoveDiscount)}))}},inlineVal:{init:function(){if("function"!=typeof _COD_FORM_ON_OPEN_INIT_END||window._CUSTOM_COD_FORM_PROVINCES||_rsi.s.form.hasInlineVal)try{document.querySelectorAll('#_rsi-cod-form-modal-form input[data-type][type="text"], #_rsi-cod-form-modal-form input[data-type][type="email"], #_rsi-cod-form-modal-form input[data-type][type="tel"]').forEach(e=>{var t,r,o,i,s,a;e.classList.contains("_rsi-search-ddown-visible-input")||(e.removeEventListener("input",_rsi.form.inlineVal.onTextInput),e.addEventListener("input",_rsi.form.inlineVal.onTextInput),t=e.getAttribute("data-type"),r=!1,_rsi.s.form.fields.items_array.forEach(e=>{e.type==t&&(r=e)}),r&&(a=s=i=o=!1,r.n&&(r.n.maxL&&(o=r.n.maxL),r.n.minL&&(i=r.n.minL),r.n.pf&&0<r.n.pf.length&&(s=r.n.pf),r.n.reg&&0<r.n.reg.length&&(a=r.n.reg),"pincode_country_field"==t&&(r.n.prefillState&&e.setAttribute("data-prefill-state","true"),r.n.autoCheck&&(_rsi.form.validation.pincodes.isValid=!1,e.setAttribute("data-auto-check","true")))),!1!==o&&!1!==i&&("phone"==t&&(_rsi.s.localization.country.phoneLength&&(_rsi.s.localization.country.phoneLength[0]>i&&(i=_rsi.s.localization.country.phoneLength[0]),_rsi.s.localization.country.phoneLength[1]<o&&(o=_rsi.s.localization.country.phoneLength[1])),i<4&&(i=4)),e.setAttribute("data-maxl",o),e.setAttribute("data-minl",i)),!1!==s&&(e.setAttribute("data-prefix",encodeURI(s)),0!=e.value.indexOf(s)&&(e.value=s+e.value)),!1!==a&&e.setAttribute("data-regexp",encodeURI(a)),r.n.onlyN&&e.setAttribute("data-only-numbers","true")))}),document.querySelectorAll("#_rsi-cod-form-modal-form select[data-type]").forEach(e=>{e.removeEventListener("input",_rsi.form.inlineVal.onSelectInput),e.addEventListener("input",_rsi.form.inlineVal.onSelectInput)}),document.querySelectorAll('#_rsi-cod-form-modal-form input[data-type][type="checkbox"]').forEach(e=>{e.removeEventListener("input",_rsi.form.inlineVal.onCheckboxInput),e.addEventListener("input",_rsi.form.inlineVal.onCheckboxInput)}),document.querySelectorAll('#_rsi-cod-form-modal-form input[data-type][type="radio"]').forEach(e=>{e.removeEventListener("input",_rsi.form.inlineVal.onRadioInput),e.addEventListener("input",_rsi.form.inlineVal.onRadioInput)}),document.querySelector('#_rsi-cod-form-modal-form input[data-type="pincode_country_field"]')&&document.querySelector('#_rsi-cod-form-modal-form input[data-type="pincode_country_field"]').dispatchEvent(new Event("input",{bubbles:!0}))}catch(e){console.log(e)}},removeError:function(e){e.closest("._rsi-modal-fields-item")&&(e.closest("._rsi-modal-fields-item").classList.remove("_rsi-modal-fields-item-error"),e.closest("._rsi-modal-fields-item").querySelector("._rsi-modal-fields-item-error-text")&&e.closest("._rsi-modal-fields-item").querySelector("._rsi-modal-fields-item-error-text").remove())},onTextInput:function(e){if(e){var t=e.target;if(t.closest("._rsi-modal-fields-item")){var r=t.value,o=t.getAttribute("data-prefix"),i=t.getAttribute("data-regexp");null!==o&&((o=decodeURI(o))[0]==r[0]&&(r=r.slice(o.length)),r=o+r,t.value=r);var s=!1;"phone"==t.getAttribute("data-type")&&_rsi.s.localization.country&&_rsi.s.localization.country.phonePrefix&&(null!==o&&(r=r.replace(o,""),s=!0),r=r.replace(_rsi.s.localization.country.phonePrefix,""));var a=t.getAttribute("data-maxl"),n=t.getAttribute("data-minl");if("phone"!=t.getAttribute("data-type")&&"pincode_country_field"!=t.getAttribute("data-type")&&"true"!=t.getAttribute("data-only-numbers")||(r=null!==o?(e=r,s||(e=r.replace(o,"")),o+(e=e.replace(/[^0-9٠١٢٣٤٥٦٧٨٩]+/g,""))):r.replace(/[^0-9٠١٢٣٤٥٦٧٨٩]+/g,"")),null!==o&&null!==a&&(a=parseInt(a)+o.length),null!==o&&null!==n&&(n=parseInt(n)+o.length),(r.length>a&&null!==a||"phone"==t.getAttribute("data-type")||"pincode_country_field"==t.getAttribute("data-type")||"true"==t.getAttribute("data-only-numbers"))&&(null!==a&&(t.value=r.slice(0,a)),r=t.value,"pincode_country_field"==t.getAttribute("data-type")&&(6==r.length&&"true"==t.getAttribute("data-auto-check")?_rsi.form.validation.pincodes.check(r,"true"==t.getAttribute("data-prefill-state")):6==r.length&&"true"==t.getAttribute("data-prefill-state")&&_rsi.form.validation.pincodes.check(r,!0,!0))),t.closest("._rsi-modal-fields-item").classList.contains("_rsi-modal-fields-item-error")){if("email"==t.getAttribute("data-type")){r=r.replace(/ /g,"");var c=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/g.test(r);return void(null!==a&&null!==n?r.length>=n&&r.length<=a&&c&&_rsi.form.inlineVal.removeError(t):0<r.length&&c&&3<r.length&&_rsi.form.inlineVal.removeError(t))}if("pincode_country_field"==t.getAttribute("data-type"))return r=r.replace(/ /g,""),void((c=/^[1-9]{1}[0-9]{2}\s{0,1}[0-9]{3}$/g.test(r))&&_rsi.form.inlineVal.removeError(t));if(null!==i&&i)try{i=decodeURI(i);var l=new RegExp(i);if(!r.match(l))return}catch(e){console.log(e)}null!==a&&null!==n?r.length>=n&&r.length<=a&&_rsi.form.inlineVal.removeError(t):0<r.length&&t.required&&_rsi.form.inlineVal.removeError(t)}0<r.length&&_rsi.tracking.eventsHanlders.infoFilled()}}},onSelectInput:function(e){!e||(e=e.target).closest("._rsi-modal-fields-item")&&e.closest("._rsi-modal-fields-item").classList.contains("_rsi-modal-fields-item-error")&&0<e.value.trim().length&&e.required&&_rsi.form.inlineVal.removeError(e)},onCheckboxInput:function(e){!e||(e=e.target).closest("._rsi-modal-fields-item")&&e.closest("._rsi-modal-fields-item").classList.contains("_rsi-modal-fields-item-error")&&e.checked&&e.required&&_rsi.form.inlineVal.removeError(e)},onRadioInput:function(e){!e||(e=e.target).closest("._rsi-modal-fields-item")&&e.closest("._rsi-modal-fields-item").classList.contains("_rsi-modal-fields-item-error")&&e.closest("._rsi-modal-fields-item").querySelector('input[type="radio"]:checked')&&e.required&&_rsi.form.inlineVal.removeError(e)}},validation:{pincodes:{isValid:!0,cachedResults:[],checkingPincode:"",pincodeEndpoint:"https://d3m95qabjril95.cloudfront.net/pincode-check?version=2&pincode=",check:function(o,i,s){var t,r;_rsi.form.validation.pincodes.isValid=!1,o!=_rsi.form.validation.pincodes.checkingPincode&&(_rsi.form.validation.pincodes.checkingPincode=o,r=!(t=function(e){var t,r;_rsi.form.validation.pincodes.checkingPincode="",e.success?(_rsi.form.validation.pincodes.isValid=!0,_rsi.form.validation.pincodes.checkingPincode="",i&&e.stateCode&&(document.querySelector('#_rsi-cod-form-modal-form [data-type="province_country_field"]')||document.querySelector("#_rsi-cod-form-modal-form").insertAdjacentHTML("beforeend",'<input type="hidden" name="province_country_field" value="">'),document.querySelector('#_rsi-cod-form-modal-form [name="province_country_field"]').value=e.stateCode,document.querySelector('#_rsi-cod-form-modal-form [name="province_country_field"]').dispatchEvent(new Event("input",{bubbles:!0}))),i&&e.city&&(document.querySelector('#_rsi-cod-form-modal-form [data-type="city"]')||document.querySelector("#_rsi-cod-form-modal-form").insertAdjacentHTML("beforeend",'<input type="hidden" name="city" value="">'),document.querySelector('#_rsi-cod-form-modal-form [name="city"]').value=e.city,document.querySelector('#_rsi-cod-form-modal-form [name="city"]').dispatchEvent(new Event("input",{bubbles:!0})))):s?_rsi.form.validation.pincodes.isValid=!0:(t=!1,_rsi.s.form.fields.items_array.forEach(function(e){"pincode_country_field"==e.type&&(t=e)}),r="",t.n&&t.n.eInv&&(r=t.n.eInv),r=r||_rsi.s.form.generalTexts.errors.invalidGeneric,setTimeout(function(){_rsi.form.validation.setFieldError(r,t,{name:"zip_code",value:o})},200))}),_rsi.form.validation.pincodes.cachedResults.forEach(e=>{e.pincode==o&&(t(e),r=!0)}),r||_rsi.u.ajax("GET",_rsi.form.validation.pincodes.pincodeEndpoint+o,null,function(e){(e=JSON.parse(e)).pincode=o,_rsi.form.validation.pincodes.cachedResults.push(e),t(e)},function(e){_rsi.form.validation.pincodes.isValid=!0,_rsi.form.validation.pincodes.checkingPincode=""}))}},check:function(e){_rsi.form.validation.clearFieldErrors();var o=!0,i=!1,s=!1;return e.forEach(function(t){var r;!document.querySelector('#_rsi-cod-form-modal-form [name="'+t.name+'"]')||(r=document.querySelector('#_rsi-cod-form-modal-form [name="'+t.name+'"]').getAttribute("data-type"))&&_rsi.s.form.fields.items_array.forEach(function(e){e.type==r&&(-1<e.type.indexOf("country_field")?_rsi.form.validation.checkCountryField(e,t)||(i||(s=t),o=!(i=!0)):_rsi.form.validation.checkField(e,t)||(i||(s=t),o=!(i=!0)))})}),s&&_rsi.form.validation.scrollToError(s),o},scrollToError:function(e){var t=document.querySelector('#_rsi-cod-form-modal-form [name="'+e.name+'"]').closest("._rsi-modal-fields-item");_rsi.s.form.isEmbedded?(e=t.getBoundingClientRect().top+window.pageYOffset-150,window.scroll(0,e)):_rsi.u.scrollTo(document.querySelector("#_rsi-cod-form-modal"),t.offsetTop-250,40)},setFieldError:function(e,t,r){r=document.querySelector('#_rsi-cod-form-modal-form [name="'+r.name+'"]');(r=r.closest("._rsi-modal-fields-item")).classList.contains("_rsi-modal-fields-item-error")?-1==t.type.indexOf("checkbox")&&-1==t.type.indexOf("additionals_radio_input")&&(r.querySelector("._rsi-modal-fields-item-error-text").innerHTML=e):(r.closest("._rsi-modal-fields-item").classList.add("_rsi-modal-fields-item-error"),-1==t.type.indexOf("checkbox")&&-1==t.type.indexOf("additionals_radio_input")&&r.closest("._rsi-modal-fields-item").insertAdjacentHTML("beforeend",'<p class="_rsi-modal-fields-item-error-text">'+e+"</p>"))},clearFieldErrors:function(){document.querySelectorAll("._rsi-modal-fields-item._rsi-modal-fields-item-error").forEach(function(e){e.classList.remove("_rsi-modal-fields-item-error"),e.querySelector("._rsi-modal-fields-item-error-text")&&e.querySelector("._rsi-modal-fields-item-error-text").remove()})},checkField:function(r,o,i){var e=!1;if(r.n&&r.n.pf&&0<r.n.pf.length&&(e=r.n.pf),e&&(o.value=o.value.replace(e,"")),o.value=o.value.trim(),r.required){if(-1<r.type.indexOf("checkbox")&&"on"!=o.value)return i||_rsi.form.validation.setFieldError(_rsi.s.form.generalTexts.errors.required,r,o),!1;if(-1<r.type.indexOf("additionals_radio_input")){if("off"==o.value)return i||_rsi.form.validation.setFieldError(_rsi.s.form.generalTexts.errors.required,r,o),!1}else if(!(0<o.value.length))return i||_rsi.form.validation.setFieldError(_rsi.s.form.generalTexts.errors.required,r,o),e&&(o.value=e+o.value),!1}if("phone"==r.type)if(0<o.value.length&&_rsi.s.localization.country.phoneLength){-1<o.value.indexOf(_rsi.s.localization.country.phonePrefix)&&(o.value=o.value.replace(_rsi.s.localization.country.phonePrefix,"")),o.value=o.value.replace(/[^0-9٠١٢٣٤٥٦٧٨٩]+/g,"");var t=o.value.length;if(!(t>=_rsi.s.localization.country.phoneLength[0]&&t<=_rsi.s.localization.country.phoneLength[1]))return i||_rsi.form.validation.setFieldError(_rsi.s.form.generalTexts.errors.invalidPhone,r,o),e&&(o.value=e+o.value),!1}else if(0<o.value.length){o.value=o.value.replace(/[^0-9٠١٢٣٤٥٦٧٨٩]+/g,"");t=!1;if(r.n&&(r.n.minL||r.n.maxL)&&(t=!0),t){t=!1;if(r.n.minL&&o.value.length<r.n.minL&&(t=!0),r.n.maxL&&o.value.length>r.n.maxL&&(t=!0),t){var s="";return _rsi.s.form.generalTexts.errors.invalidPhone&&(s=_rsi.s.form.generalTexts.errors.invalidPhone),r.n.eInv&&(s=r.n.eInv),i||_rsi.form.validation.setFieldError(s,r,o),e&&(o.value=e+o.value),!1}}if(!(3<o.value.length))return i||_rsi.form.validation.setFieldError(_rsi.s.form.generalTexts.errors.invalidPhone,r,o),e&&(o.value=e+o.value),!1}if("email"==r.type&&(o.value=o.value.replace(/ /g,""),0<o.value.length)){var s=!1,a=!0;if(r.n&&((r.n.minL||r.n.maxL)&&(s=!0),r.n.ignVal&&(a=!1)),s){s=!1;if(r.n.minL&&o.value.length<r.n.minL&&(s=!0),r.n.maxL&&o.value.length>r.n.maxL&&(s=!0),s){s="";return _rsi.s.form.generalTexts.errors.invalidEmail&&(s=_rsi.s.form.generalTexts.errors.invalidEmail),r.n.eInv&&(s=r.n.eInv),i||_rsi.form.validation.setFieldError(s,r,o),!1}}if(!/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/g.test(o.value)&&a)return i||_rsi.form.validation.setFieldError(_rsi.s.form.generalTexts.errors.invalidEmail,r,o),!1}if(("zip_code"==r.type||"pincode_country_field"==r.type)&&(o.value=o.value.replace(/ /g,""),0<o.value.length&&window._RSI_COD_FORM_POSTAL_CODES_CONFIG)){let e=!0;if("exclude"==window._RSI_COD_FORM_POSTAL_CODES_CONFIG.activeType?-1<window._RSI_COD_FORM_POSTAL_CODES_CONFIG.value.split(",").indexOf(o.value)&&0<window._RSI_COD_FORM_POSTAL_CODES_CONFIG.value.length&&(e=!1):"allow"==window._RSI_COD_FORM_POSTAL_CODES_CONFIG.activeType&&-1==window._RSI_COD_FORM_POSTAL_CODES_CONFIG.value.split(",").indexOf(o.value)&&0<window._RSI_COD_FORM_POSTAL_CODES_CONFIG.value.length&&(e=!1),!e){var n="";return _rsi.s.form.generalTexts.errors.invalidGeneric&&(n=_rsi.s.form.generalTexts.errors.invalidGeneric),r.n&&r.n.eInv&&(n=r.n.eInv),i||_rsi.form.validation.setFieldError(n,r,o),!1}}a=!1;if(r.n&&(r.n.minL||r.n.maxL)&&(a=!0),0<o.value.length&&a){a=!1;if(r.n.minL&&o.value.length<r.n.minL&&(a=!0),r.n.maxL&&o.value.length>r.n.maxL&&(a=!0),e&&(o.value=e+o.value),a){n="";return _rsi.s.form.generalTexts.errors.invalidGeneric&&(n=_rsi.s.form.generalTexts.errors.invalidGeneric),"phone"==r.type&&_rsi.s.form.generalTexts.errors.invalidPhone&&(n=_rsi.s.form.generalTexts.errors.invalidPhone),r.n.eInv&&(n=r.n.eInv),i||_rsi.form.validation.setFieldError(n,r,o),!1}}else 0<o.value.length&&e&&(o.value=e+o.value);if(r.n){if(r.n.reg&&0<r.n.reg.length&&0<o.value.length)try{var c=new RegExp(r.n.reg);if(!o.value.match(c)){n="";return _rsi.s.form.generalTexts.errors.invalidGeneric&&(n=_rsi.s.form.generalTexts.errors.invalidGeneric),"phone"==r.type&&_rsi.s.form.generalTexts.errors.invalidPhone&&(n=_rsi.s.form.generalTexts.errors.invalidPhone),r.n.eInv&&(n=r.n.eInv),i||_rsi.form.validation.setFieldError(n,r,o),!1}}catch(e){console.log(e)}if(r.n.bWords&&0<o.value.length)try{let e=r.n.bWords.toLowerCase().split(","),t=!1;if(e.forEach(e=>{-1<o.value.toLowerCase().indexOf(e.trim())&&(t=!0)}),t){n="";return _rsi.s.form.generalTexts.errors.invalidGeneric&&(n=_rsi.s.form.generalTexts.errors.invalidGeneric),r.n.eInv&&(n=r.n.eInv),i||_rsi.form.validation.setFieldError(n,r,o),!1}}catch(e){console.log(e)}}return!0},checkCountryField:function(e,t,r){var o=_rsi.form.validation.checkField(e,t),i=!0;if("pincode_country_field"==e.type)if(t.value=t.value.trim(),0<t.value.length){if(!/^[1-9]{1}[0-9]{2}\s{0,1}[0-9]{3}$/g.test(t.value)||!_rsi.form.validation.pincodes.isValid){var s="";return e.n&&e.n.eInv&&(s=e.n.eInv),!s&&_rsi.s.form.generalTexts.errors.invalidGeneric&&(s=_rsi.s.form.generalTexts.errors.invalidGeneric),r||_rsi.form.validation.setFieldError(s,e,t),!1}}else i=!1;return o&&i}},saveData:{cachedData:!1,intervalId:!1,init:function(e,t){_rsi.form.saveData.intervalId&&clearInterval(_rsi.form.saveData.intervalId),t||(_rsi.form.saveData.intervalId=setInterval(_rsi.form.saveData.onInterval,1e3));try{var r,o=[],i=_rsi.u.queryStringToJSON(window.location.search.replace("?","")),s=!1;i.rsiacd?(r=_rsi.u.queryStringToJSON(atob(i.rsiacd)),Object.keys(r).forEach(e=>{o.push({name:e,value:r[e]}),s=!0})):Object.keys(i).forEach(e=>{-1<e.indexOf("rsiac_")&&(o.push({name:e.replace("rsiac_",""),value:decodeURIComponent(i[e])}),s=!0)}),s&&0==_rsi.form.saveData.cachedData&&(_rsi.form.saveData.cachedData={formData:o})}catch(e){console.log(e)}e&&_rsi.form.saveData.overwriteCurrentConfig()},clear:function(){_rsi.form.saveData.cachedData=!1},stop:function(){_rsi.form.saveData.intervalId&&clearInterval(_rsi.form.saveData.intervalId)},clearAndStop:function(){_rsi.form.saveData.stop(),_rsi.form.saveData.clear()},onInterval:function(){document.querySelector("form#_rsi-cod-form-modal-form")&&"closed"!=_rsi.s.form.currentPage&&(_rsi.form.saveData.cachedData=_rsi.form.getFormData())},overwriteCurrentConfig:function(){_rsi.form.saveData.cachedData&&_rsi.form.saveData.cachedData.formData&&_rsi.form.saveData.cachedData.formData.forEach(function(e){if(document.querySelector('#_rsi-cod-form-modal-form [name="'+e.name+'"]')&&!(-1<e.name.indexOf("item_")||-1<e.name.indexOf("shipping_rate_")||-1<e.name.indexOf("country_code")||-1<e.name.indexOf("additionals_radio_input")||-1<e.name.indexOf("additionals_checkbox")||-1<e.name.indexOf("shop_domain")))if(-1<e.name.indexOf("_checkbox"))"on"==e.value&&(document.querySelector('#_rsi-cod-form-modal-form [name="'+e.name+'"]').checked=!0);else{document.querySelector('#_rsi-cod-form-modal-form [name="'+e.name+'"]').value=e.value;try{document.querySelector('#_rsi-cod-form-modal-form [name="'+e.name+'"]').dispatchEvent(new Event("input",{bubbles:!0}))}catch(e){console.log(e)}}})}}},metrics:{queue:[],processedIds:[],postUrl:"/apps/rsi-cod-form-do-not-change/send-metrics",utmData:!1,init:function(){try{var e,t=window.location.search;if(-1==t.indexOf("utm"))try{window.sessionStorage&&(!window.sessionStorage.getItem(window.Shopify.shop+"_landing_page")||(e=window.sessionStorage.getItem(window.Shopify.shop+"_landing_page")).split("?")[1]&&(t=e.split("?")[1]))}catch(e){console.log(e)}var r=_rsi.u.queryStringToJSON(t.replace("?",""));(r.utm_campaign||r.utm_source||r.utm_medium)&&(_rsi.metrics.utmData={},r.utm_source&&(_rsi.metrics.utmData.source=r.utm_source),r.utm_medium&&(_rsi.metrics.utmData.medium=r.utm_medium),r.utm_campaign&&(_rsi.metrics.utmData.campaign=r.utm_campaign))}catch(e){console.log(e)}},addMetric:function(e,t,r){-1<_rsi.metrics.processedIds.indexOf(e)||(_rsi.metrics.processedIds.push(e),t={id:e,value:t},r&&_rsi.metrics.utmData&&(t.utmData=_rsi.metrics.utmData),_rsi.metrics.queue.push(t))},sendQueue:function(e){setTimeout(function(){0<_rsi.metrics.queue.length&&(_rsi.u.ajax("POST",_rsi.metrics.postUrl,JSON.stringify({metrics:_rsi.metrics.queue}),function(e){}),_rsi.metrics.queue=[])},1e3*e)}},tracking:{disableEvents:{fb:!1},wasThere:{fb:!0},init:function(){try{if(_rsi.s.tracking.disableAllEvents)return;_rsi.s.tracking.items_array.forEach(function(s){if("fb_browser"==s.type)"function"!=typeof window.fbq&&(y=window,h=document,y.fbq||(f=y.fbq=function(){f.callMethod?f.callMethod.apply(f,arguments):f.queue.push(arguments)},y._fbq||(y._fbq=f),(f.push=f).loaded=!0,f.version="2.0",f.queue=[],(y=h.createElement("script")).async=!0,y.src="https://connect.facebook.net/en_US/fbevents.js",(h=h.getElementsByTagName("script")[0]).parentNode.insertBefore(y,h)),_rsi.tracking.wasThere.fb=!1),window.fbq("init",s.id),_rsi.tracking.wasThere.fb||window.fbq("track","PageView");else if("gtag"==s.type)"function"!=typeof window.ga&&(m=window,p=document,_="ga",m.GoogleAnalyticsObject=_,m.ga=m.ga||function(){(m.ga.q=m.ga.q||[]).push(arguments)},m.ga.l=+new Date,_=p.createElement("script"),p=p.getElementsByTagName("script")[0],_.async=1,_.src="https://www.google-analytics.com/analytics.js",p.parentNode.insertBefore(_,p)),window.ga("create",s.id,"auto");else if("gads"==s.type)window,_=document,p="https://www.googletagmanager.com/gtag/js?id="+s.id,r=_.createElement("script"),r.async=!0,r.src=p,(_=_.getElementsByTagName("script")[0]).parentNode.insertBefore(r,_),window.dataLayer=window.dataLayer||[],"function"!=typeof window.gtag&&(window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date)),window.gtag("config",s.id);else if("snap"==s.type)"function"!=typeof window.snaptr&&(l=window,d=document,l.snaptr||((u=l.snaptr=function(){u.handleRequest?u.handleRequest.apply(u,arguments):u.queue.push(arguments)}).queue=[],(l=d.createElement("script")).async=!0,l.src="https://sc-static.net/scevent.min.js",(d=d.getElementsByTagName("script")[0]).parentNode.insertBefore(l,d))),window.snaptr("init",s.id);else if("tiktok"==s.type)void 0===window.ttq?function(e,o){e.TiktokAnalyticsObject=o;var i=e.ttq=e.ttq||[];i.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],i.setAndDefer=function(e,t){e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}};for(var t=0;t<i.methods.length;t++)i.setAndDefer(i,i.methods[t]);i.instance=function(e){for(var t=i._i[e]||[],r=0;r<i.methods.length;r++)i.setAndDefer(t,i.methods[r]);return t},i.load=function(e,t){var r="https://analytics.tiktok.com/i18n/pixel/events.js";i._i=i._i||{},i._i[e]=[],i._i[e]._u=r,i._t=i._t||{},i._t[e]=+new Date,i._o=i._o||{},i._o[e]=t||{};t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=r+"?sdkid="+e+"&lib="+o;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)},window.ttq.load(s.id),window.ttq.page()}(window,(document,"ttq")):window.ttq.load(s.id);else if("pinterest"==s.type)"function"!=typeof window.pintrk&&(window.pintrk||(window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))},(c=window.pintrk).queue=[],c.version="3.0",(n=document.createElement("script")).async=!0,n.src="https://s.pinimg.com/ct/core.js",(c=document.getElementsByTagName("script")[0]).parentNode.insertBefore(n,c))),window.pintrk("load",s.id);else if("taboola"==s.type)void 0===window._tfa&&(window._tfa=window._tfa||[],window._tfa.push({notify:"event",name:"page_view",id:s.id}),l=document.createElement("script"),d=document.getElementsByTagName("script")[0],n="//cdn.taboola.com/libtrc/unip/"+s.id+"/tfa.js",c="tb_tfa_script",document.getElementById(c)||(l.async=1,l.src=n,l.id=c,d.parentNode.insertBefore(l,d)));else if("gtag4"==s.type){if("function"!=typeof window.gtag){try{var e=document.createElement("script");e.type="text/javascript",e.crossorigin="anonymous",e.src="https://www.googletagmanager.com/gtag/js?id="+s.id,document.getElementsByTagName("head")[0].appendChild(e)}catch(e){console.log("ERROR: error while loading gtag.",e)}window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},window.gtag("js",new Date)}window.gtag("config",s.id)}else if("shchat"==s.type)try{o=window,t=document,i="scLayer",a=s.id,o.scSdkId=a,o[i]=o[i]||[],o.scq=function(e,t,r){r=r||{};o[i].push({eventName:e,eventType:t,meta:r,eventFireTs:Date.now()})},o.scq("PAGE_VIEW","AUTO",{pageUrl:o.location.href}),(a=t.createElement("script")).type="text/javascript",a.async=!0,a.src="https://sc-events-sdk.sharechat.com/web-sdk.js",!void(t=t.getElementsByTagName("script")[0]).parentNode.insertBefore(a,t)}catch(e){console.log("ERROR: error while loading share chat.",e)}var o,t,i,a,n,c,l,d,u,m,_,p,f,y,h})}catch(e){console.log(e)}},sendFbq:function(e,t,r){if(!_rsi.s.tracking.disableAllEvents)return"function"==typeof window.fbq&&void(_rsi.tracking.disableEvents.fb||(r?window.fbq("track",e,t,r):window.fbq("track",e,t)))},sendGtag:function(e,t,r){if(!_rsi.s.tracking.disableAllEvents)return"function"==typeof window.ga&&void("ga"==e?(r.eventCategory="ReleasitCodForm",window.ga("send",r)):"ga_ecom_non_action"==e?(window.ga("require","ec"),window.ga(t,r)):"ga_ecom"==e&&(window.ga("require","ec"),window.ga("ec:setAction",t,r)))},sendGtag4:function(e,t,r){if(!_rsi.s.tracking.disableAllEvents)return"function"==typeof window.gtag&&void(r?window.gtag(e,t,r):window.gtag(e,t))},sendSnap:function(e,t){if(!_rsi.s.tracking.disableAllEvents)return"function"==typeof window.snaptr&&void(t?window.snaptr("track",e,t):window.snaptr("track",e))},sendTikTok:function(e,t,r){if(!_rsi.s.tracking.disableAllEvents)return void 0!==window.ttq&&void(t?r?window.ttq.track(e,t,r):window.ttq.track(e,t):window.ttq.track(e))},sendTikTokId:function(e){if(!_rsi.s.tracking.disableAllEvents){if(void 0===window.ttq)return!1;try{e&&window.ttq.identify(e)}catch(e){console.log(e)}}},sendPinterest:function(e,t){if(!_rsi.s.tracking.disableAllEvents)return"function"==typeof window.pintrk&&void(t?window.pintrk("track",e,t):window.pintrk("track",e))},sendTaboola:function(t){if(!_rsi.s.tracking.disableAllEvents){if(void 0===window._tfa)return!1;try{_rsi.s.tracking.items_array.forEach(function(e){"taboola"==e.type&&(t.id=e.id,window._tfa.push(t))})}catch(e){console.log(e)}}},sendScq:function(e){if(!_rsi.s.tracking.disableAllEvents){if(void 0===window.scq)return!1;try{window.scq(e,"pre_defined")}catch(e){console.log(e)}}},eventsHanlders:{purchaseAlreadySent:!1,purchaseEventId:!1,initiateCheckout:function(t){_rsi.metrics.addMetric("initiateCheckout",{count:1},!0),_rsi.tracking.sendFbq("InitiateCheckout",{currency:t.currency,value:parseFloat(_rsi.u.formatMoney(t.original_total_price,"amount",!0)),num_items:t.item_count}),_rsi.s.tracking.fbSendAtc&&_rsi.tracking.sendFbq("AddToCart",{currency:t.currency,value:parseFloat(_rsi.u.formatMoney(t.original_total_price,"amount",!0)),num_items:t.item_count}),t.items.forEach(function(e){_rsi.tracking.sendGtag("ga_ecom_non_action","ec:addProduct",{id:(e.product_id||e.variant_id)+"",name:e.title,price:_rsi.u.formatMoney(t.original_total_price,"amount",!0),quantity:e.quantity})}),_rsi.tracking.sendGtag("ga_ecom","checkout",{step:1}),_rsi.tracking.sendGtag("ga",null,{hitType:"event",eventAction:"CodFormInitiateCheckout"}),_rsi.tracking.sendSnap("START_CHECKOUT"),_rsi.tracking.sendTikTok("InitiateCheckout",{contents:t.items.map(function(e){return{content_id:e.product_id+""||e.variant_id+"",content_type:"product",content_name:e.title,price:parseFloat(_rsi.u.formatMoney(e.original_line_price,"amount",!0)),quantity:e.quantity}}),value:parseFloat(_rsi.u.formatMoney(t.original_total_price,"amount",!0)),currency:t.currency}),_rsi.tracking.sendTaboola({notify:"event",name:"start_checkout"}),_rsi.tracking.sendGtag4("event","begin_checkout"),_rsi.tracking.sendScq("Initiate checkout")},purchaseOnUpsell:function(t){if(!_rsi.tracking.eventsHanlders.purchaseAlreadySent&&_rsi.s.tracking.sendUpsellEvents){_rsi.tracking.eventsHanlders.purchaseAlreadySent=!0,_rsi.tracking.eventsHanlders.purchaseEventId=(new Date).getTime()+"",_rsi.s.tracking.fbPurType?_rsi.tracking.sendFbq(_rsi.s.tracking.fbPurType,{currency:t.currency,value:_rsi.u.formatMoney(t.original_total_price,"amount",!0),num_items:t.item_count},{eventID:_rsi.tracking.eventsHanlders.purchaseEventId||t.token}):_rsi.tracking.sendFbq("Purchase",{currency:t.currency,value:_rsi.u.formatMoney(t.original_total_price,"amount",!0),num_items:t.item_count},{eventID:_rsi.tracking.eventsHanlders.purchaseEventId||t.token}),t.items.forEach(function(e){_rsi.tracking.sendGtag("ga_ecom_non_action","ec:addProduct",{id:(e.product_id||e.variant_id)+"",name:e.title,price:parseFloat(_rsi.u.formatMoney(e.original_line_price,"amount",!0)),quantity:e.quantity})}),_rsi.tracking.sendGtag("ga_ecom","purchase",{id:t.token,revenue:_rsi.u.formatMoney(t.original_total_price,"amount",!0)}),_rsi.tracking.sendGtag("ga",null,{hitType:"event",eventAction:"CodFormPurchase"});try{"function"==typeof TriplePixel&&TriplePixel("Contact",{email:null}),"function"==typeof comet&&comet("purchase",{amount:_rsi.u.formatMoney(t.original_total_price,"amount",!0)})}catch(e){console.log(e)}_rsi.tracking.sendSnap("PURCHASE",{currency:t.currency,price:_rsi.u.formatMoney(t.original_total_price,"amount",!0)}),_rsi.tracking.sendTikTok("PlaceAnOrder",{contents:t.items.map(function(e){return{content_id:e.product_id+""||e.variant_id+"",content_type:"product",content_name:e.title,price:parseFloat(_rsi.u.formatMoney(e.original_line_price,"amount",!0)),quantity:e.quantity}}),value:parseFloat(_rsi.u.formatMoney(t.original_total_price,"amount",!0)),currency:t.currency},{event_id:(_rsi.tracking.eventsHanlders.purchaseEventId||t.token)+"-PlaceAnOrder"}),_rsi.tracking.sendTikTok("CompletePayment",{contents:t.items.map(function(e){return{content_id:e.product_id+""||e.variant_id+"",content_type:"product",content_name:e.title,price:parseFloat(_rsi.u.formatMoney(e.original_line_price,"amount",!0)),quantity:e.quantity}}),value:parseFloat(_rsi.u.formatMoney(t.original_total_price,"amount",!0)),currency:t.currency},{event_id:(_rsi.tracking.eventsHanlders.purchaseEventId||t.token)+"-CompletePayment"}),_rsi.tracking.sendPinterest("Checkout",{value:parseFloat(_rsi.u.formatMoney(t.original_total_price,"amount",!0)),currency:t.currency,order_quantity:t.item_count}),_rsi.tracking.sendTaboola({notify:"event",name:"make_purchase",revenue:_rsi.u.formatMoney(t.original_total_price,"amount",!0),currency:t.currency,orderid:t.token}),_rsi.tracking.sendGtag4("event","purchase",{transaction_id:t.token,value:parseFloat(_rsi.u.formatMoney(t.original_total_price,"amount",!0)),currency:t.currency,items:t.items.map(function(e){return{item_id:e.product_id+""||e.variant_id+"",item_name:e.title,currency:t.currency,price:parseFloat(_rsi.u.formatMoney(e.original_line_price,"amount",!0)),quantity:e.quantity}})}),_rsi.s.tracking.items_array.forEach(function(e){"gads"==e.type&&e.id&&e.purchaseLabel&&_rsi.tracking.sendGtag4("event","conversion",{send_to:e.id+"/"+e.purchaseLabel,value:_rsi.u.formatMoney(t.original_total_price,"amount",!0),currency:t.currency,transaction_id:t.token})}),_rsi.tracking.sendScq("Purchase")}},purchase:function(e){if(!_rsi.tracking.eventsHanlders.purchaseAlreadySent){var r=e.order,t=0;_rsi.tracking.eventsHanlders.purchaseAlreadySent=!0,r.line_items.forEach(function(e){t+=e.quantity}),_rsi.s.tracking.fbPurType?_rsi.tracking.sendFbq(_rsi.s.tracking.fbPurType,{},{eventID:_rsi.tracking.eventsHanlders.purchaseEventId||r.token}):_rsi.tracking.sendFbq("Purchase",{currency:r.currency,value:r.total_price,num_items:t},{eventID:_rsi.tracking.eventsHanlders.purchaseEventId||r.token}),r.line_items.forEach(function(e){_rsi.tracking.sendGtag("ga_ecom_non_action","ec:addProduct",{id:(e.product_id||e.variant_id)+"",name:e.name,price:e.price,quantity:e.quantity})}),_rsi.tracking.sendGtag("ga_ecom","purchase",{id:r.name,revenue:r.total_price}),_rsi.tracking.sendGtag("ga",null,{hitType:"event",eventAction:"CodFormPurchase"});try{"function"==typeof TriplePixel&&TriplePixel("Contact",{email:r.email}),"function"==typeof comet&&comet("purchase",{amount:r.total_price})}catch(e){console.log(e)}try{let t={};r.email&&(t.user_email=r.email),r.shipping_address.phone&&(t.user_phone_number=r.shipping_address.phone),r.shipping_address.first_name&&(t.firstname=r.shipping_address.first_name),r.shipping_address.last_name&&(t.lastname=r.shipping_address.last_name),r.shipping_address.zip&&(t.geo_postal_code=r.shipping_address.zip),0<Object.keys(t).length&&_rsi.s.tracking.items_array.forEach(function(e){"snap"==e.type&&window.snaptr("init",e.id,t)});let e={};t.user_email&&(e.email=t.user_email),t.user_phone_number&&(e.phone_number=t.user_phone_number),0<Object.keys(e).length&&_rsi.tracking.sendTikTokId(e)}catch(e){console.log(e)}_rsi.tracking.sendSnap("PURCHASE",{currency:r.currency,price:r.total_price}),_rsi.tracking.sendTikTok("PlaceAnOrder",{contents:r.line_items.map(function(e){return{content_id:e.product_id+""||e.variant_id+"",content_type:"product",content_name:e.title,price:parseFloat(e.price),quantity:e.quantity}}),value:parseFloat(r.total_price),currency:r.currency},{event_id:r.token+"-PlaceAnOrder"}),_rsi.tracking.sendTikTok("CompletePayment",{contents:r.line_items.map(function(e){return{content_id:e.product_id+""||e.variant_id+"",content_type:"product",content_name:e.title,price:parseFloat(e.price),quantity:e.quantity}}),value:parseFloat(r.total_price),currency:r.currency},{event_id:r.token+"-CompletePayment"}),_rsi.tracking.sendPinterest("Checkout",{value:parseFloat(r.total_price),currency:r.currency,order_quantity:t}),_rsi.tracking.sendTaboola({notify:"event",name:"make_purchase",revenue:r.total_price,currency:r.currency,orderid:r.name}),_rsi.tracking.sendGtag4("event","purchase",{transaction_id:r.name,value:parseFloat(r.total_price),currency:r.currency,items:r.line_items.map(function(e){return{item_id:e.product_id+""||e.variant_id+"",item_name:e.title,currency:r.currency,price:parseFloat(e.price),quantity:e.quantity}})}),_rsi.s.tracking.items_array.forEach(function(e){"gads"==e.type&&e.id&&e.purchaseLabel&&_rsi.tracking.sendGtag4("event","conversion",{send_to:e.id+"/"+e.purchaseLabel,value:r.total_price,currency:r.currency,transaction_id:r.name})});try{window.bgGetCookie&&window.bgPostEvent&&window.bgPostEvent({aff_id:window.bgGetCookie("bgaffilite_id"),click_id:window.bgGetCookie("bgclick_id"),visitor_id:window.bgGetCookie("bgvisitor_id"),event_type:"checkout_finish",order_id:r.id,shop:window.Shopify.shop})}catch(e){console.log(e)}_rsi.tracking.sendScq("Purchase")}},whatsappClick:function(){_rsi.tracking.sendFbq("Lead"),_rsi.tracking.sendTikTok("Contact"),_rsi.tracking.sendGtag4("event","generate_lead")},wasInfoSent:!1,infoFilled:function(){_rsi.tracking.eventsHanlders.wasInfoSent||(_rsi.tracking.eventsHanlders.wasInfoSent=!0,_rsi.metrics.addMetric("addInfo",{count:1},!0),_rsi.metrics.sendQueue(.1),_rsi.s.tracking.sendFill&&_rsi.tracking.sendFbq("AddPaymentInfo"))},otpPage:function(){_rsi.tracking.sendFbq("Lead"),_rsi.tracking.sendGtag("ga",null,{hitType:"event",eventAction:"CodFormOtpVerificationReached"})}}},shippingRates:{currentRate:!1,savedRatePriority:!1,hasProvRates:!1,init:function(e){_rsi.s.shippingRates.isAutomatic||document.querySelector("._rsi-modal-shipping-rates")&&(_rsi.s.shippingRates.items_array.forEach(e=>{e.onlyForPs&&0<e.onlyForPs.length&&(_rsi.shippingRates.hasProvRates=!0)}),_rsi.shippingRates.generateRates(_rsi.cart,e),document.querySelectorAll("._rsi-modal-shipping-rates-item").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();e=parseInt(this.getAttribute("data-priority"));_rsi.shippingRates.savedRatePriority=e,_rsi.shippingRates.onRateChange(e)})}))},generateRates:function(e,t){var r=[];_rsi.s.shippingRates.items_array.sort(function(e,t){return t.priority-e.priority});for(var o,i,s=0;s<_rsi.s.shippingRates.items_array.length;s++){var a=_rsi.s.shippingRates.items_array[s];"default"!=a.type&&_rsi.shippingRates.checkConditions(e,a,t)&&r.push(a)}_rsi.shippingRates.hasProvRates&&(o=!1,r.forEach(e=>{e.onlyForPs&&0<e.onlyForPs.length&&(o=!0)}),o&&(i=r,r=[],i.forEach(e=>{e.onlyForPs&&0<e.onlyForPs.length&&r.push(e)})));var n="";if(0==r.length)return n+='<div class="_rsi-modal-shipping-no-rates">No rates available. Please configure your rates on the app.</div>',!_rsi.mlc.selectedCountry&&_rsi.mlc.isEnabled&&(n='<div class="_rsi-modal-shipping-no-rates">'+_rsi.u.getLocaleTranslation({t:{en:"Select a country to see shipping methods.",it:"Seleziona un paese per vedere i metodi di spedizione.",hu:"Válassza ki az országot a szállítási módok megtekintéséhez.",el:"Επιλέξτε μια χώρα για να δείτε τους τρόπους αποστολής.",es:"Seleccione un país para ver los métodos de envío.",cs:"Chcete-li zobrazit způsoby dopravy, vyberte zemi.",fr:"Sélectionnez un pays pour voir les méthodes d'expédition.",pt:"Selecione um país para ver os métodos de envio.",ar:"حدد دولة لمعرفة طرق الشحن.",sl:"Izberite državo, da vidite načine pošiljanja.",bg:"Изберете държава, за да видите методите на доставка.",lt:"Pasirinkite šalį, kad pamatytumėte pristatymo būdus.",ro:"Selectați o țară pentru a vedea metodele de livrare.",sk:"Ak chcete zobraziť spôsoby dopravy, vyberte krajinu.",pl:"Wybierz kraj, aby zobaczyć metody wysyłki."}})+"</div>"),_rsi.shippingRates.hasProvRates&&!_rsi.form.provListn.selectedCode&&(n='<div class="_rsi-modal-shipping-no-rates">'+_rsi.u.getLocaleTranslation({t:{en:"Select a province or city to see shipping rates.",it:"Seleziona una provincia o una città per vedere le tariffe di spedizione.",hu:"Válasszon ki egy tartományt vagy várost a szállítási díjak megtekintéséhez.",el:"Επιλέξτε επαρχία ή πόλη για να δείτε τις τιμές αποστολής.",es:"Seleccione una provincia o ciudad para ver las tarifas de envío.",cs:"Chcete-li zobrazit sazby za dopravu, vyberte provincii nebo město.",fr:"Sélectionnez une province ou une ville pour voir les tarifs d'expédition.",pt:"Selecione uma província ou cidade para ver as taxas de envio.",ar:"حدد مقاطعة أو مدينة لمعرفة أسعار الشحن.",sl:"Izberite provinco ali mesto, da vidite cene pošiljanja.",bg:"Изберете провинция или град, за да видите тарифите за доставка.",lt:"Pasirinkite provinciją arba miestą, kad pamatytumėte pristatymo įkainius.",ro:"Selectați o provincie sau un oraș pentru a vedea tarifele de expediere.",sk:"Ak chcete zobraziť sadzby za dopravu, vyberte provinciu alebo mesto.",pl:"Wybierz prowincję lub miasto, aby zobaczyć stawki wysyłki."}})+"</div>"),document.querySelector("._rsi-modal-shipping-rates").innerHTML=n,void _rsi.shippingRates.onRateChange("-1");try{"price-high-low"==_rsi.s.shippingRates.sortMode?r.sort(function(e,t){return t.price-e.price}):r.sort(function(e,t){return e.price-t.price})}catch(e){console.log(e)}r.forEach(function(e){var t="";e.desc&&(t='<span class="_rsi-modal-shipping-rates-item-desc">'+e.desc+"</span>"),n+='<div class="_rsi-modal-shipping-rates-item" data-priority="'+e.priority+'" data-selected="false">',n+='<div class="_rsi-modal-shipping-rates-item-checkbox-container">',n+='<div class="_rsi-modal-shipping-rates-item-checkbox"></div>',n+="</div>",n+='<span class="_rsi-modal-shipping-rates-item-title">'+e.title+t+"</span>",n+='<span class="_rsi-modal-checkout-line-price">'+(e.price?_rsi.u.formatMoney(e.price,"amount_with_comma_separator",!1,!0):_rsi.s.form.generalTexts.free)+"</span>",n+="</div>"}),document.querySelector("._rsi-modal-shipping-rates").innerHTML=n,_rsi.shippingRates.onRateChange(r[0].priority)},onRateChange:function(t){var e,r=!1;_rsi.s.shippingRates.items_array.forEach(function(e){e.priority==t&&(r=e)}),!1!==_rsi.shippingRates.savedRatePriority&&_rsi.s.shippingRates.items_array.forEach(function(e){_rsi.shippingRates.savedRatePriority==e.priority&&document.querySelector('._rsi-modal-shipping-rates-item[data-priority="'+e.priority+'"]')&&_rsi.shippingRates.checkConditions(_rsi.cart,e)&&(t=(r=e).priority)}),"-1"==(_rsi.shippingRates.savedRatePriority=t)&&(r={condition:[],price:0,priority:-1,title:"Free shipping",type:"custom"}),r&&(_rsi.shippingRates.currentRate=r,document.querySelectorAll('._rsi-modal-shipping-rates-item[data-selected="true"]').forEach(function(e){e.setAttribute("data-selected","false")}),document.querySelector('._rsi-modal-shipping-rates-item[data-priority="'+r.priority+'"]')&&document.querySelector('._rsi-modal-shipping-rates-item[data-priority="'+r.priority+'"]').setAttribute("data-selected","true"),document.querySelector('._rsi-modal-checkout-line[data-checkout-line="shipping"]')&&(e=r.price?_rsi.u.formatMoney(r.price,"amount_with_comma_separator",!1,!0):_rsi.s.form.generalTexts.free,!_rsi.mlc.selectedCountry&&_rsi.mlc.isEnabled&&-1==r.priority&&(e="?"),_rsi.shippingRates.hasProvRates&&!_rsi.form.provListn.selectedCode&&-1==r.priority&&(e="?"),document.querySelector('._rsi-modal-checkout-line[data-checkout-line="shipping"] ._rsi-modal-checkout-line-value').innerHTML=e),document.querySelector('input[name="shipping_rate_priority"]').value=r.priority,_rsi.form.discounts.codesApplied.forEach(function(e){"shipping"==e.type&&(e.amount=Math.floor(r.price*Shopify.currency.rate))}),_rsi.form.discounts.updateTotalAmount(!1,!0))},checkConditions:function(t,e,r){var o=0;try{_rsi.form.tickUps.selectedUps.forEach(e=>{o+=e.price*Shopify.currency.rate})}catch(e){console.log(e)}var i,s,a=t.original_total_price/Shopify.currency.rate-_rsi.form.discounts.totalAmount+o,n=!0;return e.condition.forEach(e=>{"if_total_less_than"==e.type?a<e.value||(n=!1):"if_total_greater_or_equal_than"==e.type?a>=e.value||(n=!1):"if_weight_less_than"==e.type?t.total_weight<10*e.value||(n=!1):"if_weight_greater_or_equal_than"==e.type?t.total_weight>=10*e.value||(n=!1):"if_quantity_greater_or_equal_than"==e.type?t.item_count>=e.value||(n=!1):"if_quantity_less_than"==e.type&&(t.item_count<e.value||(n=!1))}),e.onlyForCs&&0<e.onlyForCs.length&&(i=!1,e.onlyForCs.forEach(e=>{_rsi.s.localization.countryCode==e&&(i=!0)}),!i&&0<e.onlyForCs.length&&(n=!1),!r&&_rsi.mlc.selectedCountry||!_rsi.mlc.isEnabled||(n=!1)),e.onlyForPs&&0<e.onlyForPs.length&&(s=!1,e.onlyForPs.forEach(e=>{_rsi.form.provListn.selectedCode==e&&(s=!0)}),s||(n=!1)),n},calculate:function(e){if(!_rsi.s.shippingRates.isAutomatic&&!_rsi.shippingRates.currentRate)return{price:0,priority:0,title:""};if(!_rsi.s.shippingRates.isAutomatic)return _rsi.shippingRates.currentRate;_rsi.s.shippingRates.items_array.sort(function(e,t){return t.priority-e.priority});for(var t=_rsi.s.shippingRates.items_array[_rsi.s.shippingRates.items_array.length-1],r=0;r<_rsi.s.shippingRates.items_array.length;r++){var o=_rsi.s.shippingRates.items_array[r];if("default"!=o.type)if(_rsi.shippingRates.checkConditions(e,o)){t=o;break}}return t}},abandonedCheckouts:{alreadySending:!1,alreadySendingV2:!1,alreadySendingPostPurchaseAbandon:!1,init:function(){_rsi.s.form.isEmbedded&&!_rsi.form.hasEmbeddedV2||-1<window.location.search.indexOf("abandoned_order_recovery_draft_id")||navigator.sendBeacon&&(document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&_rsi.abandonedCheckouts.onSubmit()}),document.addEventListener("pagehide",function(){_rsi.abandonedCheckouts.onSubmit()}),_rsi.s.general.hasAbandonedOrdersV2&&setTimeout(_rsi.abandonedCheckouts.onV2Timeout,5e3))},onV2Timeout:function(){var r;_rsi.form.saveData.cachedData&&!_rsi.abandonedCheckouts.alreadySendingV2&&_rsi.form.saveData.cachedData.formData&&_rsi.form.saveData.cachedData.cartData&&(r=!1,_rsi.form.saveData.cachedData.formData.forEach(function(t){var e=t.value.trim();("email"==t.name||"phone"==t.name)&&0<e.length&&_rsi.s.form.fields.items_array.forEach(function(e){e.backendFields.name==t.name&&_rsi.form.validation.checkField(e,t,!0)&&(r=!0)})}),r&&(_rsi.abandonedCheckouts.onSubmit(!0),_rsi.abandonedCheckouts.alreadySendingV2=!0)),setTimeout(_rsi.abandonedCheckouts.onV2Timeout,5e3)},onSubmit:function(e){if(_rsi.form.saveData.cachedData){if(_rsi.upsells.isPostPurchase&&"upsells"==_rsi.s.form.currentPage){if(_rsi.abandonedCheckouts.alreadySendingPostPurchaseAbandon&&!e)return}else if(_rsi.abandonedCheckouts.alreadySending&&!e)return;if(_rsi.form.saveData.cachedData.formData&&_rsi.form.saveData.cachedData.cartData&&void 0!==_rsi.form.saveData.cachedData.cartData.total_price){e||(_rsi.abandonedCheckouts.alreadySending=!0);var r=!1;if(_rsi.form.saveData.cachedData.formData.forEach(function(t){var e=t.value.trim();("email"==t.name||"phone"==t.name)&&0<e.length&&_rsi.s.form.fields.items_array.forEach(function(e){e.backendFields.name==t.name&&_rsi.form.validation.checkField(e,t,!0)&&(r=!0)})}),r){var t=_rsi.s.form.postUrl+"?is_abandoned_checkout=true";if(_rsi.upsells.isPostPurchase&&"upsells"==_rsi.s.form.currentPage)e||(_rsi.abandonedCheckouts.alreadySendingPostPurchaseAbandon=!0),t=_rsi.s.form.postUrl+"?is_abandoned_post_purchase_upsell=true";else if(!_rsi.s.abandonedCheckouts.isEnabled)return;navigator.sendBeacon(t,JSON.stringify(_rsi.form.saveData.cachedData))}else _rsi.abandonedCheckouts.alreadySending=!1}}}},messages:{otp:{isEnabled:!1,currentPhone:!1,phoneField:!1,otpValue:[],tries:0,page:"init",blockActions:!1,formData:!1,firstInit:function(){try{var t=!1;_rsi.s.form.fields.items_array.forEach(function(e){"phone"==e.type&&e.isActive&&(t=!0)}),_rsi.s.messOtp&&t&&_rsi.s.messOtp.isEnabled&&(_rsi.messages.otp.isEnabled=!0)}catch(e){console.log(e)}},init:function(e){if(_rsi.s.messOtp.isEnabled&&e)if(_rsi.messages.otp.otpValue=[],_rsi.messages.otp.tries=0,_rsi.messages.otp.blockActions=!1,_rsi.messages.otp.page="init",_rsi.messages.otp.currentPhone=!1,(_rsi.messages.otp.formData=e).formData.forEach(function(e){"phone"==e.name&&(_rsi.messages.otp.currentPhone=e.value)}),_rsi.messages.otp.currentPhone){try{_rsi.messages.otp.currentPhone=_rsi.messages.otp.currentPhone.replace(_rsi.s.localization.country.phonePrefix,""),_rsi.messages.otp.currentPhone=_rsi.s.localization.country.phonePrefix+_rsi.messages.otp.currentPhone.replace(/[^0-9٠١٢٣٤٥٦٧٨٩]+/g,"")}catch(e){console.log(e)}_rsi.s.form.fields.items_array.forEach(function(e){"phone"==e.type&&(_rsi.messages.otp.phoneField=e)}),_rsi.s.form.isEmbedded&&(document.getElementById("_rsi-cod-form-modal")||document.querySelector("body").insertAdjacentHTML("beforeend",_rsi.form.generateBaseCode()),_rsi.messages.otp.openEmptyLoading()),_rsi.messages.otp.getOpt(function(e){e?(_rsi.messages.otp.page,_rsi.messages.otp.open(),_rsi.tracking.eventsHanlders.otpPage()):_rsi.messages.otp.submitOrder()})}else _rsi.messages.otp.submitOrder()},openEmptyLoading:function(){document.querySelector("#_rsi-cod-form-modal > ._rsi-modal-container").innerHTML='<div id="_rsi-cod-form-modal-form" class="_rsi-modal-form"><div class="_rsi-modal-loading-page"><svg class="_rsi-modal-loading-icon" style="margin: auto; display: block; shape-rendering: auto;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="#565656" stroke-width="7" r="35" stroke-dasharray="164.93361431346415 56.97787143782138"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div>',document.querySelector("#_rsi-cod-form-modal ._rsi-modal-container").classList.remove("_rsi-modal-events-disabled"),document.querySelector("#_rsi-cod-form-modal").classList.add("_rsi-cod-form-modal-open")},calculateLocale:function(){var t="en";try{var e=Shopify.locale;-1<e.indexOf("-")&&(e=e.split("-")[0]),_rsi.messages.otp.formData&&_rsi.messages.otp.formData.formData.forEach(function(e){"locale_overwrite"==e.name&&(t=e.value)}),t=e}catch(e){console.log(e)}return t},getOpt:function(t){_rsi.messages.otp.blockActions=!0;var e=_rsi.messages.otp.calculateLocale();_rsi.u.ajax("POST",_rsi.s.messOtp.postUrl,JSON.stringify({shop:Shopify.shop,phoneNumber:_rsi.messages.otp.currentPhone,countryCode:_rsi.s.localization.country.code,locale:e}),function(e){if((e=JSON.parse(e)).otpSupported){if(!e.otpValue)return t(!1),void(_rsi.messages.otp.blockActions=!1);_rsi.messages.otp.otpValue.push(e.otpValue),_rsi.messages.otp.tries++,_rsi.messages.otp.blockActions=!1,t(!0)}else t(!1),_rsi.messages.otp.blockActions=!1},function(e){t(!1),_rsi.messages.otp.blockActions=!1})},open:function(){_rsi.messages.otp.build(),document.querySelector("#_rsi-cod-form-modal").classList.add("_rsi-cod-form-modal-open"),document.querySelector("._rsi-modal-container").classList.remove("_rsi-modal-events-disabled"),"init"==_rsi.messages.otp.page?(document.querySelector("#_rsi-cod-form-otp-verify").addEventListener("click",_rsi.messages.otp.onVerifyClick),document.querySelector("#_rsi-cod-form-otp-resend").addEventListener("click",_rsi.messages.otp.onResendClick),document.querySelector("#_rsi-cod-form-otp-change-number").addEventListener("click",_rsi.messages.otp.onChangePhoneClick)):"phone_change"==_rsi.messages.otp.page&&document.querySelector("#_rsi-cod-form-change-phone-button").addEventListener("click",_rsi.messages.otp.onNewPhoneClick)},onVerifyClick:function(e){var t,r;e&&e.preventDefault(),_rsi.messages.otp.blockActions||(t=(t=document.querySelector("#_rsi-modal-otp-code").value).trim().replace(/\D+/g,""),_rsi.form.validation.clearFieldErrors(),r=!1,4==t.length&&_rsi.messages.otp.otpValue.forEach(function(e){e==t&&(r=!0)}),r?_rsi.messages.otp.submitOrder(!0):(document.querySelector("#_rsi-modal-otp-code").closest("._rsi-modal-fields-item").classList.add("_rsi-modal-fields-item-error"),document.querySelector("#_rsi-modal-otp-code").closest("._rsi-modal-fields-item").insertAdjacentHTML("beforeend",'<p class="_rsi-modal-fields-item-error-text">'+_rsi.s.messOtp.tInvalidCode+"</p>")))},onResendClick:function(e){e&&e.preventDefault(),_rsi.messages.otp.blockActions||(document.querySelector("._rsi-cod-form-otp-resend-message")&&document.querySelector("._rsi-cod-form-otp-resend-message").remove(),_rsi.messages.otp.tries<_rsi.s.messOtp.attempts?_rsi.messages.otp.getOpt(function(e){document.querySelector("._rsi-cod-form-otp-resend-container").insertAdjacentHTML("beforeend",'<p class="_rsi-cod-form-otp-resend-message _rsi-cod-form-otp-resend-message-positive">'+_rsi.s.messOtp.tNewCodeSent.replace("{phone_number}","<b>"+_rsi.messages.otp.currentPhone+"</b>")+"</p>")}):document.querySelector("._rsi-cod-form-otp-resend-container").insertAdjacentHTML("beforeend",'<p class="_rsi-cod-form-otp-resend-message _rsi-cod-form-otp-resend-message-negative">'+_rsi.s.messOtp.tAttemptsExceeded+"</p>"))},onChangePhoneClick:function(e){e&&e.preventDefault(),_rsi.messages.otp.blockActions||(_rsi.messages.otp.page="phone_change",_rsi.messages.otp.open())},onNewPhoneClick:function(e){var t,r,o;e&&e.preventDefault(),_rsi.messages.otp.blockActions||(t=(t=document.querySelector("#_rsi-modal-phone-number-input").value).trim().replace(/[^0-9٠١٢٣٤٥٦٧٨٩]+/g,""),r=_rsi.messages.otp.phoneField,_rsi.form.validation.clearFieldErrors(),document.querySelector("._rsi-modal-fields-new-phone-error-text")&&document.querySelector("._rsi-modal-fields-new-phone-error-text").remove(),e=!0,0<t.length?_rsi.s.localization.country.phoneLength?(o=t.length)>=_rsi.s.localization.country.phoneLength[0]&&o<=_rsi.s.localization.country.phoneLength[1]||(e=!1):(o=!1,r.n&&(r.n.minL||r.n.maxL)&&(o=!0),o&&(o=!1,r.n.minL&&t.length<r.n.minL&&(o=!0),r.n.maxL&&t.length>r.n.maxL&&(o=!0),o&&(e=!1)),3<t.length||(e=!1)):e=!1,e?(_rsi.messages.otp.otpValue=[],_rsi.messages.otp.tries=0,_rsi.messages.otp.currentPhone=_rsi.s.localization.country.phonePrefix+t,_rsi.messages.otp.getOpt(function(){_rsi.messages.otp.page="init",_rsi.messages.otp.open()})):(document.querySelector("#_rsi-modal-phone-number-input").closest("._rsi-modal-fields-item").classList.add("_rsi-modal-fields-item-error"),document.querySelector("._rsi-modal-fields-new-phone._rsi-modal-fields-item").insertAdjacentHTML("afterend",'<p class="_rsi-modal-fields-new-phone-error-text">'+_rsi.s.form.generalTexts.errors.invalidPhone+"</p>")))},submitOrder:function(e){_rsi.s.form.currentPage="otp_verification";var t="";if(_rsi.messages.otp.currentPhone&&(t=_rsi.messages.otp.currentPhone.replace(_rsi.s.localization.country.phonePrefix,"")),_rsi.s.form.isEmbedded){if(document.querySelector('#_rsi-cod-form-embed input[data-type="phone"]')&&(document.querySelector('#_rsi-cod-form-embed input[data-type="phone"]').value=t),e)try{document.querySelector("#_rsi-cod-form-embed #_rsi-cod-form-modal-form")&&document.querySelector("#_rsi-cod-form-embed #_rsi-cod-form-modal-form").insertAdjacentHTML("afterbegin",'<input type="hidden" name="otp_verified_timestamp" value="'+(new Date).toUTCString()+'">')}catch(e){console.log(e)}_rsi.form.embedded.onSubmit(!1,!0)}else{if(_rsi.messages.otp.formData.formData.forEach(function(e){"phone"==e.name&&(e.value=t)}),e)try{_rsi.messages.otp.formData.formData.push({name:"otp_verified_timestamp",value:(new Date).toUTCString()}),_rsi.form.saveData.cachedData&&(_rsi.form.saveData.cachedData=_rsi.messages.otp.formData)}catch(e){console.log(e)}_rsi.form.onSubmit(!1,!1,_rsi.messages.otp.formData,!0)}},build:function(){var e="";if(e+='<div class="_rsi-cod-form-otp-popup _rsi-modal-form">',e+=' <svg class="_rsi-cod-form-otp-popup-icon" version="1.1" viewBox="0 0 6.35 6.35" xmlns="http://www.w3.org/2000/svg"><g transform="translate(345.6 -193.4)" stroke-width=".2646"><path d="m-324.3 185.8h6.35v6.35h-6.35z" fill="none"></path><path d="m-321.1 191.1-0.2275-0.2276c-0.3122-0.3122-0.3096-0.8202 5e-3 -1.127l0.2222-0.217c-0.1032-0.0106-0.1799-0.0159-0.2646-0.0159-0.7064 0-2.117 0.3545-2.117 1.058v0.5292zm-0.2646-2.117c0.5847 0 1.058-0.4736 1.058-1.058s-0.4736-1.058-1.058-1.058-1.058 0.4736-1.058 1.058 0.4736 1.058 1.058 1.058"></path><path d="m-341.3 196.3c-0.1032 0.1032-0.2725 0.1032-0.3757 0l-0.5477-0.553c-0.1005-0.1032-0.1005-0.2672 0-0.3678l3e-3 -3e-3c0.1032-0.1032 0.2699-0.1032 0.3704 0l0.3625 0.3625 1.172-1.18c0.1032-0.1032 0.2699-0.1032 0.3731 0l3e-3 3e-3c0.1005 0.1032 0.1005 0.2672 0 0.3678z"></path><path d="m-345.6 193.4h6.35v6.35h-6.35z" fill="none"></path><path d="m-340.5 197.4-0.672-0.0767c-0.1614-0.0185-0.3202 0.037-0.4339 0.1508l-0.4868 0.4868c-0.7488-0.381-1.363-0.9922-1.744-1.744l0.4895-0.4895c0.1138-0.1138 0.1693-0.2725 0.1508-0.4339l-0.0767-0.6668c-0.0317-0.2672-0.2566-0.4683-0.5265-0.4683h-0.4577c-0.299 0-0.5477 0.2487-0.5292 0.5477 0.1402 2.26 1.947 4.064 4.204 4.204 0.299 0.0185 0.5477-0.2302 0.5477-0.5292v-0.4577c3e-3 -0.2672-0.1984-0.4921-0.4657-0.5239z"></path></g></svg>',e+='<div class="_rsi-cod-form-otp-popup-title">'+_rsi.s.messOtp.tTitle+"</div>","init"==_rsi.messages.otp.page)e+='<div class="_rsi-cod-form-otp-popup-description">'+_rsi.s.messOtp.tDescription.replace("{phone_number}","<b>"+_rsi.messages.otp.currentPhone+"</b>")+"</div>",e+='<div class="_rsi-cod-form-otp-popup-actions">',e+='<div class="_rsi-cod-form-otp-main-actions">',e+='<div class="_rsi-modal-fields-item _rsi-modal-fields-otp-code"><input id="_rsi-modal-otp-code" type="tel" autocomplete="off" placeholder="'+_rsi.s.messOtp.tYourCode+'"></div>',e+='<button id="_rsi-cod-form-otp-verify" class="_rsi-cod-form-otp-button" type="button">'+_rsi.s.messOtp.tVerify+"</button>",e+="</div>",e+='<div class="_rsi-cod-form-otp-secondary-actions">',e+='<div class="_rsi-cod-form-otp-resend-container"><button id="_rsi-cod-form-otp-resend" class="_rsi-cod-form-otp-button" type="button">'+_rsi.s.messOtp.tResend+"</button></div>",e+='<button id="_rsi-cod-form-otp-change-number" class="_rsi-cod-form-otp-button" type="button">'+_rsi.s.messOtp.tChangePhone+"</button>",e+="</div>",e+="</div>",e+="</div>";else if("phone_change"==_rsi.messages.otp.page){e+='<div class="_rsi-cod-form-otp-popup-actions _rsi-cod-form-otp-popup-actions-change-phone">';var t="00000000000";try{_rsi.messages.otp.phoneField&&(t=_rsi.messages.otp.phoneField.label,_rsi.messages.otp.phoneField.n.ph&&(t=_rsi.messages.otp.phoneField.n.ph))}catch(e){console.log(e)}e+='<div class="_rsi-cod-form-otp-main-actions _rsi-cod-form-otp-main-actions-change-phone">',e+='<div class="_rsi-modal-fields-item _rsi-modal-fields-otp-code _rsi-modal-fields-new-phone" data-country-code="'+_rsi.s.localization.country.phonePrefix+'"><input id="_rsi-modal-phone-number-input" type="tel" autocomplete="off" placeholder="'+t+'"></div>',e+='<button id="_rsi-cod-form-change-phone-button" class="_rsi-cod-form-otp-button" type="button">'+_rsi.s.messOtp.tChangePhone+"</button>",e+="</div>",e+="</div>"}e+="</div>",document.querySelector("#_rsi-cod-form-modal > ._rsi-modal-container").innerHTML=e}}},mlc:{isEnabled:!1,selectedCountry:!1,primaryCountry:!1,init:function(e){if(e&&(_rsi.mlc.isEnabled=!1,_rsi.mlc.primaryCountry=!1),_rsi.s.localization.multiCountries_array&&1<_rsi.s.localization.multiCountries_array.length&&(_rsi.mlc.isEnabled=!0),_rsi.mlc.isEnabled){if(_rsi.mlc.selectedCountry=!1,delete _rsi.s.localization.country.phoneLength,!_rsi.mlc.primaryCountry){var t=!1;if(_rsi.s.localization.multiCountries_array.forEach(e=>{e.code==_rsi.s.localization.countryCode&&(t=e)}),!t)return;_rsi.mlc.primaryCountry=t}var r=!1;_rsi.s.form.fields.items_array.forEach(e=>{-1<e.type.indexOf("additionals_country_selector")&&0==e.isActive&&(r=!0)}),r&&!e?(e=function(e){_rsi.visiblity.cachedCountry=e;var t=_rsi.s.localization.multiCountries_array[0].code;_rsi.s.localization.multiCountries_array.forEach(e=>{e.code==_rsi.visiblity.cachedCountry&&(t=e.code)}),_rsi.mlc.open(),document.querySelector("#_rsi-cod-form-modal-form select[name=country_code]").value=t,_rsi.mlc.onCountrySelect(!0)},_rsi.visiblity.cachedCountry?e(_rsi.visiblity.cachedCountry):_rsi.u.ajax("GET",_rsi.visiblity.getCountryEndpoint,null,e,null,null,!1,!0)):_rsi.mlc.open()}},open:function(){var t,r,e;document.querySelector("#rsi-country-selector-skeleton")&&!document.querySelector('select[data-type*="additionals_country_selector"]')&&(t=!1,_rsi.s.form.fields.items_array.forEach(e=>{-1<e.type.indexOf("additionals_country_selector")&&(t=JSON.parse(JSON.stringify(e)))}),t&&(r=[],_rsi.s.localization.multiCountries_array.forEach(e=>{r.push({label:_rsi.u.getLocaleTranslation(e.label),value:e.code})}),t.backendFields.options=r,e="",e+='<div class="_rsi-modal-fields-item">',e+=_rsi.form.fields.processCountryFields(t),e+="</div>",document.querySelector("#_rsi-cod-form-modal-form input[name=country_code]")&&document.querySelector("#_rsi-cod-form-modal-form input[name=country_code]").remove(),document.querySelector("#rsi-country-selector-skeleton").insertAdjacentHTML("afterend",e),document.querySelector("#_rsi-cod-form-modal-form select[name=country_code]").addEventListener("change",_rsi.mlc.onCountrySelect),_rsi.mlc.onCountrySelect()))},onCountrySelect:function(e){var t,r,o,i,s=document.querySelector("#_rsi-cod-form-modal-form select[name=country_code]").value,a=!1;_rsi.s.localization.multiCountries_array.forEach(e=>{e.code==s&&(a=e)}),_rsi.mlc.selectedCountry=a,s&&(_rsi.s.localization.countryCode=s,_rsi.s.localization.country=a),document.querySelector('#_rsi-cod-form-modal-form [data-type="province"], #_rsi-cod-form-modal-form [data-type="province_country_field"]')&&((t=document.querySelector('#_rsi-cod-form-modal-form [data-type="province"], #_rsi-cod-form-modal-form [data-type="province_country_field"]').closest("._rsi-modal-fields-item")).innerHTML="",o=r=!1,_rsi.s.form.fields.items_array.forEach(e=>{"province"!=e.type&&"province_country_field"!=e.type||(o=e.type)}),_rsi.mlc.selectedCountry?_rsi.mlc.selectedCountry.fields.forEach(e=>{"province"!=e.type&&"province_country_field"!=e.type||(r=JSON.parse(JSON.stringify(e)))}):_rsi.mlc.primaryCountry.fields.forEach(e=>{"province"!=e.type&&"province_country_field"!=e.type||(r=JSON.parse(JSON.stringify(e))).backendFields.options&&(r.backendFields.options=[])}),r&&(r.showIcon?t.classList.add("_rsi-modal-fields-item-with-icon"):t.classList.remove("_rsi-modal-fields-item-with-icon"),i=t.type,r.label&&(r.label=_rsi.u.getLocaleTranslation(r.label)),r.n&&r.n.ph&&(r.n.ph=_rsi.u.getLocaleTranslation(r.n.ph)),t.innerHTML="province_country_field"==i?_rsi.form.fields.processCountryFields(r):_rsi.form.fields.process(r),o&&t.querySelector("[data-type]").setAttribute("data-type",o))),_rsi.form.discounts.updateTotalAmount(!1,!1,!e),_rsi.form.inlineVal.init(),_rsi.form.provListn.init(),"function"==typeof _COD_FORM_ON_COUNTRY_CHANGE_END&&_COD_FORM_ON_COUNTRY_CHANGE_END()}},dss:{currentOffer:!1,activeDiscount:!1,offersCache:!1,disOtherDisc:!1,closes:0,offerShown:!1,init:function(){try{return _rsi.cart?"undefined"!=typeof _RSI_COD_FORM_DOWNSELLS&&(!_rsi.dss.offerShown&&(!_rsi.dss.activeDiscount&&(!!document.querySelector("#_rsi-cod-form-modal._rsi-cod-form-modal-open")&&(!_rsi.u.queryStringToJSON(window.location.search.replace("?","")).rsi_ac_ds&&(_rsi.dss.closes++,_rsi.dss.currentOffer=!1,_rsi.dss.offersCache||(_rsi.dss.offersCache=_RSI_COD_FORM_DOWNSELLS),_rsi.dss.offersCache.forEach(t=>{var e,r;_rsi.dss.currentOffer||t.isActive&&(e=!1,"all"==t.prods?e=!0:(r=!0,_rsi.cart.items.forEach(e=>{-1==t.prods.indexOf(e.product_id+"")&&(r=!1)}),r&&(e=!0)),e&&_rsi.dss.closes>=t.minCl&&(_rsi.dss.currentOffer=t))}),!!_rsi.dss.currentOffer&&(!(_rsi.dss.currentOffer.disForDisc&&0<_rsi.form.discounts.codesApplied.length)&&(_rsi.dss.build(),document.querySelector("#_rsi-modal-submit-button-downsell").addEventListener("click",_rsi.dss.onSubmit),document.querySelector("#_rsi-modal-submit-button-downsell-no-thanks").addEventListener("click",_rsi.dss.onThank),_rsi.dss.currentOffer.atB.shkT&&"none"!=_rsi.dss.currentOffer.atB.shkT&&(_rsi.buyButton.cleanShakerIntervals(),_rsi.buyButton.runShaker("#_rsi-modal-submit-button-downsell")),_rsi.dss.offerShown=!0,_rsi.form.updateCurrencies(),_rsi.metrics.addMetric("downsells-impression-"+_rsi.dss.currentOffer.id,{count:1}),_rsi.metrics.sendQueue(.1),!0))))))):!1}catch(e){return console.log(e),!1}},onSubmit:function(e){e&&e.preventDefault(),_rsi.dss.activeDiscount={type:_rsi.dss.currentOffer.ds.t,value:_rsi.dss.currentOffer.ds.v,downsellId:_rsi.dss.currentOffer.id},_rsi.dss.currentOffer.disForDisc&&(_rsi.dss.disOtherDisc=!0),_rsi.s.form.currentPage="closed",_rsi.form.open(!1,!1,!0,_rsi.cart)},onThank:function(e){e&&e.preventDefault(),document.querySelector("#_rsi-downsells-modal").remove(),_rsi.dss.activeDiscount=!1,_rsi.form.onClose(!1,!0)},build:function(){var e="",t=_rsi.dss.currentOffer;e+='<div id="_rsi-downsells-modal" class="_rsi-downsells-modal"><div class="_rsi-downsells-container'+(_rsi.s.form.isRtlEnabled?" _rsi-modal-container-rtl":"")+'">',t.title&&(e+='<div class="_rsi-downsells-title" style="color: '+t.titleC+'">'+t.title+"</div>"),t.subt&&(e+='<div class="_rsi-downsells-subt" style="color: '+t.subtC+'">'+t.subt+"</div>");var r="";"fixed_amount"==t.ds.t?r=_rsi.u.formatMoney(t.ds.v,"amount_with_comma_separator",!1,!0):"percentage"==t.ds.t&&(r=Math.floor(t.ds.v/100)+"%"),e+='<div class="_rsi-downsells-discount">',t.plque.text&&(e+='<div class="_rsi-downsells-discount-text" style="color: '+t.plque.textC+'">'+t.plque.text+"</div>");var o="clip-path: polygon(50% 0%, 58.64% 9.34%, 70.34% 4.32%, 74.43% 16.37%, 87.16% 16.54%, 86% 29.21%, 97.55% 34.55%, 91.34% 45.65%, 99.73% 55.23%, 89.54% 62.85%, 93.30% 75%, 80.89% 77.82%, 79.39% 90.45%, 66.91% 87.98%, 60.40% 98.91%, 50% 91.57%, 39.60% 98.91%, 33.09% 87.98%, 20.61% 90.45%, 19.11% 77.82%, 6.70% 75%, 10.46% 62.85%, 0.27% 55.23%, 8.66% 45.65%, 2.45% 34.55%, 14% 29.21%, 12.84% 16.54%, 25.57% 16.37%, 29.66% 4.32%, 41.36% 9.34%); background: "+t.plque.bgC+";";e+='<div class="_rsi-downsells-discount-plaque" style="width: calc(135px * '+t.plque.widthF+"); height: calc(135px * "+t.plque.widthF+"); "+o+" color: "+t.plque.c+';">'+r+"</div>",e+="</div>",t.eText&&(e+='<div class="_rsi-downsells-subt" style="color: '+t.eTextC+'">'+t.eText+"</div>");var i,s=_rsi.btnIconData,a="";try{"none"!=t.atB.icT&&s[t.atB.icT]&&(a=s[t.atB.icT].svgComponent,i=s[t.atB.icT].initialWidth*t.atB.fsF,a=a.replace("{color}",t.atB.c).replace("{width}",i))}catch(e){console.log(e)}var n="font-size: calc("+t.atB.fsF+" * 16px) !important;",o="font-size: calc("+t.ntB.fsF+" * 16px) !important;";e+='<button type="button" id="_rsi-modal-submit-button-downsell" style="background: '+t.atB.bgC+" !important; color: "+t.atB.c+" !important; border-radius: "+t.atB.bR+"px !important; border: "+t.atB.bW+"px solid "+t.atB.bC+" !important; box-shadow: 0 2px 7px 0px rgba(0, 0, 0, "+t.atB.shO+") !important; "+(n||"")+'" class="_rsi-modal-submit-button _rsi-buy-now-button _rsi-modal-submit-button-upsell'+(t.atB.shkT&&"none"!=t.atB.shkT?" _rsi-buy-now-button-shaker":"")+'" '+(t.atB.shkT?'data-animation-type="'+t.atB.shkT+'"':"")+"><span>"+t.atB.t.replace("{discount}",r)+"</span>"+(a||"")+"</button>",e+='<button type="button" id="_rsi-modal-submit-button-downsell-no-thanks" style="background: '+t.ntB.bgC+" !important; color: "+t.ntB.c+" !important; border-radius: "+t.ntB.bR+"px !important; border: "+t.ntB.bW+"px solid "+t.ntB.bC+" !important; box-shadow: 0 2px 7px 0px rgba(0, 0, 0, "+t.ntB.shO+") !important; "+(o||"")+'" class="_rsi-modal-submit-button _rsi-buy-now-button _rsi-modal-submit-button-upsell-no-thanks">'+t.ntB.t+"</button>",e+="</div></div>",document.querySelector("#_rsi-cod-form-modal._rsi-cod-form-modal-open").insertAdjacentHTML("afterbegin",e)}},upsells:{isEnabled:!1,isPostPurchase:!1,cachedUpsellData:{},cachedUpsellResult:{},upselledProduct:!1,discardedProductIds:[],postPurchaseFormData:!1,prePurchaseCart:!1,defaultCodeText:"CUSTOM DISCOUNT",init:function(){if(_rsi.s.upsells.isEnabled){if(_rsi.upsells.isEnabled=!0,(_rsi.s.upsells.isPostPurchase||_rsi.s.form.isEmbedded)&&(_rsi.upsells.isPostPurchase=!0),_rsi.cartManager.getCart(!1,function(e){_rsi.upsells.cachedUpsellData.normalCart={products:[],shop:Shopify.shop},e.items.forEach(function(e){_rsi.upsells.cachedUpsellData.normalCart.products.push({id:e.product_id,variantId:e.variant_id})})},!0),-1<window.location.pathname.indexOf("/products")){function t(e){_rsi.upsells.cachedUpsellData.productCart={products:[],shop:Shopify.shop},_rsi.upsells.cachedUpsellData.productCart.products.push({id:e.id})}if(document.querySelector('#rsi-cod-form-product-cache, [id*="ProductJson"]'))try{var e=JSON.parse(document.querySelector('#rsi-cod-form-product-cache, [id*="ProductJson"]').textContent);t(e)}catch(e){console.log(e)}else _rsi.u.ajax("GET",window.location.pathname+".js",null,function(e){e=JSON.parse(e),t(e)},null,null,!0)}try{var r=document.createElement("link");r.href=window._RSI_COD_FORM_SWIFFY_CSS_URL||"https://cdn.jsdelivr.net/npm/swiffy-slider@1.5.3/dist/css/swiffy-slider.min.css",r.type="text/css",r.rel="stylesheet",r.crossorigin="anonymous",document.getElementsByTagName("head")[0].appendChild(r);r=document.createElement("script");r.type="text/javascript",r.crossorigin="anonymous",r.src=window._RSI_COD_FORM_SWIFFY_JS_URL||"https://cdn.jsdelivr.net/npm/swiffy-slider@1.5.3/dist/js/swiffy-slider.min.js",document.getElementsByTagName("head")[0].appendChild(r)}catch(e){console.log("ERROR: error while loading slider for upsells.",e)}}},open:function(s,e){var t;_rsi.upsells.isPostPurchase&&s&&(_rsi.upsells.postPurchaseFormData=s,_rsi.form.saveData.cachedData=_rsi.upsells.postPurchaseFormData),_rsi.upsells.isPostPurchase||(_rsi.upsells.prePurchaseCart=!1),e&&!_rsi.upsells.isPostPurchase?(_rsi.upsells.prePurchaseCart=e,_rsi.upsells.updateCacheDataForCart(e)):_rsi.upsells.isPostPurchase&&_rsi.cart&&_rsi.upsells.updateCacheDataForCart(_rsi.cart),_rsi.upsells.cachedUpsellData[_rsi.form.mode]&&_rsi.upsells.cachedUpsellData[_rsi.form.mode].products&&_rsi.upsells.cachedUpsellData[_rsi.form.mode].products.length?(t=function(e){if(Array.isArray(e.products))if(e.products.length){var r=!1,t=[];if(_rsi.upsells.cachedUpsellData.normalCart&&_rsi.upsells.cachedUpsellData.normalCart.products&&(t=t.concat(_rsi.upsells.cachedUpsellData.normalCart.products)),_rsi.upsells.cachedUpsellData.productCart&&_rsi.upsells.cachedUpsellData.productCart.products&&(t=t.concat(_rsi.upsells.cachedUpsellData.productCart.products)),e.products.forEach(function(e){var t=!1;e.isAlreadyUpselled||(-1<_rsi.upsells.discardedProductIds.indexOf(e.id)&&(t=!0),e.hasOnlyDefaultVariant&&!e.variants[0].availableForSale&&(t=!0),t||(r=e))}),!1!==r){_rsi.upsells.upselledProduct=r,document.querySelector("#_rsi-cod-form-modal ._rsi-modal-container")&&document.querySelector("#_rsi-cod-form-modal ._rsi-modal-container").classList.remove("_rsi-modal-events-disabled"),_rsi.upsells.mergeV2Upsells(),_rsi.s.form.currentPage="upsells";var o,i="";try{s&&s.formData.forEach(e=>{"first_name"==e.name&&-1<(i=e.value).indexOf(" ")&&(i=i.split(" ")[0])})}catch(e){console.log(e)}_rsi.upsells.build(i),_rsi.upsells.isPostPurchase&&_rsi.abandonedCheckouts.onSubmit(),_rsi.metrics.addMetric("upsells1Click-impression-"+_rsi.upsells.upselledProduct.uData.id,{count:1}),_rsi.metrics.sendQueue(),swiffyslider?document.querySelector("._rsi-modal-upsell-images-slider")&&(o=document.querySelector("._rsi-modal-upsell-images-slider"),swiffyslider.initSlider(o),document.querySelector("._rsi-modal-upsell-images-slider-arrow-next")&&document.querySelector("._rsi-modal-upsell-images-slider-arrow-prev")&&(document.querySelector("._rsi-modal-upsell-images-slider-arrow-next").addEventListener("click",function(){swiffyslider.slide(o,!0)}),document.querySelector("._rsi-modal-upsell-images-slider-arrow-prev").addEventListener("click",function(){swiffyslider.slide(o,!1)}))):document.querySelector("._rsi-modal-upsell-images-slider")&&(document.querySelector("._rsi-modal-upsell-images-slider").style.display="none"),_rsi.upsells.initQuantitySelector(),document.querySelector("#_rsi-cod-form-modal-upsell").addEventListener("submit",function(e){e.preventDefault()}),document.querySelector("#_rsi-modal-submit-button-upsell").addEventListener("click",function(e){e.preventDefault(),_rsi.upsells.onSubmit("add")}),document.querySelector("#_rsi-modal-submit-button-upsell-no-thanks").addEventListener("click",function(e){e.preventDefault(),_rsi.upsells.onSubmit("noThanks")}),document.querySelector("#_rsi-cod-form-modal-close")&&document.querySelector("#_rsi-cod-form-modal-close").addEventListener("click",_rsi.upsells.onClose),_rsi.upsells.initVariants(),_rsi.upsells.initCountdown(),(_rsi.s.upsells.addButton.shakerEnabled||_rsi.s.upsells.addButton.shakerType&&"none"!=_rsi.s.upsells.addButton.shakerType)&&(_rsi.buyButton.cleanShakerIntervals(),_rsi.buyButton.runShaker("._rsi-modal-submit-button._rsi-buy-now-button._rsi-modal-submit-button-upsell"));try{document.querySelector("#_rsi-cod-form-modal").scroll(0,0)}catch(e){console.log(e)}_rsi.upsells.isPostPurchase&&_rsi.tracking.eventsHanlders.purchaseOnUpsell(_rsi.cart)}else _rsi.upsells.onClose()}else _rsi.upsells.onClose();else _rsi.upsells.onClose()},_rsi.upsells.cachedUpsellResult[_rsi.form.mode]?t(_rsi.upsells.cachedUpsellResult[_rsi.form.mode]):_rsi.u.ajax("POST",_rsi.s.upsells.postUrl,JSON.stringify(_rsi.upsells.cachedUpsellData[_rsi.form.mode]),function(e){e=JSON.parse(e),_rsi.upsells.cachedUpsellResult[_rsi.form.mode]=e,t(e)},function(e){_rsi.upsells.onClose()})):_rsi.upsells.onClose()},mergeV2Upsells:function(){var e=_rsi.upsells.upselledProduct;e.uData.cs&&(_rsi.s.upsells.showQuantitySelector=e.uData.cs.q,_rsi.s.upsells.addButton.style.bgColor=e.uData.cs.atB.bgC,_rsi.s.upsells.addButton.style.color=e.uData.cs.atB.c,_rsi.s.upsells.addButton.style.borderRadius=e.uData.cs.atB.bR,_rsi.s.upsells.addButton.style.borderWidth=e.uData.cs.atB.bW,_rsi.s.upsells.addButton.style.borderColor=e.uData.cs.atB.bC,_rsi.s.upsells.addButton.style.shadowOpacity=e.uData.cs.atB.shO,_rsi.s.upsells.addButton.shakerEnabled=e.uData.cs.atB.shk,e.uData.cs.atB.shkT&&(_rsi.s.upsells.addButton.shakerType=e.uData.cs.atB.shkT),e.uData.cs.atB.icT&&(_rsi.s.upsells.addButton.iconType=e.uData.cs.atB.icT),e.uData.cs.atB.fsF&&(_rsi.s.upsells.addButton.style.fontSizeFactor=e.uData.cs.atB.fsF),_rsi.s.upsells.addButton.text=e.uData.cs.atB.t,_rsi.s.upsells.noThanksButton.style.bgColor=e.uData.cs.ntB.bgC,_rsi.s.upsells.noThanksButton.style.color=e.uData.cs.ntB.c,_rsi.s.upsells.noThanksButton.style.borderRadius=e.uData.cs.ntB.bR,_rsi.s.upsells.noThanksButton.style.borderWidth=e.uData.cs.ntB.bW,_rsi.s.upsells.noThanksButton.style.borderColor=e.uData.cs.ntB.bC,_rsi.s.upsells.noThanksButton.style.shadowOpacity=e.uData.cs.ntB.shO,e.uData.cs.ntB.fsF&&(_rsi.s.upsells.noThanksButton.style.fontSizeFactor=e.uData.cs.ntB.fsF),_rsi.s.upsells.noThanksButton.text=e.uData.cs.ntB.t),void 0!==e.uData.title&&e.uData.cs&&(_rsi.s.upsells.topText=e.uData.title),e.uData.desc&&(_rsi.upsells.upselledProduct.description=e.uData.desc,_rsi.upsells.upselledProduct.isCustomDesc=!0),e.uData.pTitle&&(_rsi.upsells.upselledProduct.title=e.uData.pTitle),_rsi.upsells.upselledProduct.hideClose=!!e.uData.hCl,_rsi.upsells.upselledProduct.hideVariants=!!e.uData.hVr,_rsi.upsells.upselledProduct.freeShipping=!!e.uData.freeS},build:function(e){var t=_rsi.upsells.upselledProduct;e=e||"";var r="",r='<form id="_rsi-cod-form-modal-upsell" autocomplete="off" method="post" novalidate class="_rsi-modal-form _rsi-modal-upsell">';r+='<div class="_rsi-modal-header"'+(t.hideClose?' style="display: none !important;"':"")+'><div class="_rsi-modal-header-title"> </div><button id="_rsi-cod-form-modal-close" class="_rsi-modal-close-button" type="button"><svg class="_rsi-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/></svg></button></div>';var o=_rsi.s.upsells.topText;o=(o=o.replace("{product_name}",t.title)).replace("{first_name}",e);var i="rgba(0,0,0,1)";t.uData.titleC&&(i=t.uData.titleC),r+='<div class="_rsi-modal-upsell-catch-title" style="color: '+i+'">'+o+"</div>";o=t.uData.subt;o&&(o=(o=o.replace("{product_name}",t.title)).replace("{first_name}",e),r+='<div class="_rsi-modal-upsell-catch-subt">'+o+"</div>"),r+='<div class="_rsi-modal-upsell-info'+(_rsi.s.upsells.showQuantitySelector?" _rsi-modal-upsell-info-with-quantity-selector":"")+'">',t.images&&0<t.images.length&&(r+='<div class="_rsi-modal-upsell-images-slider swiffy-slider slider-nav-dark slider-nav-outside slider-nav-touch slider-nav-autohide slider-nav-nodelay slider-indicators-round slider-indicators-dark slider-indicators-outside">',r+='<div class="slider-container">',t.images.forEach(function(e){r+='<div><img class="_rsi-modal-upsell-images-slider-slide" src="'+e.url+' /"></div>'}),r+="</div>",1<t.images.length&&(r+='<button class="_rsi-modal-upsell-images-slider-arrow _rsi-modal-upsell-images-slider-arrow-prev"></button><button class="_rsi-modal-upsell-images-slider-arrow _rsi-modal-upsell-images-slider-arrow-next"></button>'),r+="</div>"),r+='<div class="_rsi-modal-upsell-title">'+t.title+"</div>",t.description&&(r+='<div class="_rsi-modal-upsell-description'+(t.isCustomDesc?" _rsi-modal-upsell-description-custom":"")+'">'+t.description+"</div>"),r+='<div class="_rsi-modal-upsell-discount"><div class="_rsi-modal-upsell-discount-plaque"></div></div>';o="rgba(0,0,0,1)";t.uData.pPriceC&&(o=t.uData.pPriceC),r+='<div class="_rsi-modal-upsell-prices">',r+='<span class="_rsi-modal-upsell-compare-at-price"></span>',r+='<span class="_rsi-modal-upsell-price" style="color: '+o+'"></span>',r+="</div>",r+='<div class="_rsi-modal-upsell-countdown"></div>',r+='<input type="hidden" name="id" value="">',r+='<input type="hidden" name="free_shipping" value="'+(t.freeShipping?"true":"false")+'">',r+='<input id="_rsi-modal-upsell-discount-value" type="hidden" value="0">',r+='<input id="_rsi-modal-upsell-id" type="hidden" value="'+t.uData.id+'">',r+='<input id="_rsi-modal-upsell-total-price" type="hidden" value="0">',r+='<input id="_rsi-modal-upsell-quantity-input" type="hidden" name="quantity" value="1">',r+='<div class="_rsi-modal-upsell-variants"></div>',_rsi.s.upsells.showQuantitySelector&&(r+='<div class="_rsi-modal-upsell-quantity">',r+='<button type="button" id="_rsi-modal-remove-quantity-button-upsell" class="_rsi-modal-upsell-change-quantity-button"> <svg class="_rsi-icon" viewBox="0 0 24 24" fill="#000000"> <path d="M0 0h24v24H0V0z" fill="none"></path> <path d="M19 13H5v-2h14v2z"></path> </svg> </button>',r+='<span class="_rsi-modal-upsell-quantity-shower">1</span>',r+='<button type="button" id="_rsi-modal-add-quantity-button-upsell" class="_rsi-modal-upsell-change-quantity-button"> <svg class="_rsi-icon" viewBox="0 0 24 24" fill="#000000"> <path d="M0 0h24v24H0V0z" fill="none"></path> <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path> </svg> </button>',r+="</div>"),r+="</div>";var s,a=_rsi.btnIconData,n="";try{_rsi.s.upsells.addButton.iconType&&"none"!=_rsi.s.upsells.addButton.iconType&&a[_rsi.s.upsells.addButton.iconType]&&(n=a[_rsi.s.upsells.addButton.iconType].svgComponent,s=a[_rsi.s.upsells.addButton.iconType].initialWidth*_rsi.s.upsells.addButton.style.fontSizeFactor,n=n.replace("{color}",_rsi.s.upsells.addButton.style.color).replace("{width}",s))}catch(e){console.log(e)}o="";_rsi.s.upsells.addButton.style.fontSizeFactor&&(o="font-size: calc("+_rsi.s.upsells.addButton.style.fontSizeFactor+" * 16px) !important;");t="";_rsi.s.upsells.noThanksButton.style.fontSizeFactor&&(t="font-size: calc("+_rsi.s.upsells.noThanksButton.style.fontSizeFactor+" * 16px) !important;"),r+='<button type="button" id="_rsi-modal-submit-button-upsell" style="background: '+_rsi.s.upsells.addButton.style.bgColor+" !important; color: "+_rsi.s.upsells.addButton.style.color+" !important; border-radius: "+_rsi.s.upsells.addButton.style.borderRadius+"px !important; border: "+_rsi.s.upsells.addButton.style.borderWidth+"px solid "+_rsi.s.upsells.addButton.style.borderColor+" !important; box-shadow: 0 2px 7px 0px rgba(0, 0, 0, "+_rsi.s.upsells.addButton.style.shadowOpacity+") !important; "+(o||"")+'" class="_rsi-modal-submit-button _rsi-buy-now-button _rsi-modal-submit-button-upsell'+(_rsi.s.upsells.addButton.shakerEnabled||_rsi.s.upsells.addButton.shakerType&&"none"!=_rsi.s.upsells.addButton.shakerType?" _rsi-buy-now-button-shaker":"")+'" '+(_rsi.s.upsells.addButton.shakerType?'data-animation-type="'+_rsi.s.upsells.addButton.shakerType+'"':"")+"><span>"+_rsi.s.upsells.addButton.text+"</span>"+(n||"")+"</button>",r+='<button type="button" id="_rsi-modal-submit-button-upsell-no-thanks" style="background: '+_rsi.s.upsells.noThanksButton.style.bgColor+" !important; color: "+_rsi.s.upsells.noThanksButton.style.color+" !important; border-radius: "+_rsi.s.upsells.noThanksButton.style.borderRadius+"px !important; border: "+_rsi.s.upsells.noThanksButton.style.borderWidth+"px solid "+_rsi.s.upsells.noThanksButton.style.borderColor+" !important; box-shadow: 0 2px 7px 0px rgba(0, 0, 0, "+_rsi.s.upsells.noThanksButton.style.shadowOpacity+") !important; "+(t||"")+'" class="_rsi-modal-submit-button _rsi-buy-now-button _rsi-modal-submit-button-upsell-no-thanks">'+_rsi.s.upsells.noThanksButton.text+"</button>",r+="</form>",document.querySelector("#_rsi-cod-form-modal > ._rsi-modal-container").innerHTML=r,document.querySelector("#_rsi-cod-form-modal ._rsi-modal-container").classList.remove("_rsi-modal-events-disabled"),document.querySelector("#_rsi-cod-form-modal").classList.add("_rsi-cod-form-modal-open")},initVariants:function(){var e,o,i=_rsi.upsells.upselledProduct;i.hasOnlyDefaultVariant?(e=i.variants[0],_rsi.upsells.updateVariant(e)):(i.options.sort(function(e,t){return e.position-t.position}),o="",i.options.forEach(function(e){o+='<div class="_rsi-modal-upsell-variant-selector _rsi-modal-fields-item">',o+="<label>"+e.name+"</label>",o+='<select data-position="'+e.position+'">',e.values.forEach(function(t){if(1==i.options.length){var r=!1;if(i.variants.forEach(function(e){e.selectedOptions[0].value==t&&(e.availableForSale||(r=!0))}),r)return}o+='<option value="'+encodeURI(t)+'">'+t+"</option>"}),o+="</select>",o+="</div>"}),_rsi.upsells.upselledProduct.hideVariants&&(document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-variants").style.display="none"),document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-variants").innerHTML=o,_rsi.upsells.onOptionChange(!1,!0),document.querySelectorAll("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-variants ._rsi-modal-upsell-variant-selector > select").forEach(function(e){e.addEventListener("change",_rsi.upsells.onOptionChange)}))},onOptionChange:function(e,t){var r,o,i,s,a=_rsi.upsells.upselledProduct;a.hasOnlyDefaultVariant?(r=a.variants[0],_rsi.upsells.updateVariant(r)):(a.options.sort(function(e,t){return e.position-t.position}),o=[],a.options.forEach(function(e){o.push(e.name)}),i=[],document.querySelectorAll("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-variants ._rsi-modal-upsell-variant-selector > select").forEach(function(e){i.push({value:decodeURI(e.value),position:parseInt(e.getAttribute("data-position"))})}),i.sort(function(e,t){return e.position-t.position}),s=!1,a.variants.forEach(function(e){e.selectedOptions.sort(function(e){return o.indexOf(e.name)});var r=!0;e.selectedOptions.forEach(function(e,t){e.value!=i[t].value&&(r=!1)}),r&&(s=e)}),_rsi.upsells.updateVariant(s,t))},updateVariant:function(i,s){document.querySelector("#_rsi-modal-upsell-discount-value")&&(document.querySelector("#_rsi-modal-upsell-discount-value").value=0);function e(){document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-price").innerHTML="",document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-compare-at-price").innerHTML=""}var a=_rsi.upsells.upselledProduct;if(!1===i)return document.querySelector('#_rsi-cod-form-modal-upsell input[name="id"]').value="false",void e();if(document.querySelector('#_rsi-cod-form-modal-upsell input[name="id"]').value=i.availableForSale?i.id:"false",i.availableForSale){var n=(n=parseInt(document.querySelector("#_rsi-modal-upsell-quantity-input").value))||1;let e=100*parseFloat(i.price),t=i.compareAtPrice?100*parseFloat(i.compareAtPrice):0,r=!1,o=0;if(a.uData&&a.uData.ds&&("fixed"==a.uData.ds.t?a.uData.ds.v<=e&&(o=a.uData.ds.v):"percentage"==a.uData.ds.t&&(o=Math.floor(e*(a.uData.ds.v/1e4))),0<o&&(r=a.uData.ds,t=e,e-=o,document.querySelector("#_rsi-modal-upsell-discount-value")&&(document.querySelector("#_rsi-modal-upsell-discount-value").value=o*n))),e*=n,t*=n,document.querySelector("#_rsi-modal-upsell-total-price")&&(t&&0<o?document.querySelector("#_rsi-modal-upsell-total-price").value=Math.round(t):document.querySelector("#_rsi-modal-upsell-total-price").value=Math.round(e)),document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-price").innerHTML=_rsi.u.formatMoney(e,"amount_with_comma_separator",!1,!0),t?document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-compare-at-price").innerHTML=_rsi.u.formatMoney(t,"amount_with_comma_separator",!1,!0):document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-compare-at-price").innerHTML="",r){let e="";"fixed"==a.uData.ds.t?e=_rsi.u.formatMoney(o*n,"amount_with_comma_separator",!1,!0):"percentage"==a.uData.ds.t&&(e=Math.floor(a.uData.ds.v/100)+"%");n="- {discount}";a.uData.ds.pText&&(n=a.uData.ds.pText),n=n.replace("{discount}",e),document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-discount-plaque").innerHTML=n,document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-discount-plaque").style.background=_rsi.s.upsells.addButton.style.bgColor,document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-discount-plaque").style.color=_rsi.s.upsells.addButton.style.color,a.uData.ds.pBgC&&(document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-discount-plaque").style.background=a.uData.ds.pBgC),a.uData.ds.pC&&(document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-discount-plaque").style.color=a.uData.ds.pC),a.uData.ds.pBW&&(document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-discount-plaque").style.borderWidth=a.uData.ds.pBW+"px",document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-discount-plaque").style.borderStyle="solid"),a.uData.ds.pBC&&(document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-discount-plaque").style.borderColor=a.uData.ds.pBC),document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-discount-plaque").style.boxShadow="rgba(0, 0, 0, 0.1) 0px 2px 5px 0px"}else document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-discount-plaque").innerHTML="";s||document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-images-slider")&&swiffyslider&&(i.image?i.image.originalSrc&&(document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-images-slider .slider-container > div:first-child > img").src=i.image.originalSrc,swiffyslider.slideTo(document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-images-slider"),0)):(document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-images-slider .slider-container > div:first-child > img").src=a.images[0].url,swiffyslider.slideTo(document.querySelector("#_rsi-cod-form-modal-upsell ._rsi-modal-upsell-images-slider"),0))),_rsi.form.updateCurrencies()}else e()},initQuantitySelector:function(){_rsi.s.upsells.showQuantitySelector&&(document.querySelector("#_rsi-modal-remove-quantity-button-upsell")&&document.querySelector("#_rsi-modal-remove-quantity-button-upsell").addEventListener("click",function(e){e.preventDefault(),_rsi.upsells.onQuantityChange("remove")}),document.querySelector("#_rsi-modal-add-quantity-button-upsell")&&document.querySelector("#_rsi-modal-add-quantity-button-upsell").addEventListener("click",function(e){e.preventDefault(),_rsi.upsells.onQuantityChange("add")}))},countdownTimerId:null,initCountdown:function(e){var t,r,o,i=_rsi.upsells.upselledProduct;i.uData.cs&&document.querySelector("._rsi-modal-upsell-countdown")&&(_rsi.upsells.countdownTimerId&&clearInterval(_rsi.upsells.countdownTimerId),0<i.uData.ctdn&&(t=i.uData.ctdn,o="",i.uData.ctdnT&&(o+='<span class="_rsi-modal-upsell-countdown-title">'+i.uData.ctdnT+"</span>"),r="rgba(0,0,0,1)",i.uData.ctdnC&&(r=i.uData.ctdnC),o+='<div class="_rsi-modal-upsell-countdown-container" style="color: '+r+'"><span class="_rsi-modal-upsell-countdown-hours"></span><span class="_rsi-modal-upsell-countdown-minutes"></span><span class="_rsi-modal-upsell-countdown-seconds"></span></div>',document.querySelector("._rsi-modal-upsell-countdown").innerHTML=o,o=function(e){if(document.querySelector("._rsi-modal-upsell-countdown-hours")){if(e||--t,0==t)return clearInterval(_rsi.upsells.countdownTimerId),void _rsi.upsells.onClose();e=function(e){e=Number(e);var t=Math.floor(e/3600)+"",r=Math.floor(e%3600/60)+"",e=Math.floor(e%3600%60)+"";return{h:t=1==t.length?"0"+t:t,m:r=1==r.length?"0"+r:r,s:e=1==e.length?"0"+e:e}}(t);document.querySelector("._rsi-modal-upsell-countdown-hours").innerHTML=e.h,document.querySelector("._rsi-modal-upsell-countdown-minutes").innerHTML=e.m,document.querySelector("._rsi-modal-upsell-countdown-seconds").innerHTML=e.s}},e||(_rsi.upsells.countdownTimerId=setInterval(o,1e3)),o(!0)))},onQuantityChange:function(e){var t=(t=parseInt(document.querySelector("#_rsi-modal-upsell-quantity-input").value))||1;"add"==e?t++:"remove"==e&&t--,0<t&&(document.querySelector("#_rsi-modal-upsell-quantity-input").value=t,document.querySelector("._rsi-modal-upsell ._rsi-modal-upsell-quantity-shower").innerHTML=t+"",_rsi.upsells.onOptionChange())},rerunUpsell:function(){try{var t=!1,r=!1;return _rsi.upsells.isPostPurchase&&_rsi.upsells.postPurchaseFormData&&_rsi.upsells.upselledProduct&&_rsi.upsells.cachedUpsellResult[_rsi.form.mode]&&1<_rsi.upsells.cachedUpsellResult[_rsi.form.mode].products.length&&_rsi.upsells.cachedUpsellResult[_rsi.form.mode].products.forEach(e=>{e.uData.id==_rsi.upsells.upselledProduct.uData.id&&(e.isAlreadyUpselled&&(r=!0),e.isAlreadyUpselled=!0),e.isAlreadyUpselled||(t=!0)}),r&&(t=!1),t}catch(e){console.log(e),_rsi.u.sendReport({msg:"Error on rerunUpsell. Error: "+e})}},onClose:function(e){if(e&&e.preventDefault(),_rsi.upsells.upselledProduct&&_rsi.upsells.discardedProductIds.push(_rsi.upsells.upselledProduct.id),!_rsi.upsells.rerunUpsell())return _rsi.upsells.isPostPurchase&&_rsi.upsells.postPurchaseFormData?(_rsi.s.form.isEmbedded&&document.querySelector("#_rsi-cod-form-modal").classList.remove("_rsi-cod-form-modal-open"),_rsi.tracking.eventsHanlders.purchaseEventId&&(_rsi.upsells.postPurchaseFormData.trackData.purchaseEventId=_rsi.tracking.eventsHanlders.purchaseEventId),void _rsi.form.onSubmit(!1,!0,_rsi.upsells.postPurchaseFormData,!0)):void(_rsi.upsells.prePurchaseCart?_rsi.form.open(!1,!0,!1,_rsi.upsells.prePurchaseCart):_rsi.form.open(!1,!0));_rsi.upsells.open(_rsi.upsells.postPurchaseFormData,!1)},onSubmit:function(e){var o=!1,i=!1,s=!1,t=!1;_rsi.upsells.prePurchaseMetricData=!1,document.querySelector("#_rsi-modal-upsell-discount-value")&&(o=parseInt(document.querySelector("#_rsi-modal-upsell-discount-value").value)),document.querySelector("#_rsi-modal-upsell-id")&&(t=parseInt(document.querySelector("#_rsi-modal-upsell-id").value)),document.querySelector("#_rsi-modal-upsell-total-price")&&(s=parseInt(document.querySelector("#_rsi-modal-upsell-total-price").value));function a(e){_rsi.upsells.isPostPurchase?_rsi.upsells.onClose():(o&&i&&_rsi.form.discounts.codesApplied.push({text:_rsi.upsells.defaultCodeText,amount:o,type:"fixed_amount"}),_rsi.form.open(!1,!0,!1,e))}if("noThanks"!=e){var n=document.querySelector('#_rsi-cod-form-modal-upsell [name="id"]').value,c=document.querySelector('#_rsi-cod-form-modal-upsell [name="quantity"]').value,l=document.querySelector('#_rsi-cod-form-modal-upsell [name="free_shipping"]').value;if(n&&"false"!=n){var e={},r=c,d=n;try{var u=_rsi.cart;_rsi.upsells.prePurchaseCart&&(u=_rsi.upsells.prePurchaseCart);var m=!1,r=parseInt(r);u.items.forEach(function(e,t){m||e.variant_id+""==n&&(r+=e.quantity,d=e.key,m=!0)})}catch(e){_rsi.u.sendReport({msg:"Error while calculating upsell quantity. Error: "+e})}e.updates={},e.updates[d+""]=r,_rsi.s.form.isEmbedded&&document.querySelector("#_rsi-cod-form-modal").classList.remove("_rsi-cod-form-modal-open");var _={id:t,revenue:s,discountValue:o,isPostPurchase:!!_rsi.upsells.isPostPurchase,variantId:n};if(_rsi.s.form.currentPage="loading",_rsi.form.build(),_rsi.upsells.isPostPurchase&&_rsi.upsells.postPurchaseFormData){t=(new Date).getTime();_rsi.upsells.postPurchaseFormData.formData.push({name:"item_variant_id[upsell_"+t+"]",value:n}),_rsi.upsells.postPurchaseFormData.formData.push({name:"item_quantity[upsell_"+t+"]",value:c}),_rsi.upsells.postPurchaseFormData.formData.push({name:"metrics_upsell_1_click_data[upsell_"+t+"]",value:JSON.stringify(_)}),"true"==l&&_rsi.upsells.postPurchaseFormData.formData.push({name:"apply_free_shipping_to_upsell",value:"true"});var p=!1;return(_rsi.upsells.postPurchaseFormData.formData.forEach(function(e){-1<e.name.indexOf("qty_offer_")&&(p=!0)}),p)?(_rsi.form.discounts.codesApplied.push({text:_rsi.upsells.defaultCodeText,amount:o,type:"fixed_amount"}),_rsi.cart.original_total_price+=s,_rsi.upsells.postPurchaseFormData=_rsi.form.getFormData(_rsi.upsells.postPurchaseFormData.formData),void a()):(_rsi.cart.original_total_price+=s,_rsi.form.discounts.codesApplied.push({text:_rsi.upsells.defaultCodeText,amount:o,type:"fixed_amount"}),_rsi.upsells.postPurchaseFormData=_rsi.form.getFormData(_rsi.upsells.postPurchaseFormData.formData),void a())}_rsi.u.ajax("POST",_rsi.rootShopifyRoute+"cart/update.js",JSON.stringify(e),function(e){if(i=!0,e=JSON.parse(e),_rsi.upsells.isPostPurchase&&_rsi.upsells.postPurchaseFormData){var t=(new Date).getTime();_rsi.upsells.postPurchaseFormData.formData.push({name:"item_variant_id[upsell_"+t+"]",value:n}),_rsi.upsells.postPurchaseFormData.formData.push({name:"item_quantity[upsell_"+t+"]",value:c}),_rsi.upsells.postPurchaseFormData.formData.push({name:"metrics_upsell_1_click_data[upsell_"+t+"]",value:JSON.stringify(_)}),"true"==l&&_rsi.upsells.postPurchaseFormData.formData.push({name:"apply_free_shipping_to_upsell",value:"true"});var r=!1;if(_rsi.upsells.postPurchaseFormData.formData.forEach(function(e){-1<e.name.indexOf("qty_offer_")&&(r=!0)}),r)return _rsi.form.discounts.codesApplied.push({text:_rsi.upsells.defaultCodeText,amount:o,type:"fixed_amount"}),_rsi.cart.original_total_price+=s,_rsi.upsells.postPurchaseFormData=_rsi.form.getFormData(_rsi.upsells.postPurchaseFormData.formData),void a();_rsi.cartManager.getCart(!0,function(e){_rsi.form.discounts.codesApplied.push({text:_rsi.upsells.defaultCodeText,amount:o,type:"fixed_amount"}),_rsi.upsells.postPurchaseFormData=_rsi.form.getFormData(_rsi.upsells.postPurchaseFormData.formData),a()},!1,e)}else _rsi.upsells.prePurchaseMetricData=_,a()},function(e){a()},{"Content-Type":"application/json"},!0)}else _rsi.upsells.prePurchaseCart?a(_rsi.upsells.prePurchaseCart):a()}else _rsi.upsells.onClose()},updateCacheDataForCart:function(e){try{var t;_rsi.upsells.cachedUpsellData[_rsi.form.mode]={products:[],shop:Shopify.shop},e.items.forEach(function(e){_rsi.upsells.cachedUpsellData[_rsi.form.mode].products.push({id:e.product_id,variantId:e.variant_id})}),_rsi.form.quantityOffers.currentOffer&&(t=_rsi.form.quantityOffers.calculateSelectedOfferData(),_rsi.upsells.cachedUpsellData[_rsi.form.mode]={products:[],shop:Shopify.shop},Object.keys(t.variants).forEach(e=>{_rsi.upsells.cachedUpsellData[_rsi.form.mode].products.push({id:_rsi.form.quantityOffers.productCache.id,variantId:e})}))}catch(e){console.log(e)}}}},"interactive"===document.readyState||"complete"===document.readyState?_rsi.init():document.addEventListener("DOMContentLoaded",_rsi.init));